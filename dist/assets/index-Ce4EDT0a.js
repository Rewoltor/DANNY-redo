function z_(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function U_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={exports:{}},zl={},wm={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Us=Symbol.for("react.element"),B_=Symbol.for("react.portal"),$_=Symbol.for("react.fragment"),H_=Symbol.for("react.strict_mode"),W_=Symbol.for("react.profiler"),K_=Symbol.for("react.provider"),G_=Symbol.for("react.context"),Q_=Symbol.for("react.forward_ref"),q_=Symbol.for("react.suspense"),X_=Symbol.for("react.memo"),Y_=Symbol.for("react.lazy"),td=Symbol.iterator;function J_(t){return t===null||typeof t!="object"?null:(t=td&&t[td]||t["@@iterator"],typeof t=="function"?t:null)}var Em={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},xm=Object.assign,Sm={};function mi(t,e,n){this.props=t,this.context=e,this.refs=Sm,this.updater=n||Em}mi.prototype.isReactComponent={};mi.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mi.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tm(){}Tm.prototype=mi.prototype;function Nc(t,e,n){this.props=t,this.context=e,this.refs=Sm,this.updater=n||Em}var Dc=Nc.prototype=new Tm;Dc.constructor=Nc;xm(Dc,mi.prototype);Dc.isPureReactComponent=!0;var nd=Array.isArray,Im=Object.prototype.hasOwnProperty,Vc={current:null},Cm={key:!0,ref:!0,__self:!0,__source:!0};function km(t,e,n){var r,i={},s=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(s=""+e.key),e)Im.call(e,r)&&!Cm.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var u=Array(a),h=0;h<a;h++)u[h]=arguments[h+2];i.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Us,type:t,key:s,ref:l,props:i,_owner:Vc.current}}function Z_(t,e){return{$$typeof:Us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Us}function e0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rd=/\/+/g;function Ma(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e0(""+t.key):e.toString(36)}function Mo(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Us:case B_:l=!0}}if(l)return l=t,i=i(l),t=r===""?"."+Ma(l,0):r,nd(i)?(n="",t!=null&&(n=t.replace(rd,"$&/")+"/"),Mo(i,e,n,"",function(h){return h})):i!=null&&(jc(i)&&(i=Z_(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(rd,"$&/")+"/")+t)),e.push(i)),1;if(l=0,r=r===""?".":r+":",nd(t))for(var a=0;a<t.length;a++){s=t[a];var u=r+Ma(s,a);l+=Mo(s,e,n,u,i)}else if(u=J_(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=r+Ma(s,a++),l+=Mo(s,e,n,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fo(t,e,n){if(t==null)return t;var r=[],i=0;return Mo(t,r,"","",function(s){return e.call(n,s,i++)}),r}function t0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var st={current:null},Oo={transition:null},n0={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:Oo,ReactCurrentOwner:Vc};Y.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!jc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=mi;Y.Fragment=$_;Y.Profiler=W_;Y.PureComponent=Nc;Y.StrictMode=H_;Y.Suspense=q_;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n0;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=xm({},t.props),i=t.key,s=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,l=Vc.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)Im.call(e,u)&&!Cm.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var h=0;h<u;h++)a[h]=arguments[h+2];r.children=a}return{$$typeof:Us,type:t.type,key:i,ref:s,props:r,_owner:l}};Y.createContext=function(t){return t={$$typeof:G_,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K_,_context:t},t.Consumer=t};Y.createElement=km;Y.createFactory=function(t){var e=km.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Q_,render:t}};Y.isValidElement=jc;Y.lazy=function(t){return{$$typeof:Y_,_payload:{_status:-1,_result:t},_init:t0}};Y.memo=function(t,e){return{$$typeof:X_,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Oo.transition;Oo.transition={};try{t()}finally{Oo.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return st.current.useCallback(t,e)};Y.useContext=function(t){return st.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return st.current.useDeferredValue(t)};Y.useEffect=function(t,e){return st.current.useEffect(t,e)};Y.useId=function(){return st.current.useId()};Y.useImperativeHandle=function(t,e,n){return st.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return st.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return st.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return st.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return st.current.useReducer(t,e,n)};Y.useRef=function(t){return st.current.useRef(t)};Y.useState=function(t){return st.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return st.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return st.current.useTransition()};Y.version="18.2.0";wm.exports=Y;var j=wm.exports;const r0=U_(j),i0=z_({__proto__:null,default:r0},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s0=j,o0=Symbol.for("react.element"),l0=Symbol.for("react.fragment"),a0=Object.prototype.hasOwnProperty,u0=s0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c0={key:!0,ref:!0,__self:!0,__source:!0};function Am(t,e,n){var r,i={},s=null,l=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)a0.call(e,r)&&!c0.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:o0,type:t,key:s,ref:l,props:i,_owner:u0.current}}zl.Fragment=l0;zl.jsx=Am;zl.jsxs=Am;_m.exports=zl;var d=_m.exports,Pm={exports:{}},Et={},Rm={exports:{}},Nm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var K=B.length;B.push(G);e:for(;0<K;){var re=K-1>>>1,ye=B[re];if(0<i(ye,G))B[re]=G,B[K]=ye,K=re;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],K=B.pop();if(K!==G){B[0]=K;e:for(var re=0,ye=B.length,Zt=ye>>>1;re<Zt;){var at=2*(re+1)-1,Zn=B[at],Pt=at+1,mn=B[Pt];if(0>i(Zn,K))Pt<ye&&0>i(mn,Zn)?(B[re]=mn,B[Pt]=K,re=Pt):(B[re]=Zn,B[at]=K,re=at);else if(Pt<ye&&0>i(mn,K))B[re]=mn,B[Pt]=K,re=Pt;else break e}}return G}function i(B,G){var K=B.sortIndex-G.sortIndex;return K!==0?K:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],h=[],p=1,g=null,m=3,A=!1,P=!1,R=!1,b=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(B){for(var G=n(h);G!==null;){if(G.callback===null)r(h);else if(G.startTime<=B)r(h),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(h)}}function D(B){if(R=!1,C(B),!P)if(n(u)!==null)P=!0,fe(M);else{var G=n(h);G!==null&&Jn(D,G.startTime-B)}}function M(B,G){P=!1,R&&(R=!1,I(v),v=-1),A=!0;var K=m;try{for(C(G),g=n(u);g!==null&&(!(g.expirationTime>G)||B&&!E());){var re=g.callback;if(typeof re=="function"){g.callback=null,m=g.priorityLevel;var ye=re(g.expirationTime<=G);G=t.unstable_now(),typeof ye=="function"?g.callback=ye:g===n(u)&&r(u),C(G)}else r(u);g=n(u)}if(g!==null)var Zt=!0;else{var at=n(h);at!==null&&Jn(D,at.startTime-G),Zt=!1}return Zt}finally{g=null,m=K,A=!1}}var F=!1,x=null,v=-1,S=5,_=-1;function E(){return!(t.unstable_now()-_<S)}function k(){if(x!==null){var B=t.unstable_now();_=B;var G=!0;try{G=x(!0,B)}finally{G?T():(F=!1,x=null)}}else F=!1}var T;if(typeof w=="function")T=function(){w(k)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ge=J.port2;J.port1.onmessage=k,T=function(){ge.postMessage(null)}}else T=function(){b(k,0)};function fe(B){x=B,F||(F=!0,T())}function Jn(B,G){v=b(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){P||A||(P=!0,fe(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var K=m;m=G;try{return B()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=m;m=B;try{return G()}finally{m=K}},t.unstable_scheduleCallback=function(B,G,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,B){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=K+ye,B={id:p++,callback:G,priorityLevel:B,startTime:K,expirationTime:ye,sortIndex:-1},K>re?(B.sortIndex=K,e(h,B),n(u)===null&&B===n(h)&&(R?(I(v),v=-1):R=!0,Jn(D,K-re))):(B.sortIndex=ye,e(u,B),P||A||(P=!0,fe(M))),B},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(B){var G=m;return function(){var K=m;m=G;try{return B.apply(this,arguments)}finally{m=K}}}})(Nm);Rm.exports=Nm;var h0=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dm=j,wt=h0;function z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Vm=new Set,ds={};function Cr(t,e){ri(t,e),ri(t+"Capture",e)}function ri(t,e){for(ds[t]=e,t=0;t<e.length;t++)Vm.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,f0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,id={},sd={};function d0(t){return vu.call(sd,t)?!0:vu.call(id,t)?!1:f0.test(t)?sd[t]=!0:(id[t]=!0,!1)}function p0(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m0(t,e,n,r){if(e===null||typeof e>"u"||p0(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ot(t,e,n,r,i,s,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var bc=/[\-:]([a-z])/g;function Mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bc,Mc);Ke[e]=new ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bc,Mc);Ke[e]=new ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bc,Mc);Ke[e]=new ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new ot(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function Oc(t,e,n,r){var i=Ke.hasOwnProperty(e)?Ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m0(e,n,i,r)&&(n=null),r||i===null?d0(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pn=Dm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Or=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),jm=Symbol.for("react.provider"),bm=Symbol.for("react.context"),Fc=Symbol.for("react.forward_ref"),wu=Symbol.for("react.suspense"),Eu=Symbol.for("react.suspense_list"),zc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),od=Symbol.iterator;function Li(t){return t===null||typeof t!="object"?null:(t=od&&t[od]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,Oa;function Gi(t){if(Oa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oa=e&&e[1]||""}return`
`+Oa+t}var La=!1;function Fa(t,e){if(!t||La)return"";La=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){r=h}t.call(e.prototype)}else{try{throw Error()}catch(h){r=h}t()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),l=i.length-1,a=s.length-1;1<=l&&0<=a&&i[l]!==s[a];)a--;for(;1<=l&&0<=a;l--,a--)if(i[l]!==s[a]){if(l!==1||a!==1)do if(l--,a--,0>a||i[l]!==s[a]){var u=`
`+i[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{La=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gi(t):""}function g0(t){switch(t.tag){case 5:return Gi(t.type);case 16:return Gi("Lazy");case 13:return Gi("Suspense");case 19:return Gi("SuspenseList");case 0:case 2:case 15:return t=Fa(t.type,!1),t;case 11:return t=Fa(t.type.render,!1),t;case 1:return t=Fa(t.type,!0),t;default:return""}}function xu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Or:return"Fragment";case Mr:return"Portal";case _u:return"Profiler";case Lc:return"StrictMode";case wu:return"Suspense";case Eu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bm:return(t.displayName||"Context")+".Consumer";case jm:return(t._context.displayName||"Context")+".Provider";case Fc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case zc:return e=t.displayName||null,e!==null?e:xu(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return xu(t(e))}catch{}}return null}function y0(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xu(e);case 8:return e===Lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Om(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v0(t){var e=Om(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(l){r=""+l,s.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mo(t){t._valueTracker||(t._valueTracker=v0(t))}function Lm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Om(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ld(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Fm(t,e){e=e.checked,e!=null&&Oc(t,"checked",e,!1)}function Tu(t,e){Fm(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Iu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Iu(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ad(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Iu(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qi=Array.isArray;function Qr(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ud(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(z(92));if(Qi(n)){if(1<n.length)throw Error(z(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function zm(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ku(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var go,Bm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ps(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ji={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_0=["Webkit","ms","Moz","O"];Object.keys(Ji).forEach(function(t){_0.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ji[e]=Ji[t]})});function $m(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ji.hasOwnProperty(t)&&Ji[t]?(""+e).trim():e+"px"}function Hm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=$m(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var w0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(w0[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(z(62))}}function Pu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nu=null,qr=null,Xr=null;function hd(t){if(t=Hs(t)){if(typeof Nu!="function")throw Error(z(280));var e=t.stateNode;e&&(e=Wl(e),Nu(t.stateNode,t.type,e))}}function Wm(t){qr?Xr?Xr.push(t):Xr=[t]:qr=t}function Km(){if(qr){var t=qr,e=Xr;if(Xr=qr=null,hd(t),e)for(t=0;t<e.length;t++)hd(e[t])}}function Gm(t,e){return t(e)}function Qm(){}var za=!1;function qm(t,e,n){if(za)return t(e,n);za=!0;try{return Gm(t,e,n)}finally{za=!1,(qr!==null||Xr!==null)&&(Qm(),Km())}}function ms(t,e){var n=t.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(z(231,e,typeof n));return n}var Du=!1;if(un)try{var Fi={};Object.defineProperty(Fi,"passive",{get:function(){Du=!0}}),window.addEventListener("test",Fi,Fi),window.removeEventListener("test",Fi,Fi)}catch{Du=!1}function E0(t,e,n,r,i,s,l,a,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(n,h)}catch(p){this.onError(p)}}var Zi=!1,el=null,tl=!1,Vu=null,x0={onError:function(t){Zi=!0,el=t}};function S0(t,e,n,r,i,s,l,a,u){Zi=!1,el=null,E0.apply(x0,arguments)}function T0(t,e,n,r,i,s,l,a,u){if(S0.apply(this,arguments),Zi){if(Zi){var h=el;Zi=!1,el=null}else throw Error(z(198));tl||(tl=!0,Vu=h)}}function kr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fd(t){if(kr(t)!==t)throw Error(z(188))}function I0(t){var e=t.alternate;if(!e){if(e=kr(t),e===null)throw Error(z(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return fd(i),t;if(s===r)return fd(i),e;s=s.sibling}throw Error(z(188))}if(n.return!==r.return)n=i,r=s;else{for(var l=!1,a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l){for(a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l)throw Error(z(189))}}if(n.alternate!==r)throw Error(z(190))}if(n.tag!==3)throw Error(z(188));return n.stateNode.current===n?t:e}function Ym(t){return t=I0(t),t!==null?Jm(t):null}function Jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jm(t);if(e!==null)return e;t=t.sibling}return null}var Zm=wt.unstable_scheduleCallback,dd=wt.unstable_cancelCallback,C0=wt.unstable_shouldYield,k0=wt.unstable_requestPaint,Ie=wt.unstable_now,A0=wt.unstable_getCurrentPriorityLevel,Bc=wt.unstable_ImmediatePriority,eg=wt.unstable_UserBlockingPriority,nl=wt.unstable_NormalPriority,P0=wt.unstable_LowPriority,tg=wt.unstable_IdlePriority,Ul=null,Gt=null;function R0(t){if(Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}}var Lt=Math.clz32?Math.clz32:V0,N0=Math.log,D0=Math.LN2;function V0(t){return t>>>=0,t===0?32:31-(N0(t)/D0|0)|0}var yo=64,vo=4194304;function qi(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~i;a!==0?r=qi(a):(s&=l,s!==0&&(r=qi(s)))}else l=n&~i,l!==0?r=qi(l):s!==0&&(r=qi(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Lt(e),i=1<<n,r|=t[n],e&=~i;return r}function j0(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function b0(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-Lt(s),a=1<<l,u=i[l];u===-1?(!(a&n)||a&r)&&(i[l]=j0(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function ju(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ng(){var t=yo;return yo<<=1,!(yo&4194240)&&(yo=64),t}function Ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Lt(e),t[e]=n}function M0(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Lt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function $c(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Lt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var se=0;function rg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ig,Hc,sg,og,lg,bu=!1,_o=[],Nn=null,Dn=null,Vn=null,gs=new Map,ys=new Map,In=[],O0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pd(t,e){switch(t){case"focusin":case"focusout":Nn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":Vn=null;break;case"pointerover":case"pointerout":gs.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(e.pointerId)}}function zi(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Hs(e),e!==null&&Hc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function L0(t,e,n,r,i){switch(e){case"focusin":return Nn=zi(Nn,t,e,n,r,i),!0;case"dragenter":return Dn=zi(Dn,t,e,n,r,i),!0;case"mouseover":return Vn=zi(Vn,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return gs.set(s,zi(gs.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ys.set(s,zi(ys.get(s)||null,t,e,n,r,i)),!0}return!1}function ag(t){var e=ar(t.target);if(e!==null){var n=kr(e);if(n!==null){if(e=n.tag,e===13){if(e=Xm(n),e!==null){t.blockedOn=e,lg(t.priority,function(){sg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ru=r,n.target.dispatchEvent(r),Ru=null}else return e=Hs(n),e!==null&&Hc(e),t.blockedOn=n,!1;e.shift()}return!0}function md(t,e,n){Lo(t)&&n.delete(e)}function F0(){bu=!1,Nn!==null&&Lo(Nn)&&(Nn=null),Dn!==null&&Lo(Dn)&&(Dn=null),Vn!==null&&Lo(Vn)&&(Vn=null),gs.forEach(md),ys.forEach(md)}function Ui(t,e){t.blockedOn===e&&(t.blockedOn=null,bu||(bu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,F0)))}function vs(t){function e(i){return Ui(i,t)}if(0<_o.length){Ui(_o[0],t);for(var n=1;n<_o.length;n++){var r=_o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Nn!==null&&Ui(Nn,t),Dn!==null&&Ui(Dn,t),Vn!==null&&Ui(Vn,t),gs.forEach(e),ys.forEach(e),n=0;n<In.length;n++)r=In[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<In.length&&(n=In[0],n.blockedOn===null);)ag(n),n.blockedOn===null&&In.shift()}var Yr=pn.ReactCurrentBatchConfig,il=!0;function z0(t,e,n,r){var i=se,s=Yr.transition;Yr.transition=null;try{se=1,Wc(t,e,n,r)}finally{se=i,Yr.transition=s}}function U0(t,e,n,r){var i=se,s=Yr.transition;Yr.transition=null;try{se=4,Wc(t,e,n,r)}finally{se=i,Yr.transition=s}}function Wc(t,e,n,r){if(il){var i=Mu(t,e,n,r);if(i===null)Ya(t,e,r,sl,n),pd(t,r);else if(L0(i,t,e,n,r))r.stopPropagation();else if(pd(t,r),e&4&&-1<O0.indexOf(t)){for(;i!==null;){var s=Hs(i);if(s!==null&&ig(s),s=Mu(t,e,n,r),s===null&&Ya(t,e,r,sl,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var sl=null;function Mu(t,e,n,r){if(sl=null,t=Uc(r),t=ar(t),t!==null)if(e=kr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return sl=t,null}function ug(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A0()){case Bc:return 1;case eg:return 4;case nl:case P0:return 16;case tg:return 536870912;default:return 16}default:return 16}}var kn=null,Kc=null,Fo=null;function cg(){if(Fo)return Fo;var t,e=Kc,n=e.length,r,i="value"in kn?kn.value:kn.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===i[s-r];r++);return Fo=i.slice(t,1<r?1-r:void 0)}function zo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wo(){return!0}function gd(){return!1}function xt(t){function e(n,r,i,s,l){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wo:gd,this.isPropagationStopped=gd,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=wo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=wo)},persist:function(){},isPersistent:wo}),e}var gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=xt(gi),$s=Ee({},gi,{view:0,detail:0}),B0=xt($s),Ba,$a,Bi,Bl=Ee({},$s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bi&&(Bi&&t.type==="mousemove"?(Ba=t.screenX-Bi.screenX,$a=t.screenY-Bi.screenY):$a=Ba=0,Bi=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),yd=xt(Bl),$0=Ee({},Bl,{dataTransfer:0}),H0=xt($0),W0=Ee({},$s,{relatedTarget:0}),Ha=xt(W0),K0=Ee({},gi,{animationName:0,elapsedTime:0,pseudoElement:0}),G0=xt(K0),Q0=Ee({},gi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q0=xt(Q0),X0=Ee({},gi,{data:0}),vd=xt(X0),Y0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ew(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z0[t])?!!e[t]:!1}function Qc(){return ew}var tw=Ee({},$s,{key:function(t){if(t.key){var e=Y0[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J0[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?zo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nw=xt(tw),rw=Ee({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=xt(rw),iw=Ee({},$s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),sw=xt(iw),ow=Ee({},gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),lw=xt(ow),aw=Ee({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),uw=xt(aw),cw=[9,13,27,32],qc=un&&"CompositionEvent"in window,es=null;un&&"documentMode"in document&&(es=document.documentMode);var hw=un&&"TextEvent"in window&&!es,hg=un&&(!qc||es&&8<es&&11>=es),wd=" ",Ed=!1;function fg(t,e){switch(t){case"keyup":return cw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Lr=!1;function fw(t,e){switch(t){case"compositionend":return dg(e);case"keypress":return e.which!==32?null:(Ed=!0,wd);case"textInput":return t=e.data,t===wd&&Ed?null:t;default:return null}}function dw(t,e){if(Lr)return t==="compositionend"||!qc&&fg(t,e)?(t=cg(),Fo=Kc=kn=null,Lr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hg&&e.locale!=="ko"?null:e.data;default:return null}}var pw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pw[t.type]:e==="textarea"}function pg(t,e,n,r){Wm(r),e=ol(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ts=null,_s=null;function mw(t){Ig(t,0)}function $l(t){var e=Ur(t);if(Lm(e))return t}function gw(t,e){if(t==="change")return e}var mg=!1;if(un){var Wa;if(un){var Ka="oninput"in document;if(!Ka){var Sd=document.createElement("div");Sd.setAttribute("oninput","return;"),Ka=typeof Sd.oninput=="function"}Wa=Ka}else Wa=!1;mg=Wa&&(!document.documentMode||9<document.documentMode)}function Td(){ts&&(ts.detachEvent("onpropertychange",gg),_s=ts=null)}function gg(t){if(t.propertyName==="value"&&$l(_s)){var e=[];pg(e,_s,t,Uc(t)),qm(mw,e)}}function yw(t,e,n){t==="focusin"?(Td(),ts=e,_s=n,ts.attachEvent("onpropertychange",gg)):t==="focusout"&&Td()}function vw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $l(_s)}function _w(t,e){if(t==="click")return $l(e)}function ww(t,e){if(t==="input"||t==="change")return $l(e)}function Ew(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var zt=typeof Object.is=="function"?Object.is:Ew;function ws(t,e){if(zt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!vu.call(e,i)||!zt(t[i],e[i]))return!1}return!0}function Id(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cd(t,e){var n=Id(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Id(n)}}function yg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vg(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xw(t){var e=vg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yg(n.ownerDocument.documentElement,n)){if(r!==null&&Xc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Cd(n,s);var l=Cd(n,r);i&&l&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sw=un&&"documentMode"in document&&11>=document.documentMode,Fr=null,Ou=null,ns=null,Lu=!1;function kd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Lu||Fr==null||Fr!==Zo(r)||(r=Fr,"selectionStart"in r&&Xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ns&&ws(ns,r)||(ns=r,r=ol(Ou,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Fr)))}function Eo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var zr={animationend:Eo("Animation","AnimationEnd"),animationiteration:Eo("Animation","AnimationIteration"),animationstart:Eo("Animation","AnimationStart"),transitionend:Eo("Transition","TransitionEnd")},Ga={},_g={};un&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Hl(t){if(Ga[t])return Ga[t];if(!zr[t])return t;var e=zr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _g)return Ga[t]=e[n];return t}var wg=Hl("animationend"),Eg=Hl("animationiteration"),xg=Hl("animationstart"),Sg=Hl("transitionend"),Tg=new Map,Ad="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){Tg.set(t,e),Cr(e,[t])}for(var Qa=0;Qa<Ad.length;Qa++){var qa=Ad[Qa],Tw=qa.toLowerCase(),Iw=qa[0].toUpperCase()+qa.slice(1);Qn(Tw,"on"+Iw)}Qn(wg,"onAnimationEnd");Qn(Eg,"onAnimationIteration");Qn(xg,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Sg,"onTransitionEnd");ri("onMouseEnter",["mouseout","mouseover"]);ri("onMouseLeave",["mouseout","mouseover"]);ri("onPointerEnter",["pointerout","pointerover"]);ri("onPointerLeave",["pointerout","pointerover"]);Cr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Cr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Cr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Cr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Cr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xi));function Pd(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,T0(r,e,void 0,t),t.currentTarget=null}function Ig(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],u=a.instance,h=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;Pd(i,a,h),s=u}else for(l=0;l<r.length;l++){if(a=r[l],u=a.instance,h=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;Pd(i,a,h),s=u}}}if(tl)throw t=Vu,tl=!1,Vu=null,t}function ce(t,e){var n=e[$u];n===void 0&&(n=e[$u]=new Set);var r=t+"__bubble";n.has(r)||(Cg(e,t,2,!1),n.add(r))}function Xa(t,e,n){var r=0;e&&(r|=4),Cg(n,t,r,e)}var xo="_reactListening"+Math.random().toString(36).slice(2);function Es(t){if(!t[xo]){t[xo]=!0,Vm.forEach(function(n){n!=="selectionchange"&&(Cw.has(n)||Xa(n,!1,t),Xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xo]||(e[xo]=!0,Xa("selectionchange",!1,e))}}function Cg(t,e,n,r){switch(ug(e)){case 1:var i=z0;break;case 4:i=U0;break;default:i=Wc}n=i.bind(null,e,n,t),i=void 0,!Du||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;a!==null;){if(l=ar(a),l===null)return;if(u=l.tag,u===5||u===6){r=s=l;continue e}a=a.parentNode}}r=r.return}qm(function(){var h=s,p=Uc(n),g=[];e:{var m=Tg.get(t);if(m!==void 0){var A=Gc,P=t;switch(t){case"keypress":if(zo(n)===0)break e;case"keydown":case"keyup":A=nw;break;case"focusin":P="focus",A=Ha;break;case"focusout":P="blur",A=Ha;break;case"beforeblur":case"afterblur":A=Ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=yd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=H0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=sw;break;case wg:case Eg:case xg:A=G0;break;case Sg:A=lw;break;case"scroll":A=B0;break;case"wheel":A=uw;break;case"copy":case"cut":case"paste":A=q0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=_d}var R=(e&4)!==0,b=!R&&t==="scroll",I=R?m!==null?m+"Capture":null:m;R=[];for(var w=h,C;w!==null;){C=w;var D=C.stateNode;if(C.tag===5&&D!==null&&(C=D,I!==null&&(D=ms(w,I),D!=null&&R.push(xs(w,D,C)))),b)break;w=w.return}0<R.length&&(m=new A(m,P,null,n,p),g.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",m&&n!==Ru&&(P=n.relatedTarget||n.fromElement)&&(ar(P)||P[cn]))break e;if((A||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,A?(P=n.relatedTarget||n.toElement,A=h,P=P?ar(P):null,P!==null&&(b=kr(P),P!==b||P.tag!==5&&P.tag!==6)&&(P=null)):(A=null,P=h),A!==P)){if(R=yd,D="onMouseLeave",I="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(R=_d,D="onPointerLeave",I="onPointerEnter",w="pointer"),b=A==null?m:Ur(A),C=P==null?m:Ur(P),m=new R(D,w+"leave",A,n,p),m.target=b,m.relatedTarget=C,D=null,ar(p)===h&&(R=new R(I,w+"enter",P,n,p),R.target=C,R.relatedTarget=b,D=R),b=D,A&&P)t:{for(R=A,I=P,w=0,C=R;C;C=Vr(C))w++;for(C=0,D=I;D;D=Vr(D))C++;for(;0<w-C;)R=Vr(R),w--;for(;0<C-w;)I=Vr(I),C--;for(;w--;){if(R===I||I!==null&&R===I.alternate)break t;R=Vr(R),I=Vr(I)}R=null}else R=null;A!==null&&Rd(g,m,A,R,!1),P!==null&&b!==null&&Rd(g,b,P,R,!0)}}e:{if(m=h?Ur(h):window,A=m.nodeName&&m.nodeName.toLowerCase(),A==="select"||A==="input"&&m.type==="file")var M=gw;else if(xd(m))if(mg)M=ww;else{M=vw;var F=yw}else(A=m.nodeName)&&A.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=_w);if(M&&(M=M(t,h))){pg(g,M,n,p);break e}F&&F(t,m,h),t==="focusout"&&(F=m._wrapperState)&&F.controlled&&m.type==="number"&&Iu(m,"number",m.value)}switch(F=h?Ur(h):window,t){case"focusin":(xd(F)||F.contentEditable==="true")&&(Fr=F,Ou=h,ns=null);break;case"focusout":ns=Ou=Fr=null;break;case"mousedown":Lu=!0;break;case"contextmenu":case"mouseup":case"dragend":Lu=!1,kd(g,n,p);break;case"selectionchange":if(Sw)break;case"keydown":case"keyup":kd(g,n,p)}var x;if(qc)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Lr?fg(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(hg&&n.locale!=="ko"&&(Lr||v!=="onCompositionStart"?v==="onCompositionEnd"&&Lr&&(x=cg()):(kn=p,Kc="value"in kn?kn.value:kn.textContent,Lr=!0)),F=ol(h,v),0<F.length&&(v=new vd(v,t,null,n,p),g.push({event:v,listeners:F}),x?v.data=x:(x=dg(n),x!==null&&(v.data=x)))),(x=hw?fw(t,n):dw(t,n))&&(h=ol(h,"onBeforeInput"),0<h.length&&(p=new vd("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:h}),p.data=x))}Ig(g,e)})}function xs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=ms(t,n),s!=null&&r.unshift(xs(t,s,i)),s=ms(t,e),s!=null&&r.push(xs(t,s,i))),t=t.return}return r}function Vr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rd(t,e,n,r,i){for(var s=e._reactName,l=[];n!==null&&n!==r;){var a=n,u=a.alternate,h=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&h!==null&&(a=h,i?(u=ms(n,s),u!=null&&l.unshift(xs(n,u,a))):i||(u=ms(n,s),u!=null&&l.push(xs(n,u,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var kw=/\r\n?/g,Aw=/\u0000|\uFFFD/g;function Nd(t){return(typeof t=="string"?t:""+t).replace(kw,`
`).replace(Aw,"")}function So(t,e,n){if(e=Nd(e),Nd(t)!==e&&n)throw Error(z(425))}function ll(){}var Fu=null,zu=null;function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,Pw=typeof clearTimeout=="function"?clearTimeout:void 0,Dd=typeof Promise=="function"?Promise:void 0,Rw=typeof queueMicrotask=="function"?queueMicrotask:typeof Dd<"u"?function(t){return Dd.resolve(null).then(t).catch(Nw)}:Bu;function Nw(t){setTimeout(function(){throw t})}function Ja(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vs(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vs(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var yi=Math.random().toString(36).slice(2),Kt="__reactFiber$"+yi,Ss="__reactProps$"+yi,cn="__reactContainer$"+yi,$u="__reactEvents$"+yi,Dw="__reactListeners$"+yi,Vw="__reactHandles$"+yi;function ar(t){var e=t[Kt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Kt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Vd(t);t!==null;){if(n=t[Kt])return n;t=Vd(t)}return e}t=n,n=t.parentNode}return null}function Hs(t){return t=t[Kt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(z(33))}function Wl(t){return t[Ss]||null}var Hu=[],Br=-1;function qn(t){return{current:t}}function he(t){0>Br||(t.current=Hu[Br],Hu[Br]=null,Br--)}function le(t,e){Br++,Hu[Br]=t.current,t.current=e}var $n={},et=qn($n),ft=qn(!1),yr=$n;function ii(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function dt(t){return t=t.childContextTypes,t!=null}function al(){he(ft),he(et)}function jd(t,e,n){if(et.current!==$n)throw Error(z(168));le(et,e),le(ft,n)}function kg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(z(108,y0(t)||"Unknown",i));return Ee({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,yr=et.current,le(et,t),le(ft,ft.current),!0}function bd(t,e,n){var r=t.stateNode;if(!r)throw Error(z(169));n?(t=kg(t,e,yr),r.__reactInternalMemoizedMergedChildContext=t,he(ft),he(et),le(et,t)):he(ft),le(ft,n)}var nn=null,Kl=!1,Za=!1;function Ag(t){nn===null?nn=[t]:nn.push(t)}function jw(t){Kl=!0,Ag(t)}function Xn(){if(!Za&&nn!==null){Za=!0;var t=0,e=se;try{var n=nn;for(se=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,Kl=!1}catch(i){throw nn!==null&&(nn=nn.slice(t+1)),Zm(Bc,Xn),i}finally{se=e,Za=!1}}return null}var $r=[],Hr=0,cl=null,hl=0,St=[],Tt=0,vr=null,rn=1,sn="";function sr(t,e){$r[Hr++]=hl,$r[Hr++]=cl,cl=t,hl=e}function Pg(t,e,n){St[Tt++]=rn,St[Tt++]=sn,St[Tt++]=vr,vr=t;var r=rn;t=sn;var i=32-Lt(r)-1;r&=~(1<<i),n+=1;var s=32-Lt(e)+i;if(30<s){var l=i-i%5;s=(r&(1<<l)-1).toString(32),r>>=l,i-=l,rn=1<<32-Lt(e)+i|n<<i|r,sn=s+t}else rn=1<<s|n<<i|r,sn=t}function Yc(t){t.return!==null&&(sr(t,1),Pg(t,1,0))}function Jc(t){for(;t===cl;)cl=$r[--Hr],$r[Hr]=null,hl=$r[--Hr],$r[Hr]=null;for(;t===vr;)vr=St[--Tt],St[Tt]=null,sn=St[--Tt],St[Tt]=null,rn=St[--Tt],St[Tt]=null}var _t=null,vt=null,pe=!1,Vt=null;function Rg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Md(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,_t=t,vt=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,_t=t,vt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vr!==null?{id:rn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,_t=t,vt=null,!0):!1;default:return!1}}function Wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ku(t){if(pe){var e=vt;if(e){var n=e;if(!Md(t,e)){if(Wu(t))throw Error(z(418));e=jn(n.nextSibling);var r=_t;e&&Md(t,e)?Rg(r,n):(t.flags=t.flags&-4097|2,pe=!1,_t=t)}}else{if(Wu(t))throw Error(z(418));t.flags=t.flags&-4097|2,pe=!1,_t=t}}}function Od(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;_t=t}function To(t){if(t!==_t)return!1;if(!pe)return Od(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uu(t.type,t.memoizedProps)),e&&(e=vt)){if(Wu(t))throw Ng(),Error(z(418));for(;e;)Rg(t,e),e=jn(e.nextSibling)}if(Od(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){vt=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}vt=null}}else vt=_t?jn(t.stateNode.nextSibling):null;return!0}function Ng(){for(var t=vt;t;)t=jn(t.nextSibling)}function si(){vt=_t=null,pe=!1}function Zc(t){Vt===null?Vt=[t]:Vt.push(t)}var bw=pn.ReactCurrentBatchConfig;function Nt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var fl=qn(null),dl=null,Wr=null,eh=null;function th(){eh=Wr=dl=null}function nh(t){var e=fl.current;he(fl),t._currentValue=e}function Gu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jr(t,e){dl=t,eh=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ht=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},Wr===null){if(dl===null)throw Error(z(308));Wr=t,dl.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return e}var ur=null;function rh(t){ur===null?ur=[t]:ur.push(t)}function Dg(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,rh(e)):(n.next=i.next,i.next=n),e.interleaved=n,hn(t,r)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function ih(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,hn(t,n)}return i=r.interleaved,i===null?(e.next=e,rh(r)):(e.next=i.next,i.next=e),r.interleaved=e,hn(t,n)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}function Ld(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=l:s=s.next=l,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var i=t.updateQueue;Tn=!1;var s=i.firstBaseUpdate,l=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,h=u.next;u.next=null,l===null?s=h:l.next=h,l=u;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=h:a.next=h,p.lastBaseUpdate=u))}if(s!==null){var g=i.baseState;l=0,p=h=u=null,a=s;do{var m=a.lane,A=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:A,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var P=t,R=a;switch(m=e,A=n,R.tag){case 1:if(P=R.payload,typeof P=="function"){g=P.call(A,g,m);break e}g=P;break e;case 3:P.flags=P.flags&-65537|128;case 0:if(P=R.payload,m=typeof P=="function"?P.call(A,g,m):P,m==null)break e;g=Ee({},g,m);break e;case 2:Tn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else A={eventTime:A,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(h=p=A,u=g):p=p.next=A,l|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(p===null&&(u=g),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do l|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);wr|=l,t.lanes=l,t.memoizedState=g}}function Fd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(z(191,i));i.call(r)}}}var jg=new Dm.Component().refs;function Qu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gl={isMounted:function(t){return(t=t._reactInternals)?kr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),i=On(t),s=on(r,i);s.payload=e,n!=null&&(s.callback=n),e=bn(t,s,i),e!==null&&(Ft(e,t,i,r),Uo(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),i=On(t),s=on(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=bn(t,s,i),e!==null&&(Ft(e,t,i,r),Uo(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=On(t),i=on(n,r);i.tag=2,e!=null&&(i.callback=e),e=bn(t,i,r),e!==null&&(Ft(e,t,r,n),Uo(e,t,r))}};function zd(t,e,n,r,i,s,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,l):e.prototype&&e.prototype.isPureReactComponent?!ws(n,r)||!ws(i,s):!0}function bg(t,e,n){var r=!1,i=$n,s=e.contextType;return typeof s=="object"&&s!==null?s=kt(s):(i=dt(e)?yr:et.current,r=e.contextTypes,s=(r=r!=null)?ii(t,i):$n),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Ud(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gl.enqueueReplaceState(e,e.state,null)}function qu(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=jg,ih(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kt(s):(s=dt(e)?yr:et.current,i.context=ii(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Qu(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Gl.enqueueReplaceState(i,i.state,null),pl(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function $i(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(z(309));var r=n.stateNode}if(!r)throw Error(z(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(l){var a=i.refs;a===jg&&(a=i.refs={}),l===null?delete a[s]:a[s]=l},e._stringRef=s,e)}if(typeof t!="string")throw Error(z(284));if(!n._owner)throw Error(z(290,t))}return t}function Io(t,e){throw t=Object.prototype.toString.call(e),Error(z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bd(t){var e=t._init;return e(t._payload)}function Mg(t){function e(I,w){if(t){var C=I.deletions;C===null?(I.deletions=[w],I.flags|=16):C.push(w)}}function n(I,w){if(!t)return null;for(;w!==null;)e(I,w),w=w.sibling;return null}function r(I,w){for(I=new Map;w!==null;)w.key!==null?I.set(w.key,w):I.set(w.index,w),w=w.sibling;return I}function i(I,w){return I=Ln(I,w),I.index=0,I.sibling=null,I}function s(I,w,C){return I.index=C,t?(C=I.alternate,C!==null?(C=C.index,C<w?(I.flags|=2,w):C):(I.flags|=2,w)):(I.flags|=1048576,w)}function l(I){return t&&I.alternate===null&&(I.flags|=2),I}function a(I,w,C,D){return w===null||w.tag!==6?(w=ou(C,I.mode,D),w.return=I,w):(w=i(w,C),w.return=I,w)}function u(I,w,C,D){var M=C.type;return M===Or?p(I,w,C.props.children,D,C.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sn&&Bd(M)===w.type)?(D=i(w,C.props),D.ref=$i(I,w,C),D.return=I,D):(D=Go(C.type,C.key,C.props,null,I.mode,D),D.ref=$i(I,w,C),D.return=I,D)}function h(I,w,C,D){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=lu(C,I.mode,D),w.return=I,w):(w=i(w,C.children||[]),w.return=I,w)}function p(I,w,C,D,M){return w===null||w.tag!==7?(w=dr(C,I.mode,D,M),w.return=I,w):(w=i(w,C),w.return=I,w)}function g(I,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=ou(""+w,I.mode,C),w.return=I,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case po:return C=Go(w.type,w.key,w.props,null,I.mode,C),C.ref=$i(I,null,w),C.return=I,C;case Mr:return w=lu(w,I.mode,C),w.return=I,w;case Sn:var D=w._init;return g(I,D(w._payload),C)}if(Qi(w)||Li(w))return w=dr(w,I.mode,C,null),w.return=I,w;Io(I,w)}return null}function m(I,w,C,D){var M=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return M!==null?null:a(I,w,""+C,D);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case po:return C.key===M?u(I,w,C,D):null;case Mr:return C.key===M?h(I,w,C,D):null;case Sn:return M=C._init,m(I,w,M(C._payload),D)}if(Qi(C)||Li(C))return M!==null?null:p(I,w,C,D,null);Io(I,C)}return null}function A(I,w,C,D,M){if(typeof D=="string"&&D!==""||typeof D=="number")return I=I.get(C)||null,a(w,I,""+D,M);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case po:return I=I.get(D.key===null?C:D.key)||null,u(w,I,D,M);case Mr:return I=I.get(D.key===null?C:D.key)||null,h(w,I,D,M);case Sn:var F=D._init;return A(I,w,C,F(D._payload),M)}if(Qi(D)||Li(D))return I=I.get(C)||null,p(w,I,D,M,null);Io(w,D)}return null}function P(I,w,C,D){for(var M=null,F=null,x=w,v=w=0,S=null;x!==null&&v<C.length;v++){x.index>v?(S=x,x=null):S=x.sibling;var _=m(I,x,C[v],D);if(_===null){x===null&&(x=S);break}t&&x&&_.alternate===null&&e(I,x),w=s(_,w,v),F===null?M=_:F.sibling=_,F=_,x=S}if(v===C.length)return n(I,x),pe&&sr(I,v),M;if(x===null){for(;v<C.length;v++)x=g(I,C[v],D),x!==null&&(w=s(x,w,v),F===null?M=x:F.sibling=x,F=x);return pe&&sr(I,v),M}for(x=r(I,x);v<C.length;v++)S=A(x,I,v,C[v],D),S!==null&&(t&&S.alternate!==null&&x.delete(S.key===null?v:S.key),w=s(S,w,v),F===null?M=S:F.sibling=S,F=S);return t&&x.forEach(function(E){return e(I,E)}),pe&&sr(I,v),M}function R(I,w,C,D){var M=Li(C);if(typeof M!="function")throw Error(z(150));if(C=M.call(C),C==null)throw Error(z(151));for(var F=M=null,x=w,v=w=0,S=null,_=C.next();x!==null&&!_.done;v++,_=C.next()){x.index>v?(S=x,x=null):S=x.sibling;var E=m(I,x,_.value,D);if(E===null){x===null&&(x=S);break}t&&x&&E.alternate===null&&e(I,x),w=s(E,w,v),F===null?M=E:F.sibling=E,F=E,x=S}if(_.done)return n(I,x),pe&&sr(I,v),M;if(x===null){for(;!_.done;v++,_=C.next())_=g(I,_.value,D),_!==null&&(w=s(_,w,v),F===null?M=_:F.sibling=_,F=_);return pe&&sr(I,v),M}for(x=r(I,x);!_.done;v++,_=C.next())_=A(x,I,v,_.value,D),_!==null&&(t&&_.alternate!==null&&x.delete(_.key===null?v:_.key),w=s(_,w,v),F===null?M=_:F.sibling=_,F=_);return t&&x.forEach(function(k){return e(I,k)}),pe&&sr(I,v),M}function b(I,w,C,D){if(typeof C=="object"&&C!==null&&C.type===Or&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case po:e:{for(var M=C.key,F=w;F!==null;){if(F.key===M){if(M=C.type,M===Or){if(F.tag===7){n(I,F.sibling),w=i(F,C.props.children),w.return=I,I=w;break e}}else if(F.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sn&&Bd(M)===F.type){n(I,F.sibling),w=i(F,C.props),w.ref=$i(I,F,C),w.return=I,I=w;break e}n(I,F);break}else e(I,F);F=F.sibling}C.type===Or?(w=dr(C.props.children,I.mode,D,C.key),w.return=I,I=w):(D=Go(C.type,C.key,C.props,null,I.mode,D),D.ref=$i(I,w,C),D.return=I,I=D)}return l(I);case Mr:e:{for(F=C.key;w!==null;){if(w.key===F)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(I,w.sibling),w=i(w,C.children||[]),w.return=I,I=w;break e}else{n(I,w);break}else e(I,w);w=w.sibling}w=lu(C,I.mode,D),w.return=I,I=w}return l(I);case Sn:return F=C._init,b(I,w,F(C._payload),D)}if(Qi(C))return P(I,w,C,D);if(Li(C))return R(I,w,C,D);Io(I,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(I,w.sibling),w=i(w,C),w.return=I,I=w):(n(I,w),w=ou(C,I.mode,D),w.return=I,I=w),l(I)):n(I,w)}return b}var oi=Mg(!0),Og=Mg(!1),Ws={},Qt=qn(Ws),Ts=qn(Ws),Is=qn(Ws);function cr(t){if(t===Ws)throw Error(z(174));return t}function sh(t,e){switch(le(Is,e),le(Ts,t),le(Qt,Ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ku(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ku(e,t)}he(Qt),le(Qt,e)}function li(){he(Qt),he(Ts),he(Is)}function Lg(t){cr(Is.current);var e=cr(Qt.current),n=ku(e,t.type);e!==n&&(le(Ts,t),le(Qt,n))}function oh(t){Ts.current===t&&(he(Qt),he(Ts))}var ve=qn(0);function ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eu=[];function lh(){for(var t=0;t<eu.length;t++)eu[t]._workInProgressVersionPrimary=null;eu.length=0}var Bo=pn.ReactCurrentDispatcher,tu=pn.ReactCurrentBatchConfig,_r=0,we=null,Ne=null,be=null,gl=!1,rs=!1,Cs=0,Mw=0;function Qe(){throw Error(z(321))}function ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!zt(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,i,s){if(_r=s,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bo.current=t===null||t.memoizedState===null?zw:Uw,t=n(r,i),rs){s=0;do{if(rs=!1,Cs=0,25<=s)throw Error(z(301));s+=1,be=Ne=null,e.updateQueue=null,Bo.current=Bw,t=n(r,i)}while(rs)}if(Bo.current=yl,e=Ne!==null&&Ne.next!==null,_r=0,be=Ne=we=null,gl=!1,e)throw Error(z(300));return t}function ch(){var t=Cs!==0;return Cs=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return be===null?we.memoizedState=be=t:be=be.next=t,be}function At(){if(Ne===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ne.next;var e=be===null?we.memoizedState:be.next;if(e!==null)be=e,Ne=t;else{if(t===null)throw Error(z(310));Ne=t,t={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},be===null?we.memoizedState=be=t:be=be.next=t}return be}function ks(t,e){return typeof e=="function"?e(t):e}function nu(t){var e=At(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=Ne,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var l=i.next;i.next=s.next,s.next=l}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=l=null,u=null,h=s;do{var p=h.lane;if((_r&p)===p)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:t(r,h.action);else{var g={lane:p,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(a=u=g,l=r):u=u.next=g,we.lanes|=p,wr|=p}h=h.next}while(h!==null&&h!==s);u===null?l=r:u.next=a,zt(r,e.memoizedState)||(ht=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,we.lanes|=s,wr|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ru(t){var e=At(),n=e.queue;if(n===null)throw Error(z(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do s=t(s,l.action),l=l.next;while(l!==i);zt(s,e.memoizedState)||(ht=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Fg(){}function zg(t,e){var n=we,r=At(),i=e(),s=!zt(r.memoizedState,i);if(s&&(r.memoizedState=i,ht=!0),r=r.queue,hh($g.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||be!==null&&be.memoizedState.tag&1){if(n.flags|=2048,As(9,Bg.bind(null,n,r,i,e),void 0,null),Oe===null)throw Error(z(349));_r&30||Ug(n,e,i)}return i}function Ug(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bg(t,e,n,r){e.value=n,e.getSnapshot=r,Hg(e)&&Wg(t)}function $g(t,e,n){return n(function(){Hg(e)&&Wg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!zt(t,n)}catch{return!0}}function Wg(t){var e=hn(t,1);e!==null&&Ft(e,t,1,-1)}function $d(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:t},e.queue=t,t=t.dispatch=Fw.bind(null,we,t),[e.memoizedState,t]}function As(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kg(){return At().memoizedState}function $o(t,e,n,r){var i=Ht();we.flags|=t,i.memoizedState=As(1|e,n,void 0,r===void 0?null:r)}function Ql(t,e,n,r){var i=At();r=r===void 0?null:r;var s=void 0;if(Ne!==null){var l=Ne.memoizedState;if(s=l.destroy,r!==null&&ah(r,l.deps)){i.memoizedState=As(e,n,s,r);return}}we.flags|=t,i.memoizedState=As(1|e,n,s,r)}function Hd(t,e){return $o(8390656,8,t,e)}function hh(t,e){return Ql(2048,8,t,e)}function Gg(t,e){return Ql(4,2,t,e)}function Qg(t,e){return Ql(4,4,t,e)}function qg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4,4,qg.bind(null,e,t),n)}function fh(){}function Yg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zg(t,e,n){return _r&21?(zt(n,e)||(n=ng(),we.lanes|=n,wr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ht=!0),t.memoizedState=n)}function Ow(t,e){var n=se;se=n!==0&&4>n?n:4,t(!0);var r=tu.transition;tu.transition={};try{t(!1),e()}finally{se=n,tu.transition=r}}function ey(){return At().memoizedState}function Lw(t,e,n){var r=On(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ty(t))ny(e,n);else if(n=Dg(t,e,n,r),n!==null){var i=it();Ft(n,t,r,i),ry(n,e,r)}}function Fw(t,e,n){var r=On(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ty(t))ny(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var l=e.lastRenderedState,a=s(l,n);if(i.hasEagerState=!0,i.eagerState=a,zt(a,l)){var u=e.interleaved;u===null?(i.next=i,rh(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Dg(t,e,i,r),n!==null&&(i=it(),Ft(n,t,r,i),ry(n,e,r))}}function ty(t){var e=t.alternate;return t===we||e!==null&&e===we}function ny(t,e){rs=gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ry(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}var yl={readContext:kt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},zw={readContext:kt,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:Hd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$o(4194308,4,qg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var n=Ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lw.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:$d,useDebugValue:fh,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=$d(!1),e=t[0];return t=Ow.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,i=Ht();if(pe){if(n===void 0)throw Error(z(407));n=n()}else{if(n=e(),Oe===null)throw Error(z(349));_r&30||Ug(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Hd($g.bind(null,r,s,t),[t]),r.flags|=2048,As(9,Bg.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ht(),e=Oe.identifierPrefix;if(pe){var n=sn,r=rn;n=(r&~(1<<32-Lt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Cs++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Mw++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Uw={readContext:kt,useCallback:Yg,useContext:kt,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:nu,useRef:Kg,useState:function(){return nu(ks)},useDebugValue:fh,useDeferredValue:function(t){var e=At();return Zg(e,Ne.memoizedState,t)},useTransition:function(){var t=nu(ks)[0],e=At().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:zg,useId:ey,unstable_isNewReconciler:!1},Bw={readContext:kt,useCallback:Yg,useContext:kt,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:ru,useRef:Kg,useState:function(){return ru(ks)},useDebugValue:fh,useDeferredValue:function(t){var e=At();return Ne===null?e.memoizedState=t:Zg(e,Ne.memoizedState,t)},useTransition:function(){var t=ru(ks)[0],e=At().memoizedState;return[t,e]},useMutableSource:Fg,useSyncExternalStore:zg,useId:ey,unstable_isNewReconciler:!1};function ai(t,e){try{var n="",r=e;do n+=g0(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function iu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $w=typeof WeakMap=="function"?WeakMap:Map;function iy(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_l||(_l=!0,oc=r),Xu(t,e)},n}function sy(t,e,n){n=on(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Xu(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Xu(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Wd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $w;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=r1.bind(null,t,e,n),e.then(t,t))}function Kd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gd(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=on(-1,1),e.tag=2,bn(n,e,1))),n.lanes|=1),t)}var Hw=pn.ReactCurrentOwner,ht=!1;function rt(t,e,n,r){e.child=t===null?Og(e,null,n,r):oi(e,t.child,n,r)}function Qd(t,e,n,r,i){n=n.render;var s=e.ref;return Jr(e,i),r=uh(t,e,n,r,s,i),n=ch(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(pe&&n&&Yc(e),e.flags|=1,rt(t,e,r,i),e.child)}function qd(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!wh(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,oy(t,e,s,r,i)):(t=Go(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var l=s.memoizedProps;if(n=n.compare,n=n!==null?n:ws,n(l,r)&&t.ref===e.ref)return fn(t,e,i)}return e.flags|=1,t=Ln(s,r),t.ref=e.ref,t.return=e,e.child=t}function oy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(ws(s,r)&&t.ref===e.ref)if(ht=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(ht=!0);else return e.lanes=t.lanes,fn(t,e,i)}return Yu(t,e,n,r,i)}function ly(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Gr,yt),yt|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Gr,yt),yt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,le(Gr,yt),yt|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,le(Gr,yt),yt|=r;return rt(t,e,i,n),e.child}function ay(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yu(t,e,n,r,i){var s=dt(n)?yr:et.current;return s=ii(e,s),Jr(e,i),n=uh(t,e,n,r,s,i),r=ch(),t!==null&&!ht?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,fn(t,e,i)):(pe&&r&&Yc(e),e.flags|=1,rt(t,e,n,i),e.child)}function Xd(t,e,n,r,i){if(dt(n)){var s=!0;ul(e)}else s=!1;if(Jr(e,i),e.stateNode===null)Ho(t,e),bg(e,n,r),qu(e,n,r,i),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=kt(h):(h=dt(n)?yr:et.current,h=ii(e,h));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||u!==h)&&Ud(e,l,r,h),Tn=!1;var m=e.memoizedState;l.state=m,pl(e,r,l,i),u=e.memoizedState,a!==r||m!==u||ft.current||Tn?(typeof p=="function"&&(Qu(e,n,p,r),u=e.memoizedState),(a=Tn||zd(e,n,a,r,m,u,h))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=h,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Vg(t,e),a=e.memoizedProps,h=e.type===e.elementType?a:Nt(e.type,a),l.props=h,g=e.pendingProps,m=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=kt(u):(u=dt(n)?yr:et.current,u=ii(e,u));var A=n.getDerivedStateFromProps;(p=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Ud(e,l,r,u),Tn=!1,m=e.memoizedState,l.state=m,pl(e,r,l,i);var P=e.memoizedState;a!==g||m!==P||ft.current||Tn?(typeof A=="function"&&(Qu(e,n,A,r),P=e.memoizedState),(h=Tn||zd(e,n,h,r,m,P,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,P,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,P,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=P),l.props=r,l.state=P,l.context=u,r=h):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ju(t,e,n,r,s,i)}function Ju(t,e,n,r,i,s){ay(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return i&&bd(e,n,!1),fn(t,e,s);r=e.stateNode,Hw.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=oi(e,t.child,null,s),e.child=oi(e,null,a,s)):rt(t,e,a,s),e.memoizedState=r.state,i&&bd(e,n,!0),e.child}function uy(t){var e=t.stateNode;e.pendingContext?jd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jd(t,e.context,!1),sh(t,e.containerInfo)}function Yd(t,e,n,r,i){return si(),Zc(i),e.flags|=256,rt(t,e,n,r),e.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function cy(t,e,n){var r=e.pendingProps,i=ve.current,s=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),le(ve,i&1),t===null)return Ku(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,s?(r=e.mode,s=e.child,l={mode:"hidden",children:l},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=l):s=Yl(l,r,0,null),t=dr(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ec(n),e.memoizedState=Zu,t):dh(e,l));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return Ww(t,e,l,r,a,i,n);if(s){s=r.fallback,l=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ln(i,u),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Ln(a,s):(s=dr(s,l,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,l=t.child.memoizedState,l=l===null?ec(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=t.childLanes&~n,e.memoizedState=Zu,r}return s=t.child,t=s.sibling,r=Ln(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function dh(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Co(t,e,n,r){return r!==null&&Zc(r),oi(e,t.child,null,n),t=dh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Ww(t,e,n,r,i,s,l){if(n)return e.flags&256?(e.flags&=-257,r=iu(Error(z(422))),Co(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yl({mode:"visible",children:r.children},i,0,null),s=dr(s,i,l,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&oi(e,t.child,null,l),e.child.memoizedState=ec(l),e.memoizedState=Zu,s);if(!(e.mode&1))return Co(t,e,l,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(z(419)),r=iu(s,r,void 0),Co(t,e,l,r)}if(a=(l&t.childLanes)!==0,ht||a){if(r=Oe,r!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|l)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,hn(t,i),Ft(r,t,i,-1))}return _h(),r=iu(Error(z(421))),Co(t,e,l,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=i1.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,vt=jn(i.nextSibling),_t=e,pe=!0,Vt=null,t!==null&&(St[Tt++]=rn,St[Tt++]=sn,St[Tt++]=vr,rn=t.id,sn=t.overflow,vr=e),e=dh(e,r.children),e.flags|=4096,e)}function Jd(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gu(t.return,e,n)}function su(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function hy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(rt(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jd(t,n,e);else if(t.tag===19)Jd(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ve,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&ml(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),su(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&ml(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}su(e,!0,n,null,s);break;case"together":su(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function fn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),wr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(z(153));if(e.child!==null){for(t=e.child,n=Ln(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ln(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Kw(t,e,n){switch(e.tag){case 3:uy(e),si();break;case 5:Lg(e);break;case 1:dt(e.type)&&ul(e);break;case 4:sh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;le(fl,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?cy(t,e,n):(le(ve,ve.current&1),t=fn(t,e,n),t!==null?t.sibling:null);le(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,n)}return fn(t,e,n)}var fy,tc,dy,py;fy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tc=function(){};dy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,cr(Qt.current);var s=null;switch(n){case"input":i=Su(t,i),r=Su(t,r),s=[];break;case"select":i=Ee({},i,{value:void 0}),r=Ee({},r,{value:void 0}),s=[];break;case"textarea":i=Cu(t,i),r=Cu(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Au(n,r);var l;n=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var a=i[h];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(ds.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(a=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==a&&(u!=null||a!=null))if(h==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(s||(s=[]),s.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(ds.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ce("scroll",t),s||a===u||(s=[])):(s=s||[]).push(h,u))}n&&(s=s||[]).push("style",n);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};py=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hi(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Gw(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return dt(e.type)&&al(),qe(e),null;case 3:return r=e.stateNode,li(),he(ft),he(et),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(To(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vt!==null&&(uc(Vt),Vt=null))),tc(t,e),qe(e),null;case 5:oh(e);var i=cr(Is.current);if(n=e.type,t!==null&&e.stateNode!=null)dy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(z(166));return qe(e),null}if(t=cr(Qt.current),To(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Kt]=e,r[Ss]=s,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(i=0;i<Xi.length;i++)ce(Xi[i],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":ld(r,s),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ce("invalid",r);break;case"textarea":ud(r,s),ce("invalid",r)}Au(n,s),i=null;for(var l in s)if(s.hasOwnProperty(l)){var a=s[l];l==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&So(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&So(r.textContent,a,t),i=["children",""+a]):ds.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ce("scroll",r)}switch(n){case"input":mo(r),ad(r,s,!0);break;case"textarea":mo(r),cd(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=ll)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Kt]=e,t[Ss]=r,fy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Pu(n,r),n){case"dialog":ce("cancel",t),ce("close",t),i=r;break;case"iframe":case"object":case"embed":ce("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xi.length;i++)ce(Xi[i],t);i=r;break;case"source":ce("error",t),i=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),i=r;break;case"details":ce("toggle",t),i=r;break;case"input":ld(t,r),i=Su(t,r),ce("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ee({},r,{value:void 0}),ce("invalid",t);break;case"textarea":ud(t,r),i=Cu(t,r),ce("invalid",t);break;default:i=r}Au(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?Hm(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Bm(t,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&ps(t,u):typeof u=="number"&&ps(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ds.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ce("scroll",t):u!=null&&Oc(t,s,u,l))}switch(n){case"input":mo(t),ad(t,r,!1);break;case"textarea":mo(t),cd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Qr(t,!!r.multiple,s,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)py(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(z(166));if(n=cr(Is.current),cr(Qt.current),To(e)){if(r=e.stateNode,n=e.memoizedProps,r[Kt]=e,(s=r.nodeValue!==n)&&(t=_t,t!==null))switch(t.tag){case 3:So(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kt]=e,e.stateNode=r}return qe(e),null;case 13:if(he(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&vt!==null&&e.mode&1&&!(e.flags&128))Ng(),si(),e.flags|=98560,s=!1;else if(s=To(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(z(317));s[Kt]=e}else si(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),s=!1}else Vt!==null&&(uc(Vt),Vt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?De===0&&(De=3):_h())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return li(),tc(t,e),t===null&&Es(e.stateNode.containerInfo),qe(e),null;case 10:return nh(e.type._context),qe(e),null;case 17:return dt(e.type)&&al(),qe(e),null;case 19:if(he(ve),s=e.memoizedState,s===null)return qe(e),null;if(r=(e.flags&128)!==0,l=s.rendering,l===null)if(r)Hi(s,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ml(t),l!==null){for(e.flags|=128,Hi(s,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,l=s.alternate,l===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,t=l.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ve,ve.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ie()>ui&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304)}else{if(!r)if(t=ml(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hi(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!pe)return qe(e),null}else 2*Ie()-s.renderingStartTime>ui&&n!==1073741824&&(e.flags|=128,r=!0,Hi(s,!1),e.lanes=4194304);s.isBackwards?(l.sibling=e.child,e.child=l):(n=s.last,n!==null?n.sibling=l:e.child=l,s.last=l)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ie(),e.sibling=null,n=ve.current,le(ve,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?yt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(z(156,e.tag))}function Qw(t,e){switch(Jc(e),e.tag){case 1:return dt(e.type)&&al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return li(),he(ft),he(et),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oh(e),null;case 13:if(he(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(z(340));si()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ve),null;case 4:return li(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var ko=!1,Je=!1,qw=typeof WeakSet=="function"?WeakSet:Set,$=null;function Kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function nc(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Zd=!1;function Xw(t,e){if(Fu=il,t=vg(),Xc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var l=0,a=-1,u=-1,h=0,p=0,g=t,m=null;t:for(;;){for(var A;g!==n||i!==0&&g.nodeType!==3||(a=l+i),g!==s||r!==0&&g.nodeType!==3||(u=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(A=g.firstChild)!==null;)m=g,g=A;for(;;){if(g===t)break t;if(m===n&&++h===i&&(a=l),m===s&&++p===r&&(u=l),(A=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=A}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(zu={focusedElem:t,selectionRange:n},il=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var P=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(P!==null){var R=P.memoizedProps,b=P.memoizedState,I=e.stateNode,w=I.getSnapshotBeforeUpdate(e.elementType===e.type?R:Nt(e.type,R),b);I.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(D){Se(e,e.return,D)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return P=Zd,Zd=!1,P}function is(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nc(e,n,s)}i=i.next}while(i!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function my(t){var e=t.alternate;e!==null&&(t.alternate=null,my(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kt],delete e[Ss],delete e[$u],delete e[Dw],delete e[Vw])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gy(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}var Fe=null,Dt=!1;function xn(t,e,n){for(n=n.child;n!==null;)yy(t,e,n),n=n.sibling}function yy(t,e,n){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:Je||Kr(n,e);case 6:var r=Fe,i=Dt;Fe=null,xn(t,e,n),Fe=r,Dt=i,Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?Ja(t.parentNode,n):t.nodeType===1&&Ja(t,n),vs(t)):Ja(Fe,n.stateNode));break;case 4:r=Fe,i=Dt,Fe=n.stateNode.containerInfo,Dt=!0,xn(t,e,n),Fe=r,Dt=i;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,l=s.destroy;s=s.tag,l!==void 0&&(s&2||s&4)&&nc(n,e,l),i=i.next}while(i!==r)}xn(t,e,n);break;case 1:if(!Je&&(Kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,e,a)}xn(t,e,n);break;case 21:xn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,xn(t,e,n),Je=r):xn(t,e,n);break;default:xn(t,e,n)}}function tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new qw),e.forEach(function(r){var i=s1.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Rt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Dt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Dt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Fe===null)throw Error(z(160));yy(s,l,i),Fe=null,Dt=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Se(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vy(e,t),e=e.sibling}function vy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Rt(e,t),$t(t),r&4){try{is(3,t,t.return),ql(3,t)}catch(R){Se(t,t.return,R)}try{is(5,t,t.return)}catch(R){Se(t,t.return,R)}}break;case 1:Rt(e,t),$t(t),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(Rt(e,t),$t(t),r&512&&n!==null&&Kr(n,n.return),t.flags&32){var i=t.stateNode;try{ps(i,"")}catch(R){Se(t,t.return,R)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,l=n!==null?n.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Fm(i,s),Pu(a,l);var h=Pu(a,s);for(l=0;l<u.length;l+=2){var p=u[l],g=u[l+1];p==="style"?Hm(i,g):p==="dangerouslySetInnerHTML"?Bm(i,g):p==="children"?ps(i,g):Oc(i,p,g,h)}switch(a){case"input":Tu(i,s);break;case"textarea":zm(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var A=s.value;A!=null?Qr(i,!!s.multiple,A,!1):m!==!!s.multiple&&(s.defaultValue!=null?Qr(i,!!s.multiple,s.defaultValue,!0):Qr(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ss]=s}catch(R){Se(t,t.return,R)}}break;case 6:if(Rt(e,t),$t(t),r&4){if(t.stateNode===null)throw Error(z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(R){Se(t,t.return,R)}}break;case 3:if(Rt(e,t),$t(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vs(e.containerInfo)}catch(R){Se(t,t.return,R)}break;case 4:Rt(e,t),$t(t);break;case 13:Rt(e,t),$t(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(gh=Ie())),r&4&&tp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(h=Je)||p,Rt(e,t),Je=h):Rt(e,t),$t(t),r&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!p&&t.mode&1)for($=t,p=t.child;p!==null;){for(g=$=p;$!==null;){switch(m=$,A=m.child,m.tag){case 0:case 11:case 14:case 15:is(4,m,m.return);break;case 1:Kr(m,m.return);var P=m.stateNode;if(typeof P.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,P.props=e.memoizedProps,P.state=e.memoizedState,P.componentWillUnmount()}catch(R){Se(r,n,R)}}break;case 5:Kr(m,m.return);break;case 22:if(m.memoizedState!==null){rp(g);continue}}A!==null?(A.return=m,$=A):rp(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{i=g.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=g.stateNode,u=g.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$m("display",l))}catch(R){Se(t,t.return,R)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=h?"":g.memoizedProps}catch(R){Se(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Rt(e,t),$t(t),r&4&&tp(t);break;case 21:break;default:Rt(e,t),$t(t)}}function $t(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gy(n)){var r=n;break e}n=n.return}throw Error(z(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ps(i,""),r.flags&=-33);var s=ep(t);sc(t,s,i);break;case 3:case 4:var l=r.stateNode.containerInfo,a=ep(t);ic(t,a,l);break;default:throw Error(z(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yw(t,e,n){$=t,_y(t)}function _y(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var i=$,s=i.child;if(i.tag===22&&r){var l=i.memoizedState!==null||ko;if(!l){var a=i.alternate,u=a!==null&&a.memoizedState!==null||Je;a=ko;var h=Je;if(ko=l,(Je=u)&&!h)for($=i;$!==null;)l=$,u=l.child,l.tag===22&&l.memoizedState!==null?ip(i):u!==null?(u.return=l,$=u):ip(i);for(;s!==null;)$=s,_y(s),s=s.sibling;$=i,ko=a,Je=h}np(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,$=s):np(t)}}function np(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Nt(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Fd(e,s,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fd(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var p=h.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&vs(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}Je||e.flags&512&&rc(e)}catch(m){Se(e,e.return,m)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function rp(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function ip(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Se(e,i,u)}}var s=e.return;try{rc(e)}catch(u){Se(e,s,u)}break;case 5:var l=e.return;try{rc(e)}catch(u){Se(e,l,u)}}}catch(u){Se(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var Jw=Math.ceil,vl=pn.ReactCurrentDispatcher,ph=pn.ReactCurrentOwner,Ct=pn.ReactCurrentBatchConfig,te=0,Oe=null,ke=null,He=0,yt=0,Gr=qn(0),De=0,Ps=null,wr=0,Xl=0,mh=0,ss=null,ct=null,gh=0,ui=1/0,tn=null,_l=!1,oc=null,Mn=null,Ao=!1,An=null,wl=0,os=0,lc=null,Wo=-1,Ko=0;function it(){return te&6?Ie():Wo!==-1?Wo:Wo=Ie()}function On(t){return t.mode&1?te&2&&He!==0?He&-He:bw.transition!==null?(Ko===0&&(Ko=ng()),Ko):(t=se,t!==0||(t=window.event,t=t===void 0?16:ug(t.type)),t):1}function Ft(t,e,n,r){if(50<os)throw os=0,lc=null,Error(z(185));Bs(t,n,r),(!(te&2)||t!==Oe)&&(t===Oe&&(!(te&2)&&(Xl|=n),De===4&&Cn(t,He)),pt(t,r),n===1&&te===0&&!(e.mode&1)&&(ui=Ie()+500,Kl&&Xn()))}function pt(t,e){var n=t.callbackNode;b0(t,e);var r=rl(t,t===Oe?He:0);if(r===0)n!==null&&dd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&dd(n),e===1)t.tag===0?jw(sp.bind(null,t)):Ag(sp.bind(null,t)),Rw(function(){!(te&6)&&Xn()}),n=null;else{switch(rg(r)){case 1:n=Bc;break;case 4:n=eg;break;case 16:n=nl;break;case 536870912:n=tg;break;default:n=nl}n=ky(n,wy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function wy(t,e){if(Wo=-1,Ko=0,te&6)throw Error(z(327));var n=t.callbackNode;if(Zr()&&t.callbackNode!==n)return null;var r=rl(t,t===Oe?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=El(t,r);else{e=r;var i=te;te|=2;var s=xy();(Oe!==t||He!==e)&&(tn=null,ui=Ie()+500,fr(t,e));do try{t1();break}catch(a){Ey(t,a)}while(!0);th(),vl.current=s,te=i,ke!==null?e=0:(Oe=null,He=0,e=De)}if(e!==0){if(e===2&&(i=ju(t),i!==0&&(r=i,e=ac(t,i))),e===1)throw n=Ps,fr(t,0),Cn(t,r),pt(t,Ie()),n;if(e===6)Cn(t,r);else{if(i=t.current.alternate,!(r&30)&&!Zw(i)&&(e=El(t,r),e===2&&(s=ju(t),s!==0&&(r=s,e=ac(t,s))),e===1))throw n=Ps,fr(t,0),Cn(t,r),pt(t,Ie()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(z(345));case 2:or(t,ct,tn);break;case 3:if(Cn(t,r),(r&130023424)===r&&(e=gh+500-Ie(),10<e)){if(rl(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Bu(or.bind(null,t,ct,tn),e);break}or(t,ct,tn);break;case 4:if(Cn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var l=31-Lt(r);s=1<<l,l=e[l],l>i&&(i=l),r&=~s}if(r=i,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jw(r/1960))-r,10<r){t.timeoutHandle=Bu(or.bind(null,t,ct,tn),r);break}or(t,ct,tn);break;case 5:or(t,ct,tn);break;default:throw Error(z(329))}}}return pt(t,Ie()),t.callbackNode===n?wy.bind(null,t):null}function ac(t,e){var n=ss;return t.current.memoizedState.isDehydrated&&(fr(t,e).flags|=256),t=El(t,e),t!==2&&(e=ct,ct=n,e!==null&&uc(e)),t}function uc(t){ct===null?ct=t:ct.push.apply(ct,t)}function Zw(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!zt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cn(t,e){for(e&=~mh,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Lt(e),r=1<<n;t[n]=-1,e&=~r}}function sp(t){if(te&6)throw Error(z(327));Zr();var e=rl(t,0);if(!(e&1))return pt(t,Ie()),null;var n=El(t,e);if(t.tag!==0&&n===2){var r=ju(t);r!==0&&(e=r,n=ac(t,r))}if(n===1)throw n=Ps,fr(t,0),Cn(t,e),pt(t,Ie()),n;if(n===6)throw Error(z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,ct,tn),pt(t,Ie()),null}function yh(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(ui=Ie()+500,Kl&&Xn())}}function Er(t){An!==null&&An.tag===0&&!(te&6)&&Zr();var e=te;te|=1;var n=Ct.transition,r=se;try{if(Ct.transition=null,se=1,t)return t()}finally{se=r,Ct.transition=n,te=e,!(te&6)&&Xn()}}function vh(){yt=Gr.current,he(Gr)}function fr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Pw(n)),ke!==null)for(n=ke.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&al();break;case 3:li(),he(ft),he(et),lh();break;case 5:oh(r);break;case 4:li();break;case 13:he(ve);break;case 19:he(ve);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Oe=t,ke=t=Ln(t.current,null),He=yt=e,De=0,Ps=null,mh=Xl=wr=0,ct=ss=null,ur!==null){for(e=0;e<ur.length;e++)if(n=ur[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var l=s.next;s.next=i,r.next=l}n.pending=r}ur=null}return t}function Ey(t,e){do{var n=ke;try{if(th(),Bo.current=yl,gl){for(var r=we.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}gl=!1}if(_r=0,be=Ne=we=null,rs=!1,Cs=0,ph.current=null,n===null||n.return===null){De=1,Ps=e,ke=null;break}e:{var s=t,l=n.return,a=n,u=e;if(e=He,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var A=Kd(l);if(A!==null){A.flags&=-257,Gd(A,l,a,s,e),A.mode&1&&Wd(s,h,e),e=A,u=h;var P=e.updateQueue;if(P===null){var R=new Set;R.add(u),e.updateQueue=R}else P.add(u);break e}else{if(!(e&1)){Wd(s,h,e),_h();break e}u=Error(z(426))}}else if(pe&&a.mode&1){var b=Kd(l);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Gd(b,l,a,s,e),Zc(ai(u,a));break e}}s=u=ai(u,a),De!==4&&(De=2),ss===null?ss=[s]:ss.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var I=iy(s,u,e);Ld(s,I);break e;case 1:a=u;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Mn===null||!Mn.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var D=sy(s,a,e);Ld(s,D);break e}}s=s.return}while(s!==null)}Ty(n)}catch(M){e=M,ke===n&&n!==null&&(ke=n=n.return);continue}break}while(!0)}function xy(){var t=vl.current;return vl.current=yl,t===null?yl:t}function _h(){(De===0||De===3||De===2)&&(De=4),Oe===null||!(wr&268435455)&&!(Xl&268435455)||Cn(Oe,He)}function El(t,e){var n=te;te|=2;var r=xy();(Oe!==t||He!==e)&&(tn=null,fr(t,e));do try{e1();break}catch(i){Ey(t,i)}while(!0);if(th(),te=n,vl.current=r,ke!==null)throw Error(z(261));return Oe=null,He=0,De}function e1(){for(;ke!==null;)Sy(ke)}function t1(){for(;ke!==null&&!C0();)Sy(ke)}function Sy(t){var e=Cy(t.alternate,t,yt);t.memoizedProps=t.pendingProps,e===null?Ty(t):ke=e,ph.current=null}function Ty(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Qw(n,e),n!==null){n.flags&=32767,ke=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,ke=null;return}}else if(n=Gw(n,e,yt),n!==null){ke=n;return}if(e=e.sibling,e!==null){ke=e;return}ke=e=t}while(e!==null);De===0&&(De=5)}function or(t,e,n){var r=se,i=Ct.transition;try{Ct.transition=null,se=1,n1(t,e,n,r)}finally{Ct.transition=i,se=r}return null}function n1(t,e,n,r){do Zr();while(An!==null);if(te&6)throw Error(z(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(z(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(M0(t,s),t===Oe&&(ke=Oe=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,ky(nl,function(){return Zr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Ct.transition,Ct.transition=null;var l=se;se=1;var a=te;te|=4,ph.current=null,Xw(t,n),vy(n,t),xw(zu),il=!!Fu,zu=Fu=null,t.current=n,Yw(n),k0(),te=a,se=l,Ct.transition=s}else t.current=n;if(Ao&&(Ao=!1,An=t,wl=i),s=t.pendingLanes,s===0&&(Mn=null),R0(n.stateNode),pt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_l)throw _l=!1,t=oc,oc=null,t;return wl&1&&t.tag!==0&&Zr(),s=t.pendingLanes,s&1?t===lc?os++:(os=0,lc=t):os=0,Xn(),null}function Zr(){if(An!==null){var t=rg(wl),e=Ct.transition,n=se;try{if(Ct.transition=null,se=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,wl=0,te&6)throw Error(z(331));var i=te;for(te|=4,$=t.current;$!==null;){var s=$,l=s.child;if($.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var h=a[u];for($=h;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:is(8,p,s)}var g=p.child;if(g!==null)g.return=p,$=g;else for(;$!==null;){p=$;var m=p.sibling,A=p.return;if(my(p),p===h){$=null;break}if(m!==null){m.return=A,$=m;break}$=A}}}var P=s.alternate;if(P!==null){var R=P.child;if(R!==null){P.child=null;do{var b=R.sibling;R.sibling=null,R=b}while(R!==null)}}$=s}}if(s.subtreeFlags&2064&&l!==null)l.return=s,$=l;else e:for(;$!==null;){if(s=$,s.flags&2048)switch(s.tag){case 0:case 11:case 15:is(9,s,s.return)}var I=s.sibling;if(I!==null){I.return=s.return,$=I;break e}$=s.return}}var w=t.current;for($=w;$!==null;){l=$;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,$=C;else e:for(l=w;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(M){Se(a,a.return,M)}if(a===l){$=null;break e}var D=a.sibling;if(D!==null){D.return=a.return,$=D;break e}$=a.return}}if(te=i,Xn(),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(Ul,t)}catch{}r=!0}return r}finally{se=n,Ct.transition=e}}return!1}function op(t,e,n){e=ai(n,e),e=iy(t,e,1),t=bn(t,e,1),e=it(),t!==null&&(Bs(t,1,e),pt(t,e))}function Se(t,e,n){if(t.tag===3)op(t,t,n);else for(;e!==null;){if(e.tag===3){op(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=ai(n,t),t=sy(e,t,1),e=bn(e,t,1),t=it(),e!==null&&(Bs(e,1,t),pt(e,t));break}}e=e.return}}function r1(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Ie()-gh?fr(t,0):mh|=n),pt(t,e)}function Iy(t,e){e===0&&(t.mode&1?(e=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):e=1);var n=it();t=hn(t,e),t!==null&&(Bs(t,e,n),pt(t,n))}function i1(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Iy(t,n)}function s1(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(z(314))}r!==null&&r.delete(e),Iy(t,n)}var Cy;Cy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)ht=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return ht=!1,Kw(t,e,n);ht=!!(t.flags&131072)}else ht=!1,pe&&e.flags&1048576&&Pg(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ho(t,e),t=e.pendingProps;var i=ii(e,et.current);Jr(e,n),i=uh(null,e,r,t,i,n);var s=ch();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,dt(r)?(s=!0,ul(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ih(e),i.updater=Gl,e.stateNode=i,i._reactInternals=e,qu(e,r,t,n),e=Ju(null,e,r,!0,s,n)):(e.tag=0,pe&&s&&Yc(e),rt(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=l1(r),t=Nt(r,t),i){case 0:e=Yu(null,e,r,t,n);break e;case 1:e=Xd(null,e,r,t,n);break e;case 11:e=Qd(null,e,r,t,n);break e;case 14:e=qd(null,e,r,Nt(r.type,t),n);break e}throw Error(z(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Yu(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Xd(t,e,r,i,n);case 3:e:{if(uy(e),t===null)throw Error(z(387));r=e.pendingProps,s=e.memoizedState,i=s.element,Vg(t,e),pl(e,r,null,n);var l=e.memoizedState;if(r=l.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ai(Error(z(423)),e),e=Yd(t,e,r,n,i);break e}else if(r!==i){i=ai(Error(z(424)),e),e=Yd(t,e,r,n,i);break e}else for(vt=jn(e.stateNode.containerInfo.firstChild),_t=e,pe=!0,Vt=null,n=Og(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(si(),r===i){e=fn(t,e,n);break e}rt(t,e,r,n)}e=e.child}return e;case 5:return Lg(e),t===null&&Ku(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,l=i.children,Uu(r,i)?l=null:s!==null&&Uu(r,s)&&(e.flags|=32),ay(t,e),rt(t,e,l,n),e.child;case 6:return t===null&&Ku(e),null;case 13:return cy(t,e,n);case 4:return sh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=oi(e,null,r,n):rt(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Qd(t,e,r,i,n);case 7:return rt(t,e,e.pendingProps,n),e.child;case 8:return rt(t,e,e.pendingProps.children,n),e.child;case 12:return rt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,l=i.value,le(fl,r._currentValue),r._currentValue=l,s!==null)if(zt(s.value,l)){if(s.children===i.children&&!ft.current){e=fn(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){l=s.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=on(-1,n&-n),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var p=h.pending;p===null?u.next=u:(u.next=p.next,p.next=u),h.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Gu(s.return,n,e),a.lanes|=n;break}u=u.next}}else if(s.tag===10)l=s.type===e.type?null:s.child;else if(s.tag===18){if(l=s.return,l===null)throw Error(z(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Gu(l,n,e),l=s.sibling}else l=s.child;if(l!==null)l.return=s;else for(l=s;l!==null;){if(l===e){l=null;break}if(s=l.sibling,s!==null){s.return=l.return,l=s;break}l=l.return}s=l}rt(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jr(e,n),i=kt(i),r=r(i),e.flags|=1,rt(t,e,r,n),e.child;case 14:return r=e.type,i=Nt(r,e.pendingProps),i=Nt(r.type,i),qd(t,e,r,i,n);case 15:return oy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Nt(r,i),Ho(t,e),e.tag=1,dt(r)?(t=!0,ul(e)):t=!1,Jr(e,n),bg(e,r,i),qu(e,r,i,n),Ju(null,e,r,!0,t,n);case 19:return hy(t,e,n);case 22:return ly(t,e,n)}throw Error(z(156,e.tag))};function ky(t,e){return Zm(t,e)}function o1(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new o1(t,e,n,r)}function wh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function l1(t){if(typeof t=="function")return wh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fc)return 11;if(t===zc)return 14}return 2}function Ln(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Go(t,e,n,r,i,s){var l=2;if(r=t,typeof t=="function")wh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Or:return dr(n.children,i,s,e);case Lc:l=8,i|=8;break;case _u:return t=It(12,n,e,i|2),t.elementType=_u,t.lanes=s,t;case wu:return t=It(13,n,e,i),t.elementType=wu,t.lanes=s,t;case Eu:return t=It(19,n,e,i),t.elementType=Eu,t.lanes=s,t;case Mm:return Yl(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case jm:l=10;break e;case bm:l=9;break e;case Fc:l=11;break e;case zc:l=14;break e;case Sn:l=16,r=null;break e}throw Error(z(130,t==null?t:typeof t,""))}return e=It(l,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function dr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Mm,t.lanes=n,t.stateNode={isHidden:!1},t}function ou(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function lu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function a1(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Eh(t,e,n,r,i,s,l,a,u){return t=new a1(t,e,n,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=It(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(s),t}function u1(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ay(t){if(!t)return $n;t=t._reactInternals;e:{if(kr(t)!==t||t.tag!==1)throw Error(z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(dt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(z(171))}if(t.tag===1){var n=t.type;if(dt(n))return kg(t,n,e)}return e}function Py(t,e,n,r,i,s,l,a,u){return t=Eh(n,r,!0,t,i,s,l,a,u),t.context=Ay(null),n=t.current,r=it(),i=On(n),s=on(r,i),s.callback=e??null,bn(n,s,i),t.current.lanes=i,Bs(t,i,r),pt(t,r),t}function Jl(t,e,n,r){var i=e.current,s=it(),l=On(i);return n=Ay(n),e.context===null?e.context=n:e.pendingContext=n,e=on(s,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=bn(i,e,l),t!==null&&(Ft(t,i,l,s),Uo(t,i,l)),l}function xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function xh(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function c1(){return null}var Ry=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sh(t){this._internalRoot=t}Zl.prototype.render=Sh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(z(409));Jl(t,e,null,null)};Zl.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Er(function(){Jl(null,t,null,null)}),e[cn]=null}};function Zl(t){this._internalRoot=t}Zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=og();t={blockedOn:null,target:t,priority:e};for(var n=0;n<In.length&&e!==0&&e<In[n].priority;n++);In.splice(n,0,t),n===0&&ag(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function h1(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=xl(l);s.call(h)}}var l=Py(e,r,t,0,null,!1,!1,"",ap);return t._reactRootContainer=l,t[cn]=l.current,Es(t.nodeType===8?t.parentNode:t),Er(),l}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var h=xl(u);a.call(h)}}var u=Eh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=u,t[cn]=u.current,Es(t.nodeType===8?t.parentNode:t),Er(function(){Jl(e,u,n,r)}),u}function ta(t,e,n,r,i){var s=n._reactRootContainer;if(s){var l=s;if(typeof i=="function"){var a=i;i=function(){var u=xl(l);a.call(u)}}Jl(e,l,t,i)}else l=h1(n,e,t,i,r);return xl(l)}ig=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qi(e.pendingLanes);n!==0&&($c(e,n|1),pt(e,Ie()),!(te&6)&&(ui=Ie()+500,Xn()))}break;case 13:Er(function(){var r=hn(t,1);if(r!==null){var i=it();Ft(r,t,1,i)}}),xh(t,1)}};Hc=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=it();Ft(e,t,134217728,n)}xh(t,134217728)}};sg=function(t){if(t.tag===13){var e=On(t),n=hn(t,e);if(n!==null){var r=it();Ft(n,t,e,r)}xh(t,e)}};og=function(){return se};lg=function(t,e){var n=se;try{return se=t,e()}finally{se=n}};Nu=function(t,e,n){switch(e){case"input":if(Tu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Wl(r);if(!i)throw Error(z(90));Lm(r),Tu(r,i)}}}break;case"textarea":zm(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};Gm=yh;Qm=Er;var f1={usingClientEntryPoint:!1,Events:[Hs,Ur,Wl,Wm,Km,yh]},Wi={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},d1={bundleType:Wi.bundleType,version:Wi.version,rendererPackageName:Wi.rendererPackageName,rendererConfig:Wi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ym(t),t===null?null:t.stateNode},findFiberByHostInstance:Wi.findFiberByHostInstance||c1,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Po=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Po.isDisabled&&Po.supportsFiber)try{Ul=Po.inject(d1),Gt=Po}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=f1;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(z(200));return u1(t,e,null,n)};Et.createRoot=function(t,e){if(!Th(t))throw Error(z(299));var n=!1,r="",i=Ry;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Eh(t,1,!1,null,null,n,!1,r,i),t[cn]=e.current,Es(t.nodeType===8?t.parentNode:t),new Sh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(z(188)):(t=Object.keys(t).join(","),Error(z(268,t)));return t=Ym(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return Er(t)};Et.hydrate=function(t,e,n){if(!ea(e))throw Error(z(200));return ta(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Th(t))throw Error(z(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",l=Ry;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Py(e,null,t,1,n??null,i,!1,s,l),t[cn]=e.current,Es(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Zl(e)};Et.render=function(t,e,n){if(!ea(e))throw Error(z(200));return ta(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!ea(t))throw Error(z(40));return t._reactRootContainer?(Er(function(){ta(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};Et.unstable_batchedUpdates=yh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ea(n))throw Error(z(200));if(t==null||t._reactInternals===void 0)throw Error(z(38));return ta(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";function Ny(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ny)}catch(t){console.error(t)}}Ny(),Pm.exports=Et;var p1=Pm.exports,Dy,up=p1;Dy=up.createRoot,up.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rs(){return Rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rs.apply(this,arguments)}var Pn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pn||(Pn={}));const cp="popstate";function m1(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:l,hash:a}=r.location;return cc("",{pathname:s,search:l,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Vy(i)}return y1(e,n,null,t)}function Pe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ih(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function g1(){return Math.random().toString(36).substr(2,8)}function hp(t,e){return{usr:t.state,key:t.key,idx:e}}function cc(t,e,n,r){return n===void 0&&(n=null),Rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vi(e):e,{state:n,key:e&&e.key||r||g1()})}function Vy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vi(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function y1(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,a=Pn.Pop,u=null,h=p();h==null&&(h=0,l.replaceState(Rs({},l.state,{idx:h}),""));function p(){return(l.state||{idx:null}).idx}function g(){a=Pn.Pop;let b=p(),I=b==null?null:b-h;h=b,u&&u({action:a,location:R.location,delta:I})}function m(b,I){a=Pn.Push;let w=cc(R.location,b,I);h=p()+1;let C=hp(w,h),D=R.createHref(w);try{l.pushState(C,"",D)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(D)}s&&u&&u({action:a,location:R.location,delta:1})}function A(b,I){a=Pn.Replace;let w=cc(R.location,b,I);h=p();let C=hp(w,h),D=R.createHref(w);l.replaceState(C,"",D),s&&u&&u({action:a,location:R.location,delta:0})}function P(b){let I=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof b=="string"?b:Vy(b);return Pe(I,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,I)}let R={get action(){return a},get location(){return t(i,l)},listen(b){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(cp,g),u=b,()=>{i.removeEventListener(cp,g),u=null}},createHref(b){return e(i,b)},createURL:P,encodeLocation(b){let I=P(b);return{pathname:I.pathname,search:I.search,hash:I.hash}},push:m,replace:A,go(b){return l.go(b)}};return R}var fp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(fp||(fp={}));function v1(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vi(e):e,i=My(r.pathname||"/",n);if(i==null)return null;let s=jy(t);_1(s);let l=null;for(let a=0;l==null&&a<s.length;++a)l=A1(s[a],N1(i));return l}function jy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,l,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};u.relativePath.startsWith("/")&&(Pe(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let h=pr([r,u.relativePath]),p=n.concat(u);s.children&&s.children.length>0&&(Pe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),jy(s.children,e,p,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:C1(h,s.index),routesMeta:p})};return t.forEach((s,l)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,l);else for(let u of by(s.path))i(s,l,u)}),e}function by(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=by(r.join("/")),a=[];return a.push(...l.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...l),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function _1(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:k1(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w1=/^:\w+$/,E1=3,x1=2,S1=1,T1=10,I1=-2,dp=t=>t==="*";function C1(t,e){let n=t.split("/"),r=n.length;return n.some(dp)&&(r+=I1),e&&(r+=x1),n.filter(i=>!dp(i)).reduce((i,s)=>i+(w1.test(s)?E1:s===""?S1:T1),r)}function k1(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function A1(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let l=0;l<n.length;++l){let a=n[l],u=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=P1({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},h);if(!p)return null;Object.assign(r,p.params);let g=a.route;s.push({params:r,pathname:pr([i,p.pathname]),pathnameBase:b1(pr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=pr([i,p.pathnameBase]))}return s}function P1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R1(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((h,p,g)=>{if(p==="*"){let m=a[g]||"";l=s.slice(0,s.length-m.length).replace(/(.)\/+$/,"$1")}return h[p]=D1(a[g]||"",p),h},{}),pathname:s,pathnameBase:l,pattern:t}}function R1(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ih(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function N1(t){try{return decodeURI(t)}catch(e){return Ih(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D1(t,e){try{return decodeURIComponent(t)}catch(n){return Ih(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function My(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function V1(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?vi(t):t;return{pathname:n?n.startsWith("/")?n:j1(n,e):e,search:M1(r),hash:O1(i)}}function j1(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function au(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Oy(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ly(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=vi(t):(i=Rs({},t),Pe(!i.pathname||!i.pathname.includes("?"),au("?","pathname","search",i)),Pe(!i.pathname||!i.pathname.includes("#"),au("#","pathname","hash",i)),Pe(!i.search||!i.search.includes("#"),au("#","search","hash",i)));let s=t===""||i.pathname==="",l=s?"/":i.pathname,a;if(r||l==null)a=n;else{let g=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;i.pathname=m.join("/")}a=g>=0?e[g]:"/"}let u=V1(i,a),h=l&&l!=="/"&&l.endsWith("/"),p=(s||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),b1=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),M1=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,O1=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Fy=["post","put","patch","delete"];new Set(Fy);const F1=["get",...Fy];new Set(F1);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}const Ch=j.createContext(null),z1=j.createContext(null),na=j.createContext(null),ra=j.createContext(null),Yn=j.createContext({outlet:null,matches:[],isDataRoute:!1}),zy=j.createContext(null);function Ks(){return j.useContext(ra)!=null}function ia(){return Ks()||Pe(!1),j.useContext(ra).location}function Uy(t){j.useContext(na).static||j.useLayoutEffect(t)}function Le(){let{isDataRoute:t}=j.useContext(Yn);return t?Z1():U1()}function U1(){Ks()||Pe(!1);let t=j.useContext(Ch),{basename:e,navigator:n}=j.useContext(na),{matches:r}=j.useContext(Yn),{pathname:i}=ia(),s=JSON.stringify(Oy(r).map(u=>u.pathnameBase)),l=j.useRef(!1);return Uy(()=>{l.current=!0}),j.useCallback(function(u,h){if(h===void 0&&(h={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Ly(u,JSON.parse(s),i,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pr([e,p.pathname])),(h.replace?n.replace:n.push)(p,h.state,h)},[e,n,s,i,t])}function By(){let{matches:t}=j.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function B1(t,e){return $1(t,e)}function $1(t,e,n){Ks()||Pe(!1);let{navigator:r}=j.useContext(na),{matches:i}=j.useContext(Yn),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=ia(),h;if(e){var p;let R=typeof e=="string"?vi(e):e;a==="/"||(p=R.pathname)!=null&&p.startsWith(a)||Pe(!1),h=R}else h=u;let g=h.pathname||"/",m=a==="/"?g:g.slice(a.length)||"/",A=v1(t,{pathname:m}),P=Q1(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:pr([a,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?a:pr([a,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),i,n);return e&&P?j.createElement(ra.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Pn.Pop}},P):P}function H1(){let t=J1(),e=L1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:i},n):null,null)}const W1=j.createElement(H1,null);class K1 extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?j.createElement(Yn.Provider,{value:this.props.routeContext},j.createElement(zy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G1(t){let{routeContext:e,match:n,children:r}=t,i=j.useContext(Ch);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(Yn.Provider,{value:e},r)}function Q1(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let a=s.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id]));a>=0||Pe(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,h)=>{let p=u.route.id?l==null?void 0:l[u.route.id]:null,g=null;n&&(g=u.route.errorElement||W1);let m=e.concat(s.slice(0,h+1)),A=()=>{let P;return p?P=g:u.route.Component?P=j.createElement(u.route.Component,null):u.route.element?P=u.route.element:P=a,j.createElement(G1,{match:u,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:P})};return n&&(u.route.ErrorBoundary||u.route.errorElement||h===0)?j.createElement(K1,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:A(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):A()},null)}var hc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(hc||(hc={}));var Ns;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Ns||(Ns={}));function q1(t){let e=j.useContext(Ch);return e||Pe(!1),e}function X1(t){let e=j.useContext(z1);return e||Pe(!1),e}function Y1(t){let e=j.useContext(Yn);return e||Pe(!1),e}function $y(t){let e=Y1(),n=e.matches[e.matches.length-1];return n.route.id||Pe(!1),n.route.id}function J1(){var t;let e=j.useContext(zy),n=X1(Ns.UseRouteError),r=$y(Ns.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Z1(){let{router:t}=q1(hc.UseNavigateStable),e=$y(Ns.UseNavigateStable),n=j.useRef(!1);return Uy(()=>{n.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sl({fromRouteId:e},s)))},[t,e])}function eE(t){let{to:e,replace:n,state:r,relative:i}=t;Ks()||Pe(!1);let{matches:s}=j.useContext(Yn),{pathname:l}=ia(),a=Le(),u=Ly(e,Oy(s).map(p=>p.pathnameBase),l,i==="path"),h=JSON.stringify(u);return j.useEffect(()=>a(JSON.parse(h),{replace:n,state:r,relative:i}),[a,h,i,n,r]),null}function ie(t){Pe(!1)}function tE(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Pn.Pop,navigator:s,static:l=!1}=t;Ks()&&Pe(!1);let a=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:a,navigator:s,static:l}),[a,s,l]);typeof r=="string"&&(r=vi(r));let{pathname:h="/",search:p="",hash:g="",state:m=null,key:A="default"}=r,P=j.useMemo(()=>{let R=My(h,a);return R==null?null:{location:{pathname:R,search:p,hash:g,state:m,key:A},navigationType:i}},[a,h,p,g,m,A,i]);return P==null?null:j.createElement(na.Provider,{value:u},j.createElement(ra.Provider,{children:n,value:P}))}function nE(t){let{children:e,location:n}=t;return B1(fc(e),n)}var pp;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(pp||(pp={}));new Promise(()=>{});function fc(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,i)=>{if(!j.isValidElement(r))return;let s=[...e,i];if(r.type===j.Fragment){n.push.apply(n,fc(r.props.children,s));return}r.type!==ie&&Pe(!1),!r.props.index||!r.props.children||Pe(!1);let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=fc(r.props.children,s)),n.push(l)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rE="startTransition",mp=i0[rE];function iE(t){let{basename:e,children:n,future:r,window:i}=t,s=j.useRef();s.current==null&&(s.current=m1({window:i,v5Compat:!0}));let l=s.current,[a,u]=j.useState({action:l.action,location:l.location}),{v7_startTransition:h}=r||{},p=j.useCallback(g=>{h&&mp?mp(()=>u(g)):u(g)},[u,h]);return j.useLayoutEffect(()=>l.listen(p),[l,p]),j.createElement(tE,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:l})}var gp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(gp||(gp={}));var yp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yp||(yp={}));const sE=j.useState;function oE(){const t=Le(),[e,n]=sE(!1),r=()=>{e&&t("/DemographicForm/Demographics")};return d.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-bg",children:d.jsxs("div",{className:"max-w-3xl w-full p-6 sm:p-8 lg:p-12 bg-surface rounded-lg shadow-md",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h2",{className:"text-sm uppercase tracking-wide mb-4 text-accent font-semibold",children:"Kutatásban való részvétel"}),d.jsx("h1",{className:"text-2xl sm:text-3xl mb-6 text-text font-bold leading-tight",children:"Orvosi képek értékelése mesterséges intelligencia támogatással"}),d.jsxs("div",{className:"text-sm text-text leading-normal",children:[d.jsxs("p",{children:[d.jsx("strong",{children:"Kutató:"})," Baltay Márton, MSc hallgató | ",d.jsx("strong",{children:"Egyetem:"})," ","Pázmány Péter Katolikus Egyetem"]}),d.jsxs("p",{className:"mt-1",children:[d.jsx("strong",{children:"Témavezető:"})," [Prof. név]"]})]})]}),d.jsxs("section",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg mb-3 text-text font-semibold",children:"Mi a feladat?"}),d.jsx("p",{className:"mb-4 text-text leading-relaxed",children:"Radiológiai képeken artritisz jelenlétének felismerése – eldönti, van-e artritisz, és megjelöli a gyanús területet."}),d.jsx("h3",{className:"text-lg mb-3 text-text font-semibold",children:"Mennyi idő?"}),d.jsx("p",{className:"mb-2 text-text",children:"90-120 perc összesen:"}),d.jsxs("ul",{className:"list-disc ml-6 mb-6 space-y-1 text-text leading-normal",children:[d.jsx("li",{children:"Bevezető előadás (20-30 perc)"}),d.jsx("li",{children:"10 gyakorló kép"}),d.jsx("li",{children:"Több értékelési szakasz (~30 kép/szakasz)"})]})]}),d.jsxs("section",{className:"mb-6 p-4 rounded-md border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b"},children:[d.jsxs("h3",{className:"text-base mb-3 flex items-center gap-2 font-semibold",style:{color:"#92400e"},children:[d.jsx("span",{children:"⚠️"})," Fontos feltételek"]}),d.jsx("p",{className:"mb-2 font-semibold",style:{color:"#78350f"},children:"A tesztet egyetlen ülésben, megszakítás nélkül kell elvégezni!"}),d.jsxs("ul",{className:"space-y-1 ml-6",style:{color:"#78350f"},children:[d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{children:"✓"}),d.jsx("span",{children:"Napközben végezze, amikor pihent"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{children:"✓"}),d.jsx("span",{children:"Biztosítson zavartalan környezetet"})]}),d.jsxs("li",{className:"flex items-start gap-2",children:[d.jsx("span",{children:"✓"}),d.jsx("span",{children:"Nem lehet szünetet tartani vagy kilépni"})]})]})]}),d.jsxs("section",{className:"mb-6",children:[d.jsx("h3",{className:"text-lg mb-3 text-text font-semibold",children:"Adatkezelés"}),d.jsx("p",{className:"text-text leading-relaxed",children:"Adatai anonimizálva, kizárólag kutatási célra kerülnek felhasználásra."})]}),d.jsxs("section",{className:"mb-6",children:[d.jsx("p",{className:"mb-4 text-text font-medium",children:"A továbblépéssel kijelentem, hogy:"}),d.jsx("div",{className:"space-y-3",children:d.jsxs("label",{className:"flex items-start gap-3 cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:e,onChange:i=>n(i.target.checked),className:"mt-1 w-4 h-4 cursor-pointer accent-accent"}),d.jsx("span",{className:"text-text",children:"Elolvastam a tájékoztatót"})]})})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-6 border-t border-muted",children:[d.jsxs("p",{className:"text-sm text-text",children:["Kérdés?",d.jsx("br",{}),d.jsx("a",{href:"mailto:baltay.marton@gmail.com",className:"text-accent underline",children:"[baltay.marton@gmail.com]"}),d.jsx("br",{}),d.jsx("a",{href:"tel:+36203971061",className:"text-accent underline",children:"[+36 20 397 1061]"})]}),d.jsx("button",{onClick:r,disabled:!e,className:"px-6 py-3 bg-accent text-white font-semibold rounded-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Kezdés"})]})]})})}function lE(){const t=Math.random()<.5,e=t?"1":"0",n="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let i=0;i<9;i++)r+=n.charAt(Math.floor(Math.random()*n.length));return{userID:e+r,treatmentGroup:t?"treatment":"control",randomizationSeed:Math.floor(Math.random()*1e6)}}const aE=()=>{};var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},uE=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],l=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const s=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],l=i+1<t.length,a=l?t[i+1]:0,u=i+2<t.length,h=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4;let m=(a&15)<<2|h>>6,A=h&63;u||(A=64,l||(m=64)),r.push(n[p],n[g],n[m],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):uE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const h=i<t.length?n[t.charAt(i)]:64;++i;const g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||h==null||g==null)throw new cE;const m=s<<2|a>>4;if(r.push(m),h!==64){const A=a<<4&240|h>>2;if(r.push(A),g!==64){const P=h<<6&192|g;r.push(P)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class cE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hE=function(t){const e=Hy(t);return Wy.encodeByteArray(e,!0)},Tl=function(t){return hE(t).replace(/\./g,"")},fE=function(t){try{return Wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pE=()=>dE().__FIREBASE_DEFAULTS__,mE=()=>{if(typeof process>"u"||typeof vp>"u")return;const t=vp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fE(t[1]);return e&&JSON.parse(e)},kh=()=>{try{return aE()||pE()||mE()||gE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},yE=t=>{var e,n;return(n=(e=kh())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},vE=t=>{const e=yE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ky=()=>{var t;return(t=kh())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function wE(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tl(JSON.stringify(n)),Tl(JSON.stringify(l)),""].join(".")}const ls={};function xE(){const t={prod:[],emulator:[]};for(const e of Object.keys(ls))ls[e]?t.emulator.push(e):t.prod.push(e);return t}function SE(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _p=!1;function TE(t,e){if(typeof window>"u"||typeof document>"u"||!Ah(window.location.host)||ls[t]===e||ls[t]||_p)return;ls[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=xE().prod.length>0;function l(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,A){m.setAttribute("width","24"),m.setAttribute("id",A),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function h(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_p=!0,l()},m}function p(m,A){m.setAttribute("id",A),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=SE(r),A=n("text"),P=document.getElementById(A)||document.createElement("span"),R=n("learnmore"),b=document.getElementById(R)||document.createElement("a"),I=n("preprendIcon"),w=document.getElementById(I)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const C=m.element;a(C),p(b,R);const D=h();u(w,I),C.append(w,P,b,D),document.body.appendChild(C)}s?(P.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,P.innerText="Preview backend running in this workspace."),P.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function CE(){var e;const t=(e=kh())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function kE(){return!CE()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AE(){try{return typeof indexedDB=="object"}catch{return!1}}function PE(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE="FirebaseError";class _i extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=RE,Object.setPrototypeOf(this,_i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gy.prototype.create)}}class Gy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?NE(s,r):"Error",a=`${this.serviceName}: ${l} (${i}).`;return new _i(i,a,r)}}function NE(t,e){return t.replace(DE,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const DE=/\{\$([^}]+)}/g;function Il(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],l=e[i];if(wp(s)&&wp(l)){if(!Il(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function wp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new _E;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(bE(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&l.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jE(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jE(t){return t===lr?void 0:t}function bE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new VE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const OE={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},LE=ee.INFO,FE={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},zE=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=FE[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=LE,this._logHandler=zE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?OE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const UE=(t,e)=>e.some(n=>t instanceof n);let Ep,xp;function BE(){return Ep||(Ep=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $E(){return xp||(xp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,dc=new WeakMap,Xy=new WeakMap,uu=new WeakMap,Ph=new WeakMap;function HE(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",l)},s=()=>{n(Fn(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qy.set(n,t)}).catch(()=>{}),Ph.set(e,t),e}function WE(t){if(dc.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",l),t.removeEventListener("abort",l)},s=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",l),t.addEventListener("abort",l)});dc.set(t,e)}let pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function KE(t){pc=t(pc)}function GE(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cu(this),e,...n);return Xy.set(r,e.sort?e.sort():[e]),Fn(r)}:$E().includes(t)?function(...e){return t.apply(cu(this),e),Fn(qy.get(this))}:function(...e){return Fn(t.apply(cu(this),e))}}function QE(t){return typeof t=="function"?GE(t):(t instanceof IDBTransaction&&WE(t),UE(t,BE())?new Proxy(t,pc):t)}function Fn(t){if(t instanceof IDBRequest)return HE(t);if(uu.has(t))return uu.get(t);const e=QE(t);return e!==t&&(uu.set(t,e),Ph.set(e,t)),e}const cu=t=>Ph.get(t);function qE(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(t,e),a=Fn(l);return r&&l.addEventListener("upgradeneeded",u=>{r(Fn(l.result),u.oldVersion,u.newVersion,Fn(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",h=>i(h.oldVersion,h.newVersion,h))}).catch(()=>{}),a}const XE=["get","getKey","getAll","getAllKeys","count"],YE=["put","add","delete","clear"],hu=new Map;function Sp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hu.get(e))return hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=YE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||XE.includes(n)))return;const s=async function(l,...a){const u=this.transaction(l,i?"readwrite":"readonly");let h=u.store;return r&&(h=h.index(a.shift())),(await Promise.all([h[n](...a),i&&u.done]))[0]};return hu.set(e,s),s}KE(t=>({...t,get:(e,n,r)=>Sp(e,n)||t.get(e,n,r),has:(e,n)=>!!Sp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(ZE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function ZE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Tp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dn=new Qy("@firebase/app"),ex="@firebase/app-compat",tx="@firebase/analytics-compat",nx="@firebase/analytics",rx="@firebase/app-check-compat",ix="@firebase/app-check",sx="@firebase/auth",ox="@firebase/auth-compat",lx="@firebase/database",ax="@firebase/data-connect",ux="@firebase/database-compat",cx="@firebase/functions",hx="@firebase/functions-compat",fx="@firebase/installations",dx="@firebase/installations-compat",px="@firebase/messaging",mx="@firebase/messaging-compat",gx="@firebase/performance",yx="@firebase/performance-compat",vx="@firebase/remote-config",_x="@firebase/remote-config-compat",wx="@firebase/storage",Ex="@firebase/storage-compat",xx="@firebase/firestore",Sx="@firebase/ai",Tx="@firebase/firestore-compat",Ix="firebase",Cx="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",kx={[mc]:"fire-core",[ex]:"fire-core-compat",[nx]:"fire-analytics",[tx]:"fire-analytics-compat",[ix]:"fire-app-check",[rx]:"fire-app-check-compat",[sx]:"fire-auth",[ox]:"fire-auth-compat",[lx]:"fire-rtdb",[ax]:"fire-data-connect",[ux]:"fire-rtdb-compat",[cx]:"fire-fn",[hx]:"fire-fn-compat",[fx]:"fire-iid",[dx]:"fire-iid-compat",[px]:"fire-fcm",[mx]:"fire-fcm-compat",[gx]:"fire-perf",[yx]:"fire-perf-compat",[vx]:"fire-rc",[_x]:"fire-rc-compat",[wx]:"fire-gcs",[Ex]:"fire-gcs-compat",[xx]:"fire-fst",[Tx]:"fire-fst-compat",[Sx]:"fire-vertex","fire-js":"fire-js",[Ix]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map,Ax=new Map,yc=new Map;function Ip(t,e){try{t.container.addComponent(e)}catch(n){dn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function kl(t){const e=t.name;if(yc.has(e))return dn.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,t);for(const n of Cl.values())Ip(n,t);for(const n of Ax.values())Ip(n,t);return!0}function Px(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rx(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zn=new Gy("app","Firebase",Nx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vx=Cx;function Yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gc,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw zn.create("bad-app-name",{appName:String(i)});if(n||(n=Ky()),!n)throw zn.create("no-options");const s=Cl.get(i);if(s){if(Il(n,s.options)&&Il(r,s.config))return s;throw zn.create("duplicate-app",{appName:i})}const l=new ME(i);for(const u of yc.values())l.addComponent(u);const a=new Dx(n,r,l);return Cl.set(i,a),a}function jx(t=gc){const e=Cl.get(t);if(!e&&t===gc&&Ky())return Yy();if(!e)throw zn.create("no-app",{appName:t});return e}function ei(t,e,n){let r=kx[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const l=[`Unable to register library "${r}" with version "${e}":`];i&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&l.push("and"),s&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),dn.warn(l.join(" "));return}kl(new Vs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="firebase-heartbeat-database",Mx=1,js="firebase-heartbeat-store";let fu=null;function Jy(){return fu||(fu=qE(bx,Mx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(js)}catch(n){console.warn(n)}}}}).catch(t=>{throw zn.create("idb-open",{originalErrorMessage:t.message})})),fu}async function Ox(t){try{const n=(await Jy()).transaction(js),r=await n.objectStore(js).get(Zy(t));return await n.done,r}catch(e){if(e instanceof _i)dn.warn(e.message);else{const n=zn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});dn.warn(n.message)}}}async function Cp(t,e){try{const r=(await Jy()).transaction(js,"readwrite");await r.objectStore(js).put(e,Zy(t)),await r.done}catch(n){if(n instanceof _i)dn.warn(n.message);else{const r=zn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});dn.warn(r.message)}}}function Zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lx=1024,Fx=30;class zx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Bx(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=kp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Fx){const l=$x(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){dn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kp(),{heartbeatsToSend:r,unsentEntries:i}=Ux(this._heartbeatsCache.heartbeats),s=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return dn.warn(n),""}}}function kp(){return new Date().toISOString().substring(0,10)}function Ux(t,e=Lx){const n=[];let r=t.slice();for(const i of t){const s=n.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),Ap(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Ap(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Bx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AE()?PE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await Ox(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Cp(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ap(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}function $x(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){kl(new Vs("platform-logger",e=>new JE(e),"PRIVATE")),kl(new Vs("heartbeat",e=>new zx(e),"PRIVATE")),ei(mc,Tp,t),ei(mc,Tp,"esm2020"),ei("fire-js","")}Hx("");var Wx="firebase",Kx="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ei(Wx,Kx,"app");var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function S(){}S.prototype=v.prototype,x.F=v.prototype,x.prototype=new S,x.prototype.constructor=x,x.D=function(_,E,k){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return v.prototype[E].apply(_,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,v,S){S||(S=0);const _=Array(16);if(typeof v=="string")for(var E=0;E<16;++E)_[E]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(E=0;E<16;++E)_[E]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=x.g[0],S=x.g[1],E=x.g[2];let k=x.g[3],T;T=v+(k^S&(E^k))+_[0]+3614090360&4294967295,v=S+(T<<7&4294967295|T>>>25),T=k+(E^v&(S^E))+_[1]+3905402710&4294967295,k=v+(T<<12&4294967295|T>>>20),T=E+(S^k&(v^S))+_[2]+606105819&4294967295,E=k+(T<<17&4294967295|T>>>15),T=S+(v^E&(k^v))+_[3]+3250441966&4294967295,S=E+(T<<22&4294967295|T>>>10),T=v+(k^S&(E^k))+_[4]+4118548399&4294967295,v=S+(T<<7&4294967295|T>>>25),T=k+(E^v&(S^E))+_[5]+1200080426&4294967295,k=v+(T<<12&4294967295|T>>>20),T=E+(S^k&(v^S))+_[6]+2821735955&4294967295,E=k+(T<<17&4294967295|T>>>15),T=S+(v^E&(k^v))+_[7]+4249261313&4294967295,S=E+(T<<22&4294967295|T>>>10),T=v+(k^S&(E^k))+_[8]+1770035416&4294967295,v=S+(T<<7&4294967295|T>>>25),T=k+(E^v&(S^E))+_[9]+2336552879&4294967295,k=v+(T<<12&4294967295|T>>>20),T=E+(S^k&(v^S))+_[10]+4294925233&4294967295,E=k+(T<<17&4294967295|T>>>15),T=S+(v^E&(k^v))+_[11]+2304563134&4294967295,S=E+(T<<22&4294967295|T>>>10),T=v+(k^S&(E^k))+_[12]+1804603682&4294967295,v=S+(T<<7&4294967295|T>>>25),T=k+(E^v&(S^E))+_[13]+4254626195&4294967295,k=v+(T<<12&4294967295|T>>>20),T=E+(S^k&(v^S))+_[14]+2792965006&4294967295,E=k+(T<<17&4294967295|T>>>15),T=S+(v^E&(k^v))+_[15]+1236535329&4294967295,S=E+(T<<22&4294967295|T>>>10),T=v+(E^k&(S^E))+_[1]+4129170786&4294967295,v=S+(T<<5&4294967295|T>>>27),T=k+(S^E&(v^S))+_[6]+3225465664&4294967295,k=v+(T<<9&4294967295|T>>>23),T=E+(v^S&(k^v))+_[11]+643717713&4294967295,E=k+(T<<14&4294967295|T>>>18),T=S+(k^v&(E^k))+_[0]+3921069994&4294967295,S=E+(T<<20&4294967295|T>>>12),T=v+(E^k&(S^E))+_[5]+3593408605&4294967295,v=S+(T<<5&4294967295|T>>>27),T=k+(S^E&(v^S))+_[10]+38016083&4294967295,k=v+(T<<9&4294967295|T>>>23),T=E+(v^S&(k^v))+_[15]+3634488961&4294967295,E=k+(T<<14&4294967295|T>>>18),T=S+(k^v&(E^k))+_[4]+3889429448&4294967295,S=E+(T<<20&4294967295|T>>>12),T=v+(E^k&(S^E))+_[9]+568446438&4294967295,v=S+(T<<5&4294967295|T>>>27),T=k+(S^E&(v^S))+_[14]+3275163606&4294967295,k=v+(T<<9&4294967295|T>>>23),T=E+(v^S&(k^v))+_[3]+4107603335&4294967295,E=k+(T<<14&4294967295|T>>>18),T=S+(k^v&(E^k))+_[8]+1163531501&4294967295,S=E+(T<<20&4294967295|T>>>12),T=v+(E^k&(S^E))+_[13]+2850285829&4294967295,v=S+(T<<5&4294967295|T>>>27),T=k+(S^E&(v^S))+_[2]+4243563512&4294967295,k=v+(T<<9&4294967295|T>>>23),T=E+(v^S&(k^v))+_[7]+1735328473&4294967295,E=k+(T<<14&4294967295|T>>>18),T=S+(k^v&(E^k))+_[12]+2368359562&4294967295,S=E+(T<<20&4294967295|T>>>12),T=v+(S^E^k)+_[5]+4294588738&4294967295,v=S+(T<<4&4294967295|T>>>28),T=k+(v^S^E)+_[8]+2272392833&4294967295,k=v+(T<<11&4294967295|T>>>21),T=E+(k^v^S)+_[11]+1839030562&4294967295,E=k+(T<<16&4294967295|T>>>16),T=S+(E^k^v)+_[14]+4259657740&4294967295,S=E+(T<<23&4294967295|T>>>9),T=v+(S^E^k)+_[1]+2763975236&4294967295,v=S+(T<<4&4294967295|T>>>28),T=k+(v^S^E)+_[4]+1272893353&4294967295,k=v+(T<<11&4294967295|T>>>21),T=E+(k^v^S)+_[7]+4139469664&4294967295,E=k+(T<<16&4294967295|T>>>16),T=S+(E^k^v)+_[10]+3200236656&4294967295,S=E+(T<<23&4294967295|T>>>9),T=v+(S^E^k)+_[13]+681279174&4294967295,v=S+(T<<4&4294967295|T>>>28),T=k+(v^S^E)+_[0]+3936430074&4294967295,k=v+(T<<11&4294967295|T>>>21),T=E+(k^v^S)+_[3]+3572445317&4294967295,E=k+(T<<16&4294967295|T>>>16),T=S+(E^k^v)+_[6]+76029189&4294967295,S=E+(T<<23&4294967295|T>>>9),T=v+(S^E^k)+_[9]+3654602809&4294967295,v=S+(T<<4&4294967295|T>>>28),T=k+(v^S^E)+_[12]+3873151461&4294967295,k=v+(T<<11&4294967295|T>>>21),T=E+(k^v^S)+_[15]+530742520&4294967295,E=k+(T<<16&4294967295|T>>>16),T=S+(E^k^v)+_[2]+3299628645&4294967295,S=E+(T<<23&4294967295|T>>>9),T=v+(E^(S|~k))+_[0]+4096336452&4294967295,v=S+(T<<6&4294967295|T>>>26),T=k+(S^(v|~E))+_[7]+1126891415&4294967295,k=v+(T<<10&4294967295|T>>>22),T=E+(v^(k|~S))+_[14]+2878612391&4294967295,E=k+(T<<15&4294967295|T>>>17),T=S+(k^(E|~v))+_[5]+4237533241&4294967295,S=E+(T<<21&4294967295|T>>>11),T=v+(E^(S|~k))+_[12]+1700485571&4294967295,v=S+(T<<6&4294967295|T>>>26),T=k+(S^(v|~E))+_[3]+2399980690&4294967295,k=v+(T<<10&4294967295|T>>>22),T=E+(v^(k|~S))+_[10]+4293915773&4294967295,E=k+(T<<15&4294967295|T>>>17),T=S+(k^(E|~v))+_[1]+2240044497&4294967295,S=E+(T<<21&4294967295|T>>>11),T=v+(E^(S|~k))+_[8]+1873313359&4294967295,v=S+(T<<6&4294967295|T>>>26),T=k+(S^(v|~E))+_[15]+4264355552&4294967295,k=v+(T<<10&4294967295|T>>>22),T=E+(v^(k|~S))+_[6]+2734768916&4294967295,E=k+(T<<15&4294967295|T>>>17),T=S+(k^(E|~v))+_[13]+1309151649&4294967295,S=E+(T<<21&4294967295|T>>>11),T=v+(E^(S|~k))+_[4]+4149444226&4294967295,v=S+(T<<6&4294967295|T>>>26),T=k+(S^(v|~E))+_[11]+3174756917&4294967295,k=v+(T<<10&4294967295|T>>>22),T=E+(v^(k|~S))+_[2]+718787259&4294967295,E=k+(T<<15&4294967295|T>>>17),T=S+(k^(E|~v))+_[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(E+(T<<21&4294967295|T>>>11))&4294967295,x.g[2]=x.g[2]+E&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,v){v===void 0&&(v=x.length);const S=v-this.blockSize,_=this.C;let E=this.h,k=0;for(;k<v;){if(E==0)for(;k<=S;)i(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<v;)if(_[E++]=x.charCodeAt(k++),E==this.blockSize){i(this,_),E=0;break}}else for(;k<v;)if(_[E++]=x[k++],E==this.blockSize){i(this,_),E=0;break}}this.h=E,this.o+=v},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;v=this.o*8;for(var S=x.length-8;S<x.length;++S)x[S]=v&255,v/=256;for(this.v(x),x=Array(16),v=0,S=0;S<4;++S)for(let _=0;_<32;_+=8)x[v++]=this.g[S]>>>_&255;return x};function s(x,v){var S=a;return Object.prototype.hasOwnProperty.call(S,x)?S[x]:S[x]=v(x)}function l(x,v){this.h=v;const S=[];let _=!0;for(let E=x.length-1;E>=0;E--){const k=x[E]|0;_&&k==v||(S[E]=k,_=!1)}this.g=S}var a={};function u(x){return-128<=x&&x<128?s(x,function(v){return new l([v|0],v<0?-1:0)}):new l([x|0],x<0?-1:0)}function h(x){if(isNaN(x)||!isFinite(x))return g;if(x<0)return b(h(-x));const v=[];let S=1;for(let _=0;x>=S;_++)v[_]=x/S|0,S*=4294967296;return new l(v,0)}function p(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return b(p(x.substring(1),v));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=h(Math.pow(v,8));let _=g;for(let k=0;k<x.length;k+=8){var E=Math.min(8,x.length-k);const T=parseInt(x.substring(k,k+E),v);E<8?(E=h(Math.pow(v,E)),_=_.j(E).add(h(T))):(_=_.j(S),_=_.add(h(T)))}return _}var g=u(0),m=u(1),A=u(16777216);t=l.prototype,t.m=function(){if(R(this))return-b(this).m();let x=0,v=1;for(let S=0;S<this.g.length;S++){const _=this.i(S);x+=(_>=0?_:4294967296+_)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(P(this))return"0";if(R(this))return"-"+b(this).toString(x);const v=h(Math.pow(x,6));var S=this;let _="";for(;;){const E=D(S,v).g;S=I(S,E.j(v));let k=((S.g.length>0?S.g[0]:S.h)>>>0).toString(x);if(S=E,P(S))return k+_;for(;k.length<6;)k="0"+k;_=k+_}},t.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function P(x){if(x.h!=0)return!1;for(let v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function R(x){return x.h==-1}t.l=function(x){return x=I(this,x),R(x)?-1:P(x)?0:1};function b(x){const v=x.g.length,S=[];for(let _=0;_<v;_++)S[_]=~x.g[_];return new l(S,~x.h).add(m)}t.abs=function(){return R(this)?b(this):this},t.add=function(x){const v=Math.max(this.g.length,x.g.length),S=[];let _=0;for(let E=0;E<=v;E++){let k=_+(this.i(E)&65535)+(x.i(E)&65535),T=(k>>>16)+(this.i(E)>>>16)+(x.i(E)>>>16);_=T>>>16,k&=65535,T&=65535,S[E]=T<<16|k}return new l(S,S[S.length-1]&-2147483648?-1:0)};function I(x,v){return x.add(b(v))}t.j=function(x){if(P(this)||P(x))return g;if(R(this))return R(x)?b(this).j(b(x)):b(b(this).j(x));if(R(x))return b(this.j(b(x)));if(this.l(A)<0&&x.l(A)<0)return h(this.m()*x.m());const v=this.g.length+x.g.length,S=[];for(var _=0;_<2*v;_++)S[_]=0;for(_=0;_<this.g.length;_++)for(let E=0;E<x.g.length;E++){const k=this.i(_)>>>16,T=this.i(_)&65535,J=x.i(E)>>>16,ge=x.i(E)&65535;S[2*_+2*E]+=T*ge,w(S,2*_+2*E),S[2*_+2*E+1]+=k*ge,w(S,2*_+2*E+1),S[2*_+2*E+1]+=T*J,w(S,2*_+2*E+1),S[2*_+2*E+2]+=k*J,w(S,2*_+2*E+2)}for(x=0;x<v;x++)S[x]=S[2*x+1]<<16|S[2*x];for(x=v;x<2*v;x++)S[x]=0;return new l(S,0)};function w(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function C(x,v){this.g=x,this.h=v}function D(x,v){if(P(v))throw Error("division by zero");if(P(x))return new C(g,g);if(R(x))return v=D(b(x),v),new C(b(v.g),b(v.h));if(R(v))return v=D(x,b(v)),new C(b(v.g),v.h);if(x.g.length>30){if(R(x)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var S=m,_=v;_.l(x)<=0;)S=M(S),_=M(_);var E=F(S,1),k=F(_,1);for(_=F(_,2),S=F(S,2);!P(_);){var T=k.add(_);T.l(x)<=0&&(E=E.add(S),k=T),_=F(_,1),S=F(S,1)}return v=I(x,E.j(v)),new C(E,v)}for(E=g;x.l(v)>=0;){for(S=Math.max(1,Math.floor(x.m()/v.m())),_=Math.ceil(Math.log(S)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),k=h(S),T=k.j(v);R(T)||T.l(x)>0;)S-=_,k=h(S),T=k.j(v);P(k)&&(k=m),E=E.add(k),x=I(x,T)}return new C(E,x)}t.B=function(x){return D(this,x).h},t.and=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)&x.i(_);return new l(S,this.h&x.h)},t.or=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)|x.i(_);return new l(S,this.h|x.h)},t.xor=function(x){const v=Math.max(this.g.length,x.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)^x.i(_);return new l(S,this.h^x.h)};function M(x){const v=x.g.length+1,S=[];for(let _=0;_<v;_++)S[_]=x.i(_)<<1|x.i(_-1)>>>31;return new l(S,x.h)}function F(x,v){const S=v>>5;v%=32;const _=x.g.length-S,E=[];for(let k=0;k<_;k++)E[k]=v>0?x.i(k+S)>>>v|x.i(k+S+1)<<32-v:x.i(k+S);return new l(E,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=p,Rh=l}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,Yi,tv,Qo,vc,nv,rv,iv;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ro=="object"&&Ro];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(o,c){if(c)e:{var f=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var N=o[y];if(!(N in f))break e;f=f[N]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}i("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(o){return o||function(c){var f=[],y;for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&f.push([y,c[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},l=this||self;function a(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,f){return o.call.apply(o.bind,arguments)}function h(o,c,f){return h=u,h.apply(null,arguments)}function p(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function g(o,c){function f(){}f.prototype=c.prototype,o.Z=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,N,V){for(var U=Array(arguments.length-2),q=2;q<arguments.length;q++)U[q-2]=arguments[q];return c.prototype[N].apply(y,U)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function A(o){const c=o.length;if(c>0){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function P(o,c){for(let y=1;y<arguments.length;y++){const N=arguments[y];var f=typeof N;if(f=f!="object"?f:N?Array.isArray(N)?"array":f:"null",f=="array"||f=="object"&&typeof N.length=="number"){f=o.length||0;const V=N.length||0;o.length=f+V;for(let U=0;U<V;U++)o[f+U]=N[U]}else o.push(N)}}class R{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function b(o){l.setTimeout(()=>{throw o},0)}function I(){var o=x;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class w{constructor(){this.h=this.g=null}add(c,f){const y=C.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var C=new R(()=>new D,o=>o.reset());class D{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let M,F=!1,x=new w,v=()=>{const o=Promise.resolve(void 0);M=()=>{o.then(S)}};function S(){for(var o;o=I();){try{o.h.call(o.g)}catch(f){b(f)}var c=C;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}F=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function E(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}E.prototype.h=function(){this.defaultPrevented=!0};var k=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function T(o){return/^[\s\xa0]*$/.test(o)}function J(o,c){E.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}g(J,E),J.prototype.init=function(o,c){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),fe=0;function Jn(o,c,f,y,N){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=N,this.key=++fe,this.da=this.fa=!1}function B(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function G(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function K(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function re(o){const c={};for(const f in o)c[f]=o[f];return c}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Zt(o,c){let f,y;for(let N=1;N<arguments.length;N++){y=arguments[N];for(f in y)o[f]=y[f];for(let V=0;V<ye.length;V++)f=ye[V],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function at(o){this.src=o,this.g={},this.h=0}at.prototype.add=function(o,c,f,y,N){const V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);const U=Pt(o,c,y,N);return U>-1?(c=o[U],f||(c.fa=!1)):(c=new Jn(c,this.src,V,!!y,N),c.fa=f,o.push(c)),c};function Zn(o,c){const f=c.type;if(f in o.g){var y=o.g[f],N=Array.prototype.indexOf.call(y,c,void 0),V;(V=N>=0)&&Array.prototype.splice.call(y,N,1),V&&(B(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Pt(o,c,f,y){for(let N=0;N<o.length;++N){const V=o[N];if(!V.da&&V.listener==c&&V.capture==!!f&&V.ha==y)return N}return-1}var mn="closure_lm_"+(Math.random()*1e6|0),ma={};function nf(o,c,f,y,N){if(Array.isArray(c)){for(let V=0;V<c.length;V++)nf(o,c[V],f,y,N);return null}return f=of(f),o&&o[ge]?o.J(c,f,a(y)?!!y.capture:!1,N):h_(o,c,f,!1,y,N)}function h_(o,c,f,y,N,V){if(!c)throw Error("Invalid event type");const U=a(N)?!!N.capture:!!N;let q=ya(o);if(q||(o[mn]=q=new at(o)),f=q.add(c,f,y,U,V),f.proxy)return f;if(y=f_(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)k||(N=U),N===void 0&&(N=!1),o.addEventListener(c.toString(),y,N);else if(o.attachEvent)o.attachEvent(sf(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function f_(){function o(f){return c.call(o.src,o.listener,f)}const c=d_;return o}function rf(o,c,f,y,N){if(Array.isArray(c))for(var V=0;V<c.length;V++)rf(o,c[V],f,y,N);else y=a(y)?!!y.capture:!!y,f=of(f),o&&o[ge]?(o=o.i,V=String(c).toString(),V in o.g&&(c=o.g[V],f=Pt(c,f,y,N),f>-1&&(B(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete o.g[V],o.h--)))):o&&(o=ya(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Pt(c,f,y,N)),(f=o>-1?c[o]:null)&&ga(f))}function ga(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[ge])Zn(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(sf(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=ya(c))?(Zn(f,o),f.h==0&&(f.src=null,c[mn]=null)):B(o)}}}function sf(o){return o in ma?ma[o]:ma[o]="on"+o}function d_(o,c){if(o.da)o=!0;else{c=new J(c,this);const f=o.listener,y=o.ha||o.src;o.fa&&ga(o),o=f.call(y,c)}return o}function ya(o){return o=o[mn],o instanceof at?o:null}var va="__closure_events_fn_"+(Math.random()*1e9>>>0);function of(o){return typeof o=="function"?o:(o[va]||(o[va]=function(c){return o.handleEvent(c)}),o[va])}function Ge(){_.call(this),this.i=new at(this),this.M=this,this.G=null}g(Ge,_),Ge.prototype[ge]=!0,Ge.prototype.removeEventListener=function(o,c,f,y){rf(this,o,c,f,y)};function tt(o,c){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new E(c,o);else if(c instanceof E)c.target=c.target||o;else{var N=c;c=new E(y,o),Zt(c,N)}N=!0;let V,U;if(f)for(U=f.length-1;U>=0;U--)V=c.g=f[U],N=eo(V,y,!0,c)&&N;if(V=c.g=o,N=eo(V,y,!0,c)&&N,N=eo(V,y,!1,c)&&N,f)for(U=0;U<f.length;U++)V=c.g=f[U],N=eo(V,y,!1,c)&&N}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const f=o.g[c];for(let y=0;y<f.length;y++)B(f[y]);delete o.g[c],o.h--}}this.G=null},Ge.prototype.J=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},Ge.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function eo(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let N=!0;for(let V=0;V<c.length;++V){const U=c[V];if(U&&!U.da&&U.capture==f){const q=U.listener,Re=U.ha||U.src;U.fa&&Zn(o.i,U),N=q.call(Re,y)!==!1&&N}}return N&&!y.defaultPrevented}function p_(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=h(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:l.setTimeout(o,c||0)}function lf(o){o.g=p_(()=>{o.g=null,o.i&&(o.i=!1,lf(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class m_ extends _{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:lf(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xi(o){_.call(this),this.h=o,this.g={}}g(xi,_);var af=[];function uf(o){G(o.g,function(c,f){this.g.hasOwnProperty(f)&&ga(c)},o),o.g={}}xi.prototype.N=function(){xi.Z.N.call(this),uf(this)},xi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=l.JSON.stringify,g_=l.JSON.parse,y_=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function cf(){}function hf(){}var Si={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wa(){E.call(this,"d")}g(wa,E);function Ea(){E.call(this,"c")}g(Ea,E);var er={},ff=null;function to(){return ff=ff||new Ge}er.Ia="serverreachability";function df(o){E.call(this,er.Ia,o)}g(df,E);function Ti(o){const c=to();tt(c,new df(c))}er.STAT_EVENT="statevent";function pf(o,c){E.call(this,er.STAT_EVENT,o),this.stat=c}g(pf,E);function nt(o){const c=to();tt(c,new pf(c,o))}er.Ja="timingevent";function mf(o,c){E.call(this,er.Ja,o),this.size=c}g(mf,E);function Ii(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Ci(){this.g=!0}Ci.prototype.ua=function(){this.g=!1};function v_(o,c,f,y,N,V){o.info(function(){if(o.g)if(V){var U="",q=V.split("&");for(let oe=0;oe<q.length;oe++){var Re=q[oe].split("=");if(Re.length>1){const Ve=Re[0];Re=Re[1];const Bt=Ve.split("_");U=Bt.length>=2&&Bt[1]=="type"?U+(Ve+"="+Re+"&"):U+(Ve+"=redacted&")}}}else U=null;else U=V;return"XMLHTTP REQ ("+y+") [attempt "+N+"]: "+c+`
`+f+`
`+U})}function __(o,c,f,y,N,V,U){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+N+"]: "+c+`
`+f+`
`+V+" "+U})}function Rr(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+E_(o,f)+(y?" "+y:"")})}function w_(o,c){o.info(function(){return"TIMEOUT: "+c})}Ci.prototype.info=function(){};function E_(o,c){if(!o.g)return c;if(!c)return null;try{const V=JSON.parse(c);if(V){for(o=0;o<V.length;o++)if(Array.isArray(V[o])){var f=V[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var N=y[0];if(N!="noop"&&N!="stop"&&N!="close")for(let U=1;U<y.length;U++)y[U]=""}}}}return _a(V)}catch{return c}}var no={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},gf={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},yf;function xa(){}g(xa,cf),xa.prototype.g=function(){return new XMLHttpRequest},yf=new xa;function ki(o){return encodeURIComponent(String(o))}function x_(o){var c=1;o=o.split(":");const f=[];for(;c>0&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function gn(o,c,f,y){this.j=o,this.i=c,this.l=f,this.S=y||1,this.V=new xi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new vf}function vf(){this.i=null,this.g="",this.h=!1}var _f={},Sa={};function Ta(o,c,f){o.M=1,o.A=io(Ut(c)),o.u=f,o.R=!0,wf(o,null)}function wf(o,c){o.F=Date.now(),ro(o),o.B=Ut(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),Vf(f.i,"t",y),o.C=0,f=o.j.L,o.h=new vf,o.g=Yf(o.j,f?c:null,!o.u),o.P>0&&(o.O=new m_(h(o.Y,o,o.g),o.P)),c=o.V,f=o.g,y=o.ba;var N="readystatechange";Array.isArray(N)||(N&&(af[0]=N.toString()),N=af);for(let V=0;V<N.length;V++){const U=nf(f,N[V],y||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=o.J?re(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),Ti(),v_(o.i,o.v,o.B,o.l,o.S,o.u)}gn.prototype.ba=function(o){o=o.target;const c=this.O;c&&_n(o)==3?c.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)e:{const q=_n(this.g),Re=this.g.ya(),oe=this.g.ca();if(!(q<3)&&(q!=3||this.g&&(this.h.h||this.g.la()||zf(this.g)))){this.K||q!=4||Re==7||(Re==8||oe<=0?Ti(3):Ti(2)),Ia(this);var c=this.g.ca();this.X=c;var f=S_(this);if(this.o=c==200,__(this.i,this.v,this.B,this.l,this.S,q,c),this.o){if(this.U&&!this.L){t:{if(this.g){var y,N=this.g;if((y=N.g?N.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(y)){var V=y;break t}}V=null}if(o=V)Rr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ca(this,o);else{this.o=!1,this.m=3,nt(12),tr(this),Ai(this);break e}}if(this.R){o=!0;let Ve;for(;!this.K&&this.C<f.length;)if(Ve=T_(this,f),Ve==Sa){q==4&&(this.m=4,nt(14),o=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==_f){this.m=4,nt(15),Rr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Rr(this.i,this.l,Ve,null),Ca(this,Ve);if(Ef(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),q!=4||f.length!=0||this.h.h||(this.m=1,nt(16),o=!1),this.o=this.o&&o,!o)Rr(this.i,this.l,f,"[Invalid Chunked Response]"),tr(this),Ai(this);else if(f.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ja(U),U.P=!0,nt(11))}}else Rr(this.i,this.l,f,null),Ca(this,f);q==4&&tr(this),this.o&&!this.K&&(q==4?Gf(this.j,this):(this.o=!1,ro(this)))}else L_(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,nt(12)):(this.m=0,nt(13)),tr(this),Ai(this)}}}catch{}finally{}};function S_(o){if(!Ef(o))return o.g.la();const c=zf(o.g);if(c==="")return"";let f="";const y=c.length,N=_n(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return tr(o),Ai(o),"";o.h.i=new l.TextDecoder}for(let V=0;V<y;V++)o.h.h=!0,f+=o.h.i.decode(c[V],{stream:!(N&&V==y-1)});return c.length=0,o.h.g+=f,o.C=0,o.h.g}function Ef(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function T_(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Sa:(f=Number(c.substring(f,y)),isNaN(f)?_f:(y+=1,y+f>c.length?Sa:(c=c.slice(y,y+f),o.C=y+f,c)))}gn.prototype.cancel=function(){this.K=!0,tr(this)};function ro(o){o.T=Date.now()+o.H,xf(o,o.H)}function xf(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ii(h(o.aa,o),c)}function Ia(o){o.D&&(l.clearTimeout(o.D),o.D=null)}gn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(w_(this.i,this.B),this.M!=2&&(Ti(),nt(17)),tr(this),this.m=2,Ai(this)):xf(this,this.T-o)};function Ai(o){o.j.I==0||o.K||Gf(o.j,o)}function tr(o){Ia(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,uf(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function Ca(o,c){try{var f=o.j;if(f.I!=0&&(f.g==o||ka(f.h,o))){if(!o.L&&ka(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var N=y;if(N[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)uo(f),lo(f);else break e;Va(f),nt(18)}}else f.xa=N[1],0<f.xa-f.K&&N[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ii(h(f.Va,f),6e3));If(f.h)<=1&&f.ta&&(f.ta=void 0)}else rr(f,11)}else if((o.L||f.g==o)&&uo(f),!T(c))for(N=f.Ba.g.parse(c),c=0;c<N.length;c++){let oe=N[c];const Ve=oe[0];if(!(Ve<=f.K))if(f.K=Ve,oe=oe[1],f.I==2)if(oe[0]=="c"){f.M=oe[1],f.ba=oe[2];const Bt=oe[3];Bt!=null&&(f.ka=Bt,f.j.info("VER="+f.ka));const ir=oe[4];ir!=null&&(f.za=ir,f.j.info("SVER="+f.za));const wn=oe[5];wn!=null&&typeof wn=="number"&&wn>0&&(y=1.5*wn,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const En=o.g;if(En){const ho=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var V=y.h;V.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(Aa(V,V.h),V.h=null))}if(y.G){const ba=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(y.wa=ba,ue(y.J,y.G,ba))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var U=o;if(y.na=Xf(y,y.L?y.ba:null,y.W),U.L){Cf(y.h,U);var q=U,Re=y.O;Re&&(q.H=Re),q.D&&(Ia(q),ro(q)),y.g=U}else Wf(y);f.i.length>0&&ao(f)}else oe[0]!="stop"&&oe[0]!="close"||rr(f,7);else f.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?rr(f,7):Da(f):oe[0]!="noop"&&f.l&&f.l.qa(oe),f.A=0)}}Ti(4)}catch{}}var I_=class{constructor(o,c){this.g=o,this.map=c}};function Sf(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Tf(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function If(o){return o.h?1:o.g?o.g.size:0}function ka(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Aa(o,c){o.g?o.g.add(c):o.h=c}function Cf(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Sf.prototype.cancel=function(){if(this.i=kf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function kf(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.G);return c}return A(o.i)}var Af=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function C_(o,c){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let N,V=null;y>=0?(N=o[f].substring(0,y),V=o[f].substring(y+1)):N=o[f],c(N,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function yn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof yn?(this.l=o.l,Pi(this,o.j),this.o=o.o,this.g=o.g,Ri(this,o.u),this.h=o.h,Pa(this,jf(o.i)),this.m=o.m):o&&(c=String(o).match(Af))?(this.l=!1,Pi(this,c[1]||"",!0),this.o=Ni(c[2]||""),this.g=Ni(c[3]||"",!0),Ri(this,c[4]),this.h=Ni(c[5]||"",!0),Pa(this,c[6]||"",!0),this.m=Ni(c[7]||"")):(this.l=!1,this.i=new Vi(null,this.l))}yn.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(Di(c,Pf,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(Di(c,Pf,!0),"@"),o.push(ki(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(Di(f,f.charAt(0)=="/"?P_:A_,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",Di(f,N_)),o.join("")},yn.prototype.resolve=function(o){const c=Ut(this);let f=!!o.j;f?Pi(c,o.j):f=!!o.o,f?c.o=o.o:f=!!o.g,f?c.g=o.g:f=o.u!=null;var y=o.h;if(f)Ri(c,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var N=c.h.lastIndexOf("/");N!=-1&&(y=c.h.slice(0,N+1)+y)}if(N=y,N==".."||N==".")y="";else if(N.indexOf("./")!=-1||N.indexOf("/.")!=-1){y=N.lastIndexOf("/",0)==0,N=N.split("/");const V=[];for(let U=0;U<N.length;){const q=N[U++];q=="."?y&&U==N.length&&V.push(""):q==".."?((V.length>1||V.length==1&&V[0]!="")&&V.pop(),y&&U==N.length&&V.push("")):(V.push(q),y=!0)}y=V.join("/")}else y=N}return f?c.h=y:f=o.i.toString()!=="",f?Pa(c,jf(o.i)):f=!!o.m,f&&(c.m=o.m),c};function Ut(o){return new yn(o)}function Pi(o,c,f){o.j=f?Ni(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Ri(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function Pa(o,c,f){c instanceof Vi?(o.i=c,D_(o.i,o.l)):(f||(c=Di(c,R_)),o.i=new Vi(c,o.l))}function ue(o,c,f){o.i.set(c,f)}function io(o){return ue(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ni(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Di(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,k_),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function k_(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Pf=/[#\/\?@]/g,A_=/[#\?:]/g,P_=/[#\?]/g,R_=/[#\?@]/g,N_=/#/g;function Vi(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function nr(o){o.g||(o.g=new Map,o.h=0,o.i&&C_(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Vi.prototype,t.add=function(o,c){nr(this),this.i=null,o=Nr(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Rf(o,c){nr(o),c=Nr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Nf(o,c){return nr(o),c=Nr(o,c),o.g.has(c)}t.forEach=function(o,c){nr(this),this.g.forEach(function(f,y){f.forEach(function(N){o.call(c,N,y,this)},this)},this)};function Df(o,c){nr(o);let f=[];if(typeof c=="string")Nf(o,c)&&(f=f.concat(o.g.get(Nr(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)f=f.concat(o[c]);return f}t.set=function(o,c){return nr(this),this.i=null,o=Nr(this,o),Nf(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=Df(this,o),o.length>0?String(o[0]):c):c};function Vf(o,c,f){Rf(o,c),f.length>0&&(o.i=null,o.g.set(Nr(o,c),A(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let y=0;y<c.length;y++){var f=c[y];const N=ki(f);f=Df(this,f);for(let V=0;V<f.length;V++){let U=N;f[V]!==""&&(U+="="+ki(f[V])),o.push(U)}}return this.i=o.join("&")};function jf(o){const c=new Vi;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function Nr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function D_(o,c){c&&!o.j&&(nr(o),o.i=null,o.g.forEach(function(f,y){const N=y.toLowerCase();y!=N&&(Rf(this,y),Vf(this,N,f))},o)),o.j=c}function V_(o,c){const f=new Ci;if(l.Image){const y=new Image;y.onload=p(vn,f,"TestLoadImage: loaded",!0,c,y),y.onerror=p(vn,f,"TestLoadImage: error",!1,c,y),y.onabort=p(vn,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=p(vn,f,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function j_(o,c){const f=new Ci,y=new AbortController,N=setTimeout(()=>{y.abort(),vn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(V=>{clearTimeout(N),V.ok?vn(f,"TestPingServer: ok",!0,c):vn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(N),vn(f,"TestPingServer: error",!1,c)})}function vn(o,c,f,y,N){try{N&&(N.onload=null,N.onerror=null,N.onabort=null,N.ontimeout=null),y(f)}catch{}}function b_(){this.g=new y_}function Ra(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Ra,cf),Ra.prototype.g=function(){return new so(this.i,this.h)};function so(o,c){Ge.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(so,Ge),t=so.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,bi(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||l).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ji(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,bi(this)),this.g&&(this.readyState=3,bi(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bf(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function bf(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?ji(this):bi(this),this.readyState==3&&bf(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,ji(this))},t.Na=function(o){this.g&&(this.response=o,ji(this))},t.ga=function(){this.g&&ji(this)};function ji(o){o.readyState=4,o.l=null,o.j=null,o.B=null,bi(o)}t.setRequestHeader=function(o,c){this.A.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function bi(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(so.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Mf(o){let c="";return G(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function Na(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Mf(f),typeof o=="string"?f!=null&&ki(f):ue(o,c,f))}function xe(o){Ge.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(xe,Ge);var M_=/^https?$/i,O_=["POST","PUT"];t=xe.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():yf.g(),this.g.onreadystatechange=m(h(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(V){Of(this,V);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var N in y)f.set(N,y[N]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const V of y.keys())f.set(V,y.get(V));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(V=>V.toLowerCase()=="content-type"),N=l.FormData&&o instanceof l.FormData,!(Array.prototype.indexOf.call(O_,c,void 0)>=0)||y||N||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,U]of f)this.g.setRequestHeader(V,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(V){Of(this,V)}};function Of(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,Lf(o),oo(o)}function Lf(o){o.A||(o.A=!0,tt(o,"complete"),tt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,tt(this,"complete"),tt(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),xe.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ff(this):this.Xa())},t.Xa=function(){Ff(this)};function Ff(o){if(o.h&&typeof s<"u"){if(o.v&&_n(o)==4)setTimeout(o.Ca.bind(o),0);else if(tt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const V=o.ca();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=V===0){let U=String(o.D).match(Af)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),y=!M_.test(U?U.toLowerCase():"")}f=y}if(f)tt(o,"complete"),tt(o,"success");else{o.o=6;try{var N=_n(o)>2?o.g.statusText:""}catch{N=""}o.l=N+" ["+o.ca()+"]",Lf(o)}}finally{oo(o)}}}}function oo(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,c||tt(o,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}t.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),g_(c)}};function zf(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function L_(o){const c={};o=(o.g&&_n(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(T(o[y]))continue;var f=x_(o[y]);const N=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const V=c[N]||[];c[N]=V,V.push(f)}K(c,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Mi(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Uf(o){this.za=0,this.i=[],this.j=new Ci,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Mi("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Mi("baseRetryDelayMs",5e3,o),this.Za=Mi("retryDelaySeedMs",1e4,o),this.Ta=Mi("forwardChannelMaxRetries",2,o),this.va=Mi("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Sf(o&&o.concurrentRequestLimit),this.Ba=new b_,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Uf.prototype,t.ka=8,t.I=1,t.connect=function(o,c,f,y){nt(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=Xf(this,null,this.W),ao(this)};function Da(o){if(Bf(o),o.I==3){var c=o.V++,f=Ut(o.J);if(ue(f,"SID",o.M),ue(f,"RID",c),ue(f,"TYPE","terminate"),Oi(o,f),c=new gn(o,o.j,c),c.M=2,c.A=io(Ut(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.A,f=!0),f||(c.g=Yf(c.j,null),c.g.ea(c.A)),c.F=Date.now(),ro(c)}qf(o)}function lo(o){o.g&&(ja(o),o.g.cancel(),o.g=null)}function Bf(o){lo(o),o.v&&(l.clearTimeout(o.v),o.v=null),uo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&l.clearTimeout(o.m),o.m=null)}function ao(o){if(!Tf(o.h)&&!o.m){o.m=!0;var c=o.Ea;M||v(),F||(M(),F=!0),x.add(c,o),o.D=0}}function F_(o,c){return If(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ii(h(o.Ea,o,c),Qf(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const N=new gn(this,this.j,o);let V=this.o;if(this.U&&(V?(V=re(V),Zt(V,this.U)):V=this.U),this.u!==null||this.R||(N.J=V,V=null),this.S)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,c>4096){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=Hf(this,N,c),f=Ut(this.J),ue(f,"RID",o),ue(f,"CVER",22),this.G&&ue(f,"X-HTTP-Session-Id",this.G),Oi(this,f),V&&(this.R?c="headers="+ki(Mf(V))+"&"+c:this.u&&Na(f,this.u,V)),Aa(this.h,N),this.Ra&&ue(f,"TYPE","init"),this.S?(ue(f,"$req",c),ue(f,"SID","null"),N.U=!0,Ta(N,f,null)):Ta(N,f,c),this.I=2}}else this.I==3&&(o?$f(this,o):this.i.length==0||Tf(this.h)||$f(this))};function $f(o,c){var f;c?f=c.l:f=o.V++;const y=Ut(o.J);ue(y,"SID",o.M),ue(y,"RID",f),ue(y,"AID",o.K),Oi(o,y),o.u&&o.o&&Na(y,o.u,o.o),f=new gn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),c&&(o.i=c.G.concat(o.i)),c=Hf(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Aa(o.h,f),Ta(f,y,c)}function Oi(o,c){o.H&&G(o.H,function(f,y){ue(c,y,f)}),o.l&&G({},function(f,y){ue(c,y,f)})}function Hf(o,c,f){f=Math.min(o.i.length,f);const y=o.l?h(o.l.Ka,o.l,o):null;e:{var N=o.i;let q=-1;for(;;){const Re=["count="+f];q==-1?f>0?(q=N[0].g,Re.push("ofs="+q)):q=0:Re.push("ofs="+q);let oe=!0;for(let Ve=0;Ve<f;Ve++){var V=N[Ve].g;const Bt=N[Ve].map;if(V-=q,V<0)q=Math.max(0,N[Ve].g-100),oe=!1;else try{V="req"+V+"_"||"";try{var U=Bt instanceof Map?Bt:Object.entries(Bt);for(const[ir,wn]of U){let En=wn;a(wn)&&(En=_a(wn)),Re.push(V+ir+"="+encodeURIComponent(En))}}catch(ir){throw Re.push(V+"type="+encodeURIComponent("_badmap")),ir}}catch{y&&y(Bt)}}if(oe){U=Re.join("&");break e}}U=void 0}return o=o.i.splice(0,f),c.G=o,U}function Wf(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;M||v(),F||(M(),F=!0),x.add(c,o),o.A=0}}function Va(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ii(h(o.Da,o),Qf(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Kf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ii(h(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nt(10),lo(this),Kf(this))};function ja(o){o.B!=null&&(l.clearTimeout(o.B),o.B=null)}function Kf(o){o.g=new gn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=Ut(o.na);ue(c,"RID","rpc"),ue(c,"SID",o.M),ue(c,"AID",o.K),ue(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&ue(c,"TO",o.ia),ue(c,"TYPE","xmlhttp"),Oi(o,c),o.u&&o.o&&Na(c,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=io(Ut(c)),f.u=null,f.R=!0,wf(f,o)}t.Va=function(){this.C!=null&&(this.C=null,lo(this),Va(this),nt(19))};function uo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Gf(o,c){var f=null;if(o.g==c){uo(o),ja(o),o.g=null;var y=2}else if(ka(o.h,c))f=c.G,Cf(o.h,c),y=1;else return;if(o.I!=0){if(c.o)if(y==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var N=o.D;y=to(),tt(y,new mf(y,f)),ao(o)}else Wf(o);else if(N=c.m,N==3||N==0&&c.X>0||!(y==1&&F_(o,c)||y==2&&Va(o)))switch(f&&f.length>0&&(c=o.h,c.i=c.i.concat(f)),N){case 1:rr(o,5);break;case 4:rr(o,10);break;case 3:rr(o,6);break;default:rr(o,2)}}}function Qf(o,c){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*c}function rr(o,c){if(o.j.info("Error code "+c),c==2){var f=h(o.bb,o),y=o.Ua;const N=!y;y=new yn(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Pi(y,"https"),io(y),N?V_(y.toString(),f):j_(y.toString(),f)}else nt(2);o.I=0,o.l&&o.l.pa(c),qf(o),Bf(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function qf(o){if(o.I=0,o.ja=[],o.l){const c=kf(o.h);(c.length!=0||o.i.length!=0)&&(P(o.ja,c),P(o.ja,o.i),o.h.i.length=0,A(o.i),o.i.length=0),o.l.oa()}}function Xf(o,c,f){var y=f instanceof yn?Ut(f):new yn(f);if(y.g!="")c&&(y.g=c+"."+y.g),Ri(y,y.u);else{var N=l.location;y=N.protocol,c=c?c+"."+N.hostname:N.hostname,N=+N.port;const V=new yn(null);y&&Pi(V,y),c&&(V.g=c),N&&Ri(V,N),f&&(V.h=f),y=V}return f=o.G,c=o.wa,f&&c&&ue(y,f,c),ue(y,"VER",o.ka),Oi(o,y),y}function Yf(o,c,f){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new xe(new Ra({ab:f})):new xe(o.ma),c.Fa(o.L),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jf(){}t=Jf.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function co(){}co.prototype.g=function(o,c){return new gt(o,c)};function gt(o,c){Ge.call(this),this.g=new Uf(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!T(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new Dr(this)}g(gt,Ge),gt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gt.prototype.close=function(){Da(this.g)},gt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=_a(o),o=f);c.i.push(new I_(c.Ya++,o)),c.I==3&&ao(c)},gt.prototype.N=function(){this.g.l=null,delete this.j,Da(this.g),delete this.g,gt.Z.N.call(this)};function Zf(o){wa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}g(Zf,wa);function ed(){Ea.call(this),this.status=1}g(ed,Ea);function Dr(o){this.g=o}g(Dr,Jf),Dr.prototype.ra=function(){tt(this.g,"a")},Dr.prototype.qa=function(o){tt(this.g,new Zf(o))},Dr.prototype.pa=function(o){tt(this.g,new ed)},Dr.prototype.oa=function(){tt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,gt.prototype.send=gt.prototype.o,gt.prototype.open=gt.prototype.m,gt.prototype.close=gt.prototype.close,iv=function(){return new co},rv=function(){return to()},nv=er,vc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Qo=no,gf.COMPLETE="complete",tv=gf,hf.EventType=Si,Si.OPEN="a",Si.CLOSE="b",Si.ERROR="c",Si.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Yi=hf,xe.prototype.listenOnce=xe.prototype.K,xe.prototype.getLastError=xe.prototype.Ha,xe.prototype.getLastErrorCode=xe.prototype.ya,xe.prototype.getStatus=xe.prototype.ca,xe.prototype.getResponseJson=xe.prototype.La,xe.prototype.getResponseText=xe.prototype.la,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Fa,ev=xe}).apply(typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{});const Rp="@firebase/firestore",Np="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wi="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Qy("@firebase/firestore");function jr(){return xr.logLevel}function H(t,...e){if(xr.logLevel<=ee.DEBUG){const n=e.map(Nh);xr.debug(`Firestore (${wi}): ${t}`,...n)}}function Sr(t,...e){if(xr.logLevel<=ee.ERROR){const n=e.map(Nh);xr.error(`Firestore (${wi}): ${t}`,...n)}}function sa(t,...e){if(xr.logLevel<=ee.WARN){const n=e.map(Nh);xr.warn(`Firestore (${wi}): ${t}`,...n)}}function Nh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sv(t,r,n)}function sv(t,e,n){let r=`FIRESTORE (${wi}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Te(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||sv(e,i,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends _i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class Qx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class qx{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let s=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new mr,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const u=s;e.enqueueRetryable(async()=>{await u.promise,await i(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new mr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ov(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class Xx{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Yx{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new Xx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Rx(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.m;return this.m=s.token,H("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Dp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Dp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=Zx(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function _c(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return du(i)===du(s)?ne(i,s):du(i)?1:-1}return ne(t.length,e.length)}const eS=55296,tS=57343;function du(t){const e=t.charCodeAt(0);return e>=eS&&e<=tS}function ci(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp="__name__";class Wt{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Wt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Wt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Wt.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return ne(e.length,n.length)}static compareSegments(e,n){const r=Wt.isNumericId(e),i=Wt.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Wt.extractNumericId(e).compare(Wt.extractNumericId(n)):_c(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rh.fromString(e.substring(4,e.length-2))}}class _e extends Wt{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const nS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends Wt{construct(e,n,r){return new Be(e,n,r)}static isValidIdentifier(e){return nS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Vp}static keyField(){return new Be([Vp])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new W(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new W(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(l=!l,i++):a!=="."||l?(r+=a,i++):(s(),i++)}if(s(),l)throw new W(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Be(n)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(_e.fromString(e))}static fromName(e){return new Q(_e.fromString(e).popFirst(5))}static empty(){return new Q(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new _e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new W(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rS(t,e,n,r){if(e===!0&&r===!0)throw new W(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function jp(t){if(!Q.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function bp(t){if(Q.isDocumentKey(t))throw new W(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Vh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Vh(t);throw new W(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gs(t,e){if(!av(t))throw new W(L.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(i&&typeof l!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&l!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new W(L.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-62135596800,Op=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Op);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mp)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Op}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gs(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ae("string",me._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{static fromTimestamp(e){return new de(e)}static min(){return new de(new me(0,0))}static max(){return new de(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=-1;function iS(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=de.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Hn(i,Q.empty(),e)}function sS(t){return new Hn(t.readTime,t.key,bs)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(de.min(),Q.empty(),bs)}static max(){return new Hn(de.max(),Q.empty(),bs)}}function oS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class aS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==lS)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new O((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof O?n:O.resolve(n)}catch(n){return O.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):O.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):O.reject(n)}static resolve(e){return new O((n,r)=>{n(e)})}static reject(e){return new O((n,r)=>{r(e)})}static waitFor(e){return new O((n,r)=>{let i=0,s=0,l=!1;e.forEach(a=>{++i,a.next(()=>{++s,l&&s===i&&n()},u=>r(u))}),l=!0,s===i&&n()})}static or(e){let n=O.resolve(!1);for(const r of e)n=n.next(i=>i?O.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new O((r,i)=>{const s=e.length,l=new Array(s);let a=0;for(let u=0;u<s;u++){const h=u;n(e[h]).next(p=>{l[h]=p,++a,a===s&&r(l)},p=>i(p))}})}static doWhile(e,n){return new O((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function uS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qs(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}bh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function Oh(t){return t==null}function Pl(t){return t===0&&1/t==-1/0}function cS(t){return typeof t=="number"&&Number.isInteger(t)&&!Pl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function hS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Lp(e)),e=fS(t.get(n),e);return Lp(e)}function fS(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case uv:n+="";break;default:n+=s}}return n}function Lp(t){return t+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ei(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){this.comparator=e,this.root=n||ze.EMPTY}insert(e,n){return new mt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new mt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new No(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new No(this.root,e,this.comparator,!1)}getReverseIterator(){return new No(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new No(this.root,e,this.comparator,!0)}}class No{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ze{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ze.RED,this.left=i??ze.EMPTY,this.right=s??ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new ze(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new ze(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new mt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new zp(this.data.getIterator())}getIteratorFrom(e){return new zp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class zp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort(Be.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new We(Be.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ci(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new dS("Invalid base64 string: "+s):s}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const pS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=pS.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ue(t.seconds),nanos:Ue(t.nanos)}}function Ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hi(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="server_timestamp",fv="__type__",dv="__previous_value__",pv="__local_write_time__";function Lh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fv])==null?void 0:r.stringValue)===hv}function Fh(t){const e=t.mapValue.fields[dv];return Lh(e)?Fh(e):e}function Rl(t){const e=Tr(t.mapValue.fields[pv].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,n,r,i,s,l,a,u,h,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=h,this.isUsingEmulator=p}}const Nl="(default)";class Dl{constructor(e,n){this.projectId=e,this.database=n||Nl}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Nl}isEqual(e){return e instanceof Dl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",gS="__max__",Do={mapValue:{}},gv="__vector__",wc="value";function Ir(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lh(t)?4:vS(t)?9007199254740991:yS(t)?10:11:X(28295,{value:t})}function Yt(t,e){if(t===e)return!0;const n=Ir(t);if(n!==Ir(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=Tr(i.timestampValue),a=Tr(s.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return hi(i.bytesValue).isEqual(hi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Ue(i.geoPointValue.latitude)===Ue(s.geoPointValue.latitude)&&Ue(i.geoPointValue.longitude)===Ue(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Ue(i.integerValue)===Ue(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=Ue(i.doubleValue),a=Ue(s.doubleValue);return l===a?Pl(l)===Pl(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return ci(t.arrayValue.values||[],e.arrayValue.values||[],Yt);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Fp(l)!==Fp(a))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(a[u]===void 0||!Yt(l[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Ms(t,e){return(t.values||[]).find(n=>Yt(n,e))!==void 0}function fi(t,e){if(t===e)return 0;const n=Ir(t),r=Ir(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(s,l){const a=Ue(s.integerValue||s.doubleValue),u=Ue(l.integerValue||l.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Up(t.timestampValue,e.timestampValue);case 4:return Up(Rl(t),Rl(e));case 5:return _c(t.stringValue,e.stringValue);case 6:return function(s,l){const a=hi(s),u=hi(l);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,l){const a=s.split("/"),u=l.split("/");for(let h=0;h<a.length&&h<u.length;h++){const p=ne(a[h],u[h]);if(p!==0)return p}return ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,l){const a=ne(Ue(s.latitude),Ue(l.latitude));return a!==0?a:ne(Ue(s.longitude),Ue(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bp(t.arrayValue,e.arrayValue);case 10:return function(s,l){var m,A,P,R;const a=s.fields||{},u=l.fields||{},h=(m=a[wc])==null?void 0:m.arrayValue,p=(A=u[wc])==null?void 0:A.arrayValue,g=ne(((P=h==null?void 0:h.values)==null?void 0:P.length)||0,((R=p==null?void 0:p.values)==null?void 0:R.length)||0);return g!==0?g:Bp(h,p)}(t.mapValue,e.mapValue);case 11:return function(s,l){if(s===Do.mapValue&&l===Do.mapValue)return 0;if(s===Do.mapValue)return 1;if(l===Do.mapValue)return-1;const a=s.fields||{},u=Object.keys(a),h=l.fields||{},p=Object.keys(h);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const m=_c(u[g],p[g]);if(m!==0)return m;const A=fi(a[u[g]],h[p[g]]);if(A!==0)return A}return ne(u.length,p.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function Up(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=Tr(t),r=Tr(e),i=ne(n.seconds,r.seconds);return i!==0?i:ne(n.nanos,r.nanos)}function Bp(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=fi(n[i],r[i]);if(s)return s}return ne(n.length,r.length)}function di(t){return Ec(t)}function Ec(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Ec(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${Ec(n.fields[l])}`;return i+"}"}(t.mapValue):X(61005,{value:t})}function qo(t){switch(Ir(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Fh(t);return e?16+qo(e):16;case 5:return 2*t.stringValue.length;case 6:return hi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+qo(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Ei(r.fields,(s,l)=>{i+=s.length+qo(l)}),i}(t.mapValue);default:throw X(13486,{value:t})}}function xc(t){return!!t&&"integerValue"in t}function zh(t){return!!t&&"arrayValue"in t}function Xo(t){return!!t&&"mapValue"in t}function yS(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mv])==null?void 0:r.stringValue)===gv}function as(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Ei(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=as(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=as(t.arrayValue.values[n]);return e}return{...t}}function vS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===gS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.value=e}static empty(){return new bt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=as(n)}setAll(e){let n=Be.emptyPath(),r={},i=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}l?r[a.lastSegment()]=as(l):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Xo(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ei(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new bt(as(this.value))}}function yv(t){const e=[];return Ei(t.fields,(n,r)=>{const i=new Be([n]);if(Xo(r)){const s=yv(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r,i,s,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=a}static newInvalidDocument(e){return new jt(e,0,de.min(),de.min(),de.min(),bt.empty(),0)}static newFoundDocument(e,n,r,i){return new jt(e,1,n,de.min(),r,i,0)}static newNoDocument(e,n){return new jt(e,2,n,de.min(),de.min(),bt.empty(),0)}static newUnknownDocument(e,n){return new jt(e,3,n,de.min(),de.min(),bt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(de.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=bt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=bt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=de.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.position=e,this.inclusive=n}}function $p(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],l=t.position[i];if(s.field.isKeyField()?r=Q.comparator(Q.fromName(l.referenceValue),n.key):r=fi(l,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function _S(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Me extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new ES(e,n,r):n==="array-contains"?new TS(e,r):n==="in"?new IS(e,r):n==="not-in"?new CS(e,r):n==="array-contains-any"?new kS(e,r):new Me(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new xS(e,r):new SS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(fi(n,this.value)):n!==null&&Ir(this.value)===Ir(n)&&this.matchesComparison(fi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return _v(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(t){return t.op==="and"}function wv(t){return wS(t)&&_v(t)}function wS(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Sc(t){if(t instanceof Me)return t.field.canonicalString()+t.op.toString()+di(t.value);if(wv(t))return t.filters.map(e=>Sc(e)).join(",");{const e=t.filters.map(n=>Sc(n)).join(",");return`${t.op}(${e})`}}function Ev(t,e){return t instanceof Me?function(r,i){return i instanceof Me&&r.op===i.op&&r.field.isEqual(i.field)&&Yt(r.value,i.value)}(t,e):t instanceof Wn?function(r,i){return i instanceof Wn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,a)=>s&&Ev(l,i.filters[a]),!0):!1}(t,e):void X(19439)}function xv(t){return t instanceof Me?function(n){return`${n.field.canonicalString()} ${n.op} ${di(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(xv).join(" ,")+"}"}(t):"Filter"}class ES extends Me{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class xS extends Me{constructor(e,n){super(e,"in",n),this.keys=Sv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class SS extends Me{constructor(e,n){super(e,"not-in",n),this.keys=Sv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sv(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class TS extends Me{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zh(n)&&Ms(n.arrayValue,this.value)}}class IS extends Me{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Ms(this.value.arrayValue,n)}}class CS extends Me{constructor(e,n){super(e,"not-in",n)}matches(e){if(Ms(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Ms(this.value.arrayValue,n)}}class kS extends Me{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Ms(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,n=null,r=[],i=[],s=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=a,this.Te=null}}function Wp(t,e=null,n=[],r=[],i=null,s=null,l=null){return new AS(t,e,n,r,i,s,l)}function Uh(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Oh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>di(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>di(r)).join(",")),e.Te=n}return e.Te}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!_S(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ev(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hp(t.startAt,e.startAt)&&Hp(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],i=[],s=null,l="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PS(t,e,n,r,i,s,l,a){return new oa(t,e,n,r,i,s,l,a)}function RS(t){return new oa(t)}function Kp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function NS(t){return t.collectionGroup!==null}function us(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new We(Be.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(h=>{h.isInequality()&&(a=a.add(h.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new jl(s,r))}),n.has(Be.keyField().canonicalString())||e.Ie.push(new jl(Be.keyField(),r))}return e.Ie}function gr(t){const e=ae(t);return e.Ee||(e.Ee=DS(e,us(t))),e.Ee}function DS(t,e){if(t.limitType==="F")return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new jl(i.field,s)});const n=t.endAt?new Vl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Vl(t.startAt.position,t.startAt.inclusive):null;return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tc(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tv(t,e){return Bh(gr(t),gr(e))&&t.limitType===e.limitType}function Iv(t){return`${Uh(gr(t))}|lt:${t.limitType}`}function Ki(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xv(i)).join(", ")}]`),Oh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>di(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>di(i)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Q.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of us(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(l,a,u){const h=$p(l,a,u);return l.inclusive?h<=0:h<0}(r.startAt,us(r),i)||r.endAt&&!function(l,a,u){const h=$p(l,a,u);return l.inclusive?h>=0:h>0}(r.endAt,us(r),i))}(t,e)}function VS(t){return(e,n)=>{let r=!1;for(const i of us(t)){const s=jS(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function jS(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(s,l,a){const u=l.data.field(s),h=a.data.field(s);return u!==null&&h!==null?fi(u,h):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ei(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS=new mt(Q.comparator);function bl(){return bS}const Cv=new mt(Q.comparator);function Vo(...t){let e=Cv;for(const n of t)e=e.insert(n.key,n);return e}function kv(t){let e=Cv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hr(){return cs()}function Av(){return cs()}function cs(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}const MS=new mt(Q.comparator),OS=new We(Q.comparator);function Ze(...t){let e=OS;for(const n of t)e=e.add(n);return e}const LS=new We(ne);function FS(){return LS}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pl(e)?"-0":e}}function Pv(t){return{integerValue:""+t}}function zS(t,e){return cS(e)?Pv(e):Hh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function US(t,e,n){return t instanceof Os?function(i,s){const l={fields:{[fv]:{stringValue:hv},[pv]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&Lh(s)&&(s=Fh(s)),s&&(l.fields[dv]=s),{mapValue:l}}(n,e):t instanceof Ls?Nv(t,e):t instanceof Fs?Dv(t,e):function(i,s){const l=Rv(i,s),a=Gp(l)+Gp(i.Ae);return xc(l)&&xc(i.Ae)?Pv(a):Hh(i.serializer,a)}(t,e)}function BS(t,e,n){return t instanceof Ls?Nv(t,e):t instanceof Fs?Dv(t,e):n}function Rv(t,e){return t instanceof Ml?function(r){return xc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Os extends la{}class Ls extends la{constructor(e){super(),this.elements=e}}function Nv(t,e){const n=Vv(e);for(const r of t.elements)n.some(i=>Yt(i,r))||n.push(r);return{arrayValue:{values:n}}}class Fs extends la{constructor(e){super(),this.elements=e}}function Dv(t,e){let n=Vv(e);for(const r of t.elements)n=n.filter(i=>!Yt(i,r));return{arrayValue:{values:n}}}class Ml extends la{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gp(t){return Ue(t.integerValue||t.doubleValue)}function Vv(t){return zh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e,n){this.field=e,this.transform=n}}function HS(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ls&&i instanceof Ls||r instanceof Fs&&i instanceof Fs?ci(r.elements,i.elements,Yt):r instanceof Ml&&i instanceof Ml?Yt(r.Ae,i.Ae):r instanceof Os&&i instanceof Os}(t.transform,e.transform)}class WS{constructor(e,n){this.version=e,this.transformResults=n}}class qt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new qt}static exists(e){return new qt(void 0,e)}static updateTime(e){return new qt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class aa{}function jv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,qt.none()):new qs(t.key,t.data,qt.none());{const n=t.data,r=bt.empty();let i=new We(Be.comparator);for(let s of e.fields)if(!i.has(s)){let l=n.field(s);l===null&&s.length>1&&(s=s.popLast(),l=n.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Pr(t.key,r,new Ot(i.toArray()),qt.none())}}function KS(t,e,n){t instanceof qs?function(i,s,l){const a=i.value.clone(),u=qp(i.fieldTransforms,s,l.transformResults);a.setAll(u),s.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Pr?function(i,s,l){if(!Yo(i.precondition,s))return void s.convertToUnknownDocument(l.version);const a=qp(i.fieldTransforms,s,l.transformResults),u=s.data;u.setAll(bv(i)),u.setAll(a),s.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function hs(t,e,n,r){return t instanceof qs?function(s,l,a,u){if(!Yo(s.precondition,l))return a;const h=s.value.clone(),p=Xp(s.fieldTransforms,u,l);return h.setAll(p),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(t,e,n,r):t instanceof Pr?function(s,l,a,u){if(!Yo(s.precondition,l))return a;const h=Xp(s.fieldTransforms,u,l),p=l.data;return p.setAll(bv(s)),p.setAll(h),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,l,a){return Yo(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function GS(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Rv(r.transform,i||null);s!=null&&(n===null&&(n=bt.empty()),n.set(r.field,s))}return n||null}function Qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ci(r,i,(s,l)=>HS(s,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qs extends aa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pr extends aa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function bv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qp(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],l=s.transform,a=e.data.field(s.field);r.set(s.field,BS(l,a,n[i]))}return r}function Xp(t,e,n){const r=new Map;for(const i of t){const s=i.transform,l=n.data.field(i.field);r.set(i.field,US(s,l,e))}return r}class Mv extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class QS extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qS{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&KS(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hs(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Av();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let a=this.applyToLocalView(l,s.mutatedFields);a=n.has(i.key)?null:a;const u=jv(l,a);u!==null&&r.set(i.key,u),l.isValidDocument()||l.convertToNoDocument(de.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&ci(this.mutations,e.mutations,(n,r)=>Qp(n,r))&&ci(this.baseMutations,e.baseMutations,(n,r)=>Qp(n,r))}}class Wh{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return MS}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Wh(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,Z;function YS(t){switch(t){case L.OK:return X(64938);case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function JS(t){if(t===void 0)return Sr("GRPC error has no .code"),L.UNKNOWN;switch(t){case Ce.OK:return L.OK;case Ce.CANCELLED:return L.CANCELLED;case Ce.UNKNOWN:return L.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return L.INTERNAL;case Ce.UNAVAILABLE:return L.UNAVAILABLE;case Ce.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Ce.NOT_FOUND:return L.NOT_FOUND;case Ce.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Ce.ABORTED:return L.ABORTED;case Ce.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Ce.DATA_LOSS:return L.DATA_LOSS;default:return X(39323,{code:t})}}(Z=Ce||(Ce={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh([4294967295,4294967295],0);class ZS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ic(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function eT(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function tT(t,e){return Ic(t,e.toTimestamp())}function ti(t){return Te(!!t,49232),de.fromTimestamp(function(n){const r=Tr(n);return new me(r.seconds,r.nanos)}(t))}function Ov(t,e){return Cc(t,e).canonicalString()}function Cc(t,e){const n=function(i){return new _e(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function nT(t){const e=_e.fromString(t);return Te(cT(e),10190,{key:e.toString()}),e}function kc(t,e){return Ov(t.databaseId,e.path)}function rT(t){const e=nT(t);return e.length===4?_e.emptyPath():sT(e)}function iT(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sT(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yp(t,e,n){return{name:kc(t,e),fields:n.value.mapValue.fields}}function oT(t,e){let n;if(e instanceof qs)n={update:Yp(t,e.key,e.value)};else if(e instanceof Mv)n={delete:kc(t,e.key)};else if(e instanceof Pr)n={update:Yp(t,e.key,e.data),updateMask:uT(e.fieldMask)};else{if(!(e instanceof QS))return X(16599,{Vt:e.type});n={verify:kc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const a=l.transform;if(a instanceof Os)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Ls)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Fs)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ml)return{fieldPath:l.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:tT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:X(27497)}(t,e.precondition)),n}function lT(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(i,s){let l=i.updateTime?ti(i.updateTime):ti(s);return l.isEqual(de.min())&&(l=ti(s)),new WS(l,i.transformResults||[])}(n,e))):[]}function aT(t){let e=rT(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Te(r===1,65062);const p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){const m=Lv(g);return m instanceof Wn&&wv(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(m=>function(P){return new jl(br(P.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,Oh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,A=g.values||[];return new Vl(A,m)}(n.startAt));let h=null;return n.endAt&&(h=function(g){const m=!g.before,A=g.values||[];return new Vl(A,m)}(n.endAt)),PS(e,i,l,s,a,"F",u,h)}function Lv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=br(n.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=br(n.unaryFilter.field);return Me.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=br(n.unaryFilter.field);return Me.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=br(n.unaryFilter.field);return Me.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Me.create(br(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>Lv(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function br(t){return Be.fromServerFormat(t.fieldPath)}function uT(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function cT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{constructor(e){this.yt=e}}function fT(t){const e=aT({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(){this.Cn=new pT}addToCollectionParentIndex(e,n){return this.Cn.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(Hn.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}}class pT{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new We(_e.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new We(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fv=41943040;class ut{static withCacheSize(e){return new ut(e,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ut.DEFAULT_COLLECTION_PERCENTILE=10,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ut.DEFAULT=new ut(Fv,ut.DEFAULT_COLLECTION_PERCENTILE,ut.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ut.DISABLED=new ut(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new pi(0)}static cr(){return new pi(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LruGarbageCollector",mT=1048576;function em([t,e],[n,r]){const i=ne(t,n);return i===0?ne(e,r):i}class gT{constructor(e){this.Ir=e,this.buffer=new We(em),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();em(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class yT{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(Zp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qs(n)?H(Zp,"Ignoring IndexedDB error during garbage collection: ",n):await jh(n)}await this.Vr(3e5)})}}class vT{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return O.resolve(bh.ce);const r=new gT(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),O.resolve(Jp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,l,a,u,h;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),i=this.params.maximumSequenceNumbersToCollect):i=g,l=Date.now(),this.nthSequenceNumber(e,i))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(s=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(h=Date.now(),jr()<=ee.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${i} in `+(a-l)+`ms
	Removed ${s} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(h-u)+`ms
Total Duration: ${h-p}ms`),O.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:g})))}}function _T(t,e){return new vT(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,jt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&hs(r.mutation,i,Ot.empty(),me.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const i=hr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let l=Vo();return s.forEach((a,u)=>{l=l.insert(a,u.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,i){let s=bl();const l=cs(),a=function(){return cs()}();return n.forEach((u,h)=>{const p=r.get(h.key);i.has(h.key)&&(p===void 0||p.mutation instanceof Pr)?s=s.insert(h.key,h):p!==void 0?(l.set(h.key,p.mutation.getFieldMask()),hs(p.mutation,h,p.mutation.getFieldMask(),me.now())):l.set(h.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((h,p)=>l.set(h,p)),n.forEach((h,p)=>a.set(h,new ET(p,l.get(h)??null))),a))}recalculateAndSaveOverlays(e,n){const r=cs();let i=new mt((l,a)=>l-a),s=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(u=>{const h=n.get(u);if(h===null)return;let p=r.get(u)||Ot.empty();p=a.applyToLocalView(h,p),r.set(u,p);const g=(i.get(a.batchId)||Ze()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{const l=[],a=i.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),h=u.key,p=u.value,g=Av();p.forEach(m=>{if(!s.has(m)){const A=jv(n.get(m),r.get(m));A!==null&&g.set(m,A),s=s.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,g))}return O.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(l){return Q.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):NS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):O.resolve(hr());let a=bs,u=s;return l.next(h=>O.forEach(h,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?O.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,h,s)).next(()=>this.computeViews(e,u,h,Ze())).next(p=>({batchId:a,changes:kv(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let i=Vo();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let l=Vo();return this.indexManager.getCollectionParents(e,s).next(a=>O.forEach(a,u=>{const h=function(g,m){return new oa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,h,r,i).next(p=>{p.forEach((g,m)=>{l=l.insert(g,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(l=>{s.forEach((u,h)=>{const p=h.getKey();l.get(p)===null&&(l=l.insert(p,jt.newInvalidDocument(p)))});let a=Vo();return l.forEach((u,h)=>{const p=s.get(u);p!==void 0&&hs(p.mutation,h,Ot.empty(),me.now()),$h(n,h)&&(a=a.insert(u,h))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ST{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return O.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ti(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:fT(i.bundledQuery),readTime:ti(i.readTime)}}(n)),O.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(){this.overlays=new mt(Q.comparator),this.qr=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hr();return O.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),O.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){const i=hr(),s=n.length+1,l=new Q(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const u=a.getNext().value,h=u.getKey();if(!n.isPrefixOf(h.path))break;h.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new mt((h,p)=>h-p);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===n&&h.largestBatchId>r){let p=s.get(h.largestBatchId);p===null&&(p=hr(),s=s.insert(h.largestBatchId,p)),p.set(h.getKey(),h)}}const a=hr(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((h,p)=>a.set(h,p)),!(a.size()>=i)););return O.resolve(a)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new XS(n,r));let s=this.qr.get(n);s===void 0&&(s=Ze(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Qr=new We(je.$r),this.Ur=new We(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new je(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new je(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new _e([])),r=new je(n,e),i=new je(n,e+1),s=[];return this.Ur.forEachInRange([r,i],l=>{this.Gr(l),s.push(l.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new _e([])),r=new je(n,e),i=new je(n,e+1);let s=Ze();return this.Ur.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const n=new je(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class je{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ne(e.Yr,n.Yr)}static Kr(e,n){return ne(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(je.$r)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qS(s,n,r,i);this.mutationQueue.push(l);for(const a of i)this.Zr=this.Zr.add(new je(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(l)}lookupMutationBatch(e,n){return O.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return O.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?Mh:this.tr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],l=>{const a=this.Xr(l.Yr);s.push(a)}),O.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(ne);return n.forEach(i=>{const s=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,l],a=>{r=r.add(a.Yr)})}),O.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Q.isDocumentKey(s)||(s=s.child(""));const l=new je(new Q(s),0);let a=new We(ne);return this.Zr.forEachWhile(u=>{const h=u.key.path;return!!r.isPrefixOf(h)&&(h.length===i&&(a=a.add(u.Yr)),!0)},l),O.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return O.forEach(n.mutations,i=>{const s=new je(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new je(n,0),i=this.Zr.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.ri=e,this.docs=function(){return new mt(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():jt.newInvalidDocument(n))}getEntries(e,n){let r=bl();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():jt.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=bl();const l=n.path,a=new Q(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:p}}=u.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||oS(sS(p),r)<=0||(i.has(p.key)||$h(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return O.resolve(s)}getAllFromCollectionGroup(e,n,r,i){X(9500)}ii(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new AT(this)}getSize(e){return O.resolve(this.size)}}class AT extends wT{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.persistence=e,this.si=new Ar(n=>Uh(n),Bh),this.lastRemoteSnapshotVersion=de.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=pi.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),O.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new pi(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Pr(n),O.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(l),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(s).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),O.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),O.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(e,n){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new IT,this.referenceDelegate=e(this),this.Pi=new PT(this),this.indexManager=new dT,this.remoteDocumentCache=function(i){return new kT(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new hT(n),this.Ii=new ST(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new TT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new CT(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const i=new RT(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return O.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class RT extends aS{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Gh(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),O.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.fi,r=>{const i=Q.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,de.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return O.or([()=>O.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ol{constructor(e,n){this.persistence=e,this.pi=new Ar(r=>hS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=_T(this,n)}static mi(e,n){return new Ol(e,n)}Ei(){}di(e){return O.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return O.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?O.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,l=>this.br(e,l,n).next(a=>{a||(r++,s.removeEntry(l,de.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),O.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),O.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qo(e.data.value)),n}br(e,n,r){return O.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return O.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=Ze(),i=Ze();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Qh(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return kE()?8:uS(IE())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new NT;return this.Ss(e,n,l).next(a=>{if(s.result=a,this.Vs)return this.bs(e,n,l,a.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(jr()<=ee.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ki(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),O.resolve()):(jr()<=ee.DEBUG&&H("QueryEngine","Query:",Ki(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(jr()<=ee.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ki(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):O.resolve())}ys(e,n){if(Kp(n))return O.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Tc(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Ze(...s);return this.ps.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const h=this.Ds(n,a);return this.Cs(n,h,l,u.readTime)?this.ys(e,Tc(n,null,"F")):this.vs(e,h,n,u)}))})))}ws(e,n,r,i){return Kp(n)||i.isEqual(de.min())?O.resolve(null):this.ps.getDocuments(e,r).next(s=>{const l=this.Ds(n,s);return this.Cs(n,l,r,i)?O.resolve(null):(jr()<=ee.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ki(n)),this.vs(e,l,n,iS(i,bs)).next(a=>a))})}Ds(e,n){let r=new We(VS(e));return n.forEach((i,s)=>{$h(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return jr()<=ee.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ki(n)),this.ps.getDocumentsMatchingQuery(e,n,Hn.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="LocalStore";class jT{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new mt(ne),this.xs=new Ar(s=>Uh(s),Bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bT(t,e,n,r){return new jT(t,e,n,r)}async function Uv(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],a=[];let u=Ze();for(const h of i){l.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}for(const h of s){a.push(h.batchId);for(const p of h.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(h=>({Ls:h,removedBatchIds:l,addedBatchIds:a}))})})}function MT(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,h,p){const g=h.batch,m=g.keys();let A=O.resolve();return m.forEach(P=>{A=A.next(()=>p.getEntry(u,P)).next(R=>{const b=h.docVersions.get(P);Te(b!==null,48541),R.version.compareTo(b)<0&&(g.applyToRemoteDocument(R,h),R.isValidDocument()&&(R.setReadTime(h.commitVersion),p.addEntry(R)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=Ze();for(let h=0;h<a.mutationResults.length;++h)a.mutationResults[h].transformResults.length>0&&(u=u.add(a.batch.mutations[h].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function OT(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function LT(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class tm{constructor(){this.activeTargetIds=FS()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FT{constructor(){this.Mo=new tm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="ConnectivityMonitor";class rm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(nm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(nm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=null;function Ac(){return jo===null?jo=function(){return 268435456+Math.round(2147483648*Math.random())}():jo++,"0x"+jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="RestConnection",UT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BT{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===Nl?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const l=Ac(),a=this.zo(e,n.toUriEncodedString());H(pu,`Sending RPC '${e}' ${l}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,i,s);const{host:h}=new URL(a),p=Ah(h);return this.Jo(e,a,u,r,p).then(g=>(H(pu,`Received RPC '${e}' ${l}: `,g),g),g=>{throw sa(pu,`RPC '${e}' ${l} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,i,s,l){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wi}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=UT[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class HT extends BT{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const l=Ac();return new Promise((a,u)=>{const h=new ev;h.setWithCredentials(!0),h.listenOnce(tv.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Qo.NO_ERROR:const g=h.getResponseJson();H(Xe,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),a(g);break;case Qo.TIMEOUT:H(Xe,`RPC '${e}' ${l} timed out`),u(new W(L.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const m=h.getStatus();if(H(Xe,`RPC '${e}' ${l} failed with status:`,m,"response text:",h.getResponseText()),m>0){let A=h.getResponseJson();Array.isArray(A)&&(A=A[0]);const P=A==null?void 0:A.error;if(P&&P.status&&P.message){const R=function(I){const w=I.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(w)>=0?w:L.UNKNOWN}(P.status);u(new W(R,P.message))}else u(new W(L.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new W(L.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:l,h_:h.getLastErrorCode(),P_:h.getLastError()})}}finally{H(Xe,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(i);H(Xe,`RPC '${e}' ${l} sending request:`,i),h.send(n,"POST",p,r,15)})}T_(e,n,r){const i=Ac(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=iv(),a=rv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(u.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=s.join("");H(Xe,`Creating RPC '${e}' stream ${i}: ${p}`,u);const g=l.createWebChannel(p,u);this.I_(g);let m=!1,A=!1;const P=new $T({Yo:b=>{A?H(Xe,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(m||(H(Xe,`Opening RPC '${e}' stream ${i} transport.`),g.open(),m=!0),H(Xe,`RPC '${e}' stream ${i} sending:`,b),g.send(b))},Zo:()=>g.close()}),R=(b,I,w)=>{b.listen(I,C=>{try{w(C)}catch(D){setTimeout(()=>{throw D},0)}})};return R(g,Yi.EventType.OPEN,()=>{A||(H(Xe,`RPC '${e}' stream ${i} transport opened.`),P.o_())}),R(g,Yi.EventType.CLOSE,()=>{A||(A=!0,H(Xe,`RPC '${e}' stream ${i} transport closed`),P.a_(),this.E_(g))}),R(g,Yi.EventType.ERROR,b=>{A||(A=!0,sa(Xe,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),P.a_(new W(L.UNAVAILABLE,"The operation could not be completed")))}),R(g,Yi.EventType.MESSAGE,b=>{var I;if(!A){const w=b.data[0];Te(!!w,16349);const C=w,D=(C==null?void 0:C.error)||((I=C[0])==null?void 0:I.error);if(D){H(Xe,`RPC '${e}' stream ${i} received error:`,D);const M=D.status;let F=function(S){const _=Ce[S];if(_!==void 0)return JS(_)}(M),x=D.message;F===void 0&&(F=L.INTERNAL,x="Unknown error status: "+M+" with message "+D.message),A=!0,P.a_(new W(F,x)),g.close()}else H(Xe,`RPC '${e}' stream ${i} received:`,w),P.u_(w)}}),R(a,nv.STAT_EVENT,b=>{b.stat===vc.PROXY?H(Xe,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===vc.NOPROXY&&H(Xe,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{P.__()},0),P}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return new ZS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im="PersistentStream";class WT{constructor(e,n,r,i,s,l,a,u){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new W(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(im,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(im,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class KT extends WT{constructor(e,n,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=lT(e.writeResults,e.commitTime),r=ti(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=iT(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>oT(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class QT extends GT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Go(e,Cc(n,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new W(L.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Ho(e,Cc(n,r),i,l,a,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new W(L.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class qT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xs="RemoteStore";class XT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Js(this)&&(H(Xs,"Restarting streams for network reachability change."),await async function(u){const h=ae(u);h.Ea.add(4),await Ys(h),h.Ra.set("Unknown"),h.Ea.delete(4),await ca(h)}(this))})}),this.Ra=new qT(r,i)}}async function ca(t){if(Js(t))for(const e of t.da)await e(!0)}async function Ys(t){for(const e of t.da)await e(!1)}function Js(t){return ae(t).Ea.size===0}async function $v(t,e,n){if(!Qs(e))throw e;t.Ea.add(1),await Ys(t),t.Ra.set("Offline"),n||(n=()=>OT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Xs,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ca(t)})}function Hv(t,e){return e().catch(n=>$v(t,n,e))}async function ha(t){const e=ae(t),n=Kn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mh;for(;YT(e);)try{const i=await LT(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,JT(e,i)}catch(i){await $v(e,i)}Wv(e)&&Kv(e)}function YT(t){return Js(t)&&t.Ta.length<10}function JT(t,e){t.Ta.push(e);const n=Kn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Wv(t){return Js(t)&&!Kn(t).x_()&&t.Ta.length>0}function Kv(t){Kn(t).start()}async function ZT(t){Kn(t).ra()}async function eI(t){const e=Kn(t);for(const n of t.Ta)e.ea(n.mutations)}async function tI(t,e,n){const r=t.Ta.shift(),i=Wh.from(r,e,n);await Hv(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await ha(t)}async function nI(t,e){e&&Kn(t).X_&&await async function(r,i){if(function(l){return YS(l)&&l!==L.ABORTED}(i.code)){const s=r.Ta.shift();Kn(r).B_(),await Hv(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await ha(r)}}(t,e),Wv(t)&&Kv(t)}async function sm(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),H(Xs,"RemoteStore received new credentials");const r=Js(n);n.Ea.add(3),await Ys(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ca(n)}async function rI(t,e){const n=ae(t);e?(n.Ea.delete(2),await ca(n)):e||(n.Ea.add(2),await Ys(n),n.Ra.set("Unknown"))}function Kn(t){return t.fa||(t.fa=function(n,r,i){const s=ae(n);return s.sa(),new KT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:ZT.bind(null,t),r_:nI.bind(null,t),ta:eI.bind(null,t),na:tI.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ha(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Xs,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const l=Date.now()+r,a=new qh(e,n,l,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),Qs(t))return new W(L.UNAVAILABLE,`${e}: ${t}`);throw t}class iI{constructor(){this.queries=om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=ae(n),s=i.queries;i.queries=om(),s.forEach((l,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(L.ABORTED,"Firestore shutting down"))}}function om(){return new Ar(t=>Iv(t),Tv)}function sI(t){t.Ca.forEach(e=>{e.next()})}var lm,am;(am=lm||(lm={})).Ma="default",am.Cache="cache";const oI="SyncEngine";class lI{constructor(e,n,r,i,s,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ar(a=>Iv(a),Tv),this.Iu=new Map,this.Eu=new Set,this.du=new mt(Q.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=pi.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function aI(t,e,n){const r=fI(t);try{const i=await function(l,a){const u=ae(l),h=me.now(),p=a.reduce((A,P)=>A.add(P.key),Ze());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",A=>{let P=bl(),R=Ze();return u.Ns.getEntries(A,p).next(b=>{P=b,P.forEach((I,w)=>{w.isValidDocument()||(R=R.add(I))})}).next(()=>u.localDocuments.getOverlayedDocuments(A,P)).next(b=>{g=b;const I=[];for(const w of a){const C=GS(w,g.get(w.key).overlayedDocument);C!=null&&I.push(new Pr(w.key,C,yv(C.value.mapValue),qt.exists(!0)))}return u.mutationQueue.addMutationBatch(A,h,I,a)}).next(b=>{m=b;const I=b.applyToLocalDocumentSet(g,R);return u.documentOverlayCache.saveOverlays(A,b.batchId,I)})}).then(()=>({batchId:m.batchId,changes:kv(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,a,u){let h=l.Vu[l.currentUser.toKey()];h||(h=new mt(ne)),h=h.insert(a,u),l.Vu[l.currentUser.toKey()]=h}(r,i.batchId,n),await fa(r,i.changes),await ha(r.remoteStore)}catch(i){const s=Gv(i,"Failed to persist write");n.reject(s)}}function um(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,l)=>{const a=l.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(l,a){const u=ae(l);u.onlineState=a;let h=!1;u.queries.forEach((p,g)=>{for(const m of g.Sa)m.va(a)&&(h=!0)}),h&&sI(u)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uI(t,e){const n=ae(t),r=e.batch.batchId;try{const i=await MT(n.localStore,e);qv(n,r,null),Qv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fa(n,i)}catch(i){await jh(i)}}async function cI(t,e,n){const r=ae(t);try{const i=await function(l,a){const u=ae(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let p;return u.mutationQueue.lookupMutationBatch(h,a).next(g=>(Te(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(h,g))).next(()=>u.mutationQueue.performConsistencyCheck(h)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(h,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,p)).next(()=>u.localDocuments.getDocuments(h,p))})}(r.localStore,e);qv(r,e,n),Qv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fa(r,i)}catch(i){await jh(i)}}function Qv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qv(t,e,n){const r=ae(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}async function fa(t,e,n){const r=ae(t),i=[],s=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{l.push(r.pu(u,e,n).then(h=>{var p;if((h||n)&&r.isPrimaryClient){const g=h?!h.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(h){i.push(h);const g=Qh.As(u.targetId,h);s.push(g)}}))}),await Promise.all(l),r.Pu.H_(i),await async function(u,h){const p=ae(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>O.forEach(h,m=>O.forEach(m.Es,A=>p.persistence.referenceDelegate.addReference(g,m.targetId,A)).next(()=>O.forEach(m.ds,A=>p.persistence.referenceDelegate.removeReference(g,m.targetId,A)))))}catch(g){if(!Qs(g))throw g;H(VT,"Failed to update sequence numbers: "+g)}for(const g of h){const m=g.targetId;if(!g.fromCache){const A=p.Ms.get(m),P=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(P);p.Ms=p.Ms.insert(m,R)}}}(r.localStore,s))}async function hI(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){H(oI,"User change. New user:",e.toKey());const r=await Uv(n.localStore,e);n.currentUser=e,function(s,l){s.mu.forEach(a=>{a.forEach(u=>{u.reject(new W(L.CANCELLED,l))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fa(n,r.Ls)}}function fI(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=uI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=cI.bind(null,e),e}class Ll{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ua(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bT(this.persistence,new DT,e.initialUser,this.serializer)}Cu(e){return new zv(Gh.mi,this.serializer)}Du(e){return new FT}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ll.provider={build:()=>new Ll};class dI extends Ll{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Ol,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new yT(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ut.withCacheSize(this.cacheSizeBytes):ut.DEFAULT;return new zv(r=>Ol.mi(r,n),this.serializer)}}class Pc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>um(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=hI.bind(null,this.syncEngine),await rI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new iI}()}createDatastore(e){const n=ua(e.databaseInfo.databaseId),r=function(s){return new HT(s)}(e.databaseInfo);return function(s,l,a,u){return new QT(s,l,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,l,a){return new XT(r,i,s,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>um(this.syncEngine,n,0),function(){return rm.v()?new rm:new zT}())}createSyncEngine(e,n){return function(i,s,l,a,u,h,p){const g=new lI(i,s,l,a,u,h);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=ae(i);H(Xs,"RemoteStore shutting down."),s.Ea.add(5),await Ys(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Pc.provider={build:()=>new Pc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="FirestoreClient";class pI{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ye.UNAUTHENTICATED,this.clientId=Dh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{H(Gn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(H(Gn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gu(t,e){t.asyncQueue.verifyOperationInProgress(),H(Gn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Uv(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await mI(t);H(Gn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>sm(e.remoteStore,i)),t._onlineComponents=e}async function mI(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Gn,"Using user provided OfflineComponentProvider");try{await gu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;sa("Error using user provided cache. Falling back to memory cache: "+n),await gu(t,new Ll)}}else H(Gn,"Using default OfflineComponentProvider"),await gu(t,new dI(void 0));return t._offlineComponents}async function gI(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Gn,"Using user provided OnlineComponentProvider"),await cm(t,t._uninitializedComponentsProvider._online)):(H(Gn,"Using default OnlineComponentProvider"),await cm(t,new Pc))),t._onlineComponents}function yI(t){return gI(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firestore.googleapis.com",fm=!0;class dm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yv,this.ssl=fm}else this.host=e.host,this.ssl=e.ssl??fm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<mT)throw new W(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rS("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(L.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class da{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Gx;switch(r.type){case"firstParty":return new Yx(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hm.get(n);r&&(H("ComponentProvider","Removing Datastore"),hm.delete(n),r.terminate())}(this),Promise.resolve()}}function vI(t,e,n,r={}){var h;t=Al(t,da);const i=Ah(e),s=t._getSettings(),l={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(wE(`https://${a}`),TE("Firestore",!0)),s.host!==Yv&&s.host!==a&&sa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...s,host:a,ssl:i,emulatorOptions:r};if(!Il(u,l)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Ye.MOCK_USER;else{p=EE(r.mockUserToken,(h=t._app)==null?void 0:h.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ye(m)}t._authCredentials=new Qx(new ov(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class $e{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $e(this.firestore,e,this._key)}toJSON(){return{type:$e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gs(n,$e._jsonSchema))return new $e(e,r||null,new Q(_e.fromString(n.referencePath)))}}$e._jsonSchemaVersion="firestore/documentReference/1.0",$e._jsonSchema={type:Ae("string",$e._jsonSchemaVersion),referencePath:Ae("string")};class Un extends Xh{constructor(e,n,r){super(e,n,RS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $e(this.firestore,null,new Q(e))}withConverter(e){return new Un(this.firestore,e,this._path)}}function _I(t,e,...n){if(t=Ds(t),lv("collection","path",e),t instanceof da){const r=_e.fromString(e,...n);return bp(r),new Un(t,null,r)}{if(!(t instanceof $e||t instanceof Un))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return bp(r),new Un(t.firestore,null,r)}}function Zs(t,e,...n){if(t=Ds(t),arguments.length===1&&(e=Dh.newId()),lv("doc","path",e),t instanceof da){const r=_e.fromString(e,...n);return jp(r),new $e(t,null,new Q(r))}{if(!(t instanceof $e||t instanceof Un))throw new W(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return jp(r),new $e(t.firestore,t instanceof Un?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="AsyncQueue";class mm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bv(this,"async_queue_retry"),this._c=()=>{const r=mu();r&&H(pm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qs(e))throw e;H(pm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",gm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=qh.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&X(47125,{Pc:gm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yh extends da{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new mm,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,await e}}}function wI(t,e){const n=typeof t=="object"?t:jx(),r=typeof t=="string"?t:Nl,i=Px(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=vE("firestore");s&&vI(i,...s)}return i}function EI(t){if(t._terminated)throw new W(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xI(t),t._firestoreClient}function xI(t){var r,i,s;const e=t._freezeSettings(),n=function(a,u,h,p){return new mS(a,u,h,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new pI(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Mt(Xt.fromBase64String(e))}catch(n){throw new W(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Mt(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Mt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gs(e,Mt._jsonSchema))return Mt.fromBase64String(e.bytes)}}Mt._jsonSchemaVersion="firestore/bytes/1.0",Mt._jsonSchema={type:Ae("string",Mt._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ln._jsonSchemaVersion}}static fromJSON(e){if(Gs(e,ln._jsonSchema))return new ln(e.latitude,e.longitude)}}ln._jsonSchemaVersion="firestore/geoPoint/1.0",ln._jsonSchema={type:Ae("string",ln._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:an._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gs(e,an._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new an(e.vectorValues);throw new W(L.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}an._jsonSchemaVersion="firestore/vectorValue/1.0",an._jsonSchema={type:Ae("string",an._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/^__.*__$/;class TI{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Pr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qs(e,this.data,n,this.fieldTransforms)}}function Jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class ef{constructor(e,n,r,i,s,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ef({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Fl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&SI.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class II{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ua(e)}Cc(e,n,r,i=!1){return new ef({Ac:e,methodName:n,Dc:r,path:Be.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(t){const e=t._freezeSettings(),n=ua(t._databaseId);return new II(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e_(t,e,n,r,i,s={}){const l=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);i_("Data must be an object, but it was:",l,r);const a=n_(r,l);let u,h;if(s.merge)u=new Ot(l.fieldMask),h=l.fieldTransforms;else if(s.mergeFields){const p=[];for(const g of s.mergeFields){const m=CI(e,g,n);if(!l.contains(m))throw new W(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);AI(p,m)||p.push(m)}u=new Ot(p),h=l.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,h=l.fieldTransforms;return new TI(new bt(a),u,h)}class tf extends Zh{_toFieldTransform(e){return new $S(e.path,new Os)}isEqual(e){return e instanceof tf}}function t_(t,e){if(r_(t=Ds(t)))return i_("Unsupported field value:",e,t),n_(t,e);if(t instanceof Zh)return function(r,i){if(!Jv(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const a of r){let u=t_(a,i.wc(l));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),l++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ds(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return zS(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=me.fromDate(r);return{timestampValue:Ic(i.serializer,s)}}if(r instanceof me){const s=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,s)}}if(r instanceof ln)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Mt)return{bytesValue:eT(i.serializer,r._byteString)};if(r instanceof $e){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Ov(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof an)return function(l,a){return{mapValue:{fields:{[mv]:{stringValue:gv},[wc]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw a.Sc("VectorValues must only contain numeric values.");return Hh(a.serializer,h)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${Vh(r)}`)}(t,e)}function n_(t,e){const n={};return cv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ei(t,(r,i)=>{const s=t_(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function r_(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof ln||t instanceof Mt||t instanceof $e||t instanceof Zh||t instanceof an)}function i_(t,e,n){if(!r_(n)||!av(n)){const r=Vh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function CI(t,e,n){if((e=Ds(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return s_(t,e);throw Fl("Field path arguments must be of type string or ",t,!1,void 0,n)}const kI=new RegExp("[~\\*/\\[\\]]");function s_(t,e,n){if(e.search(kI)>=0)throw Fl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Fl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fl(t,e,n,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||l)&&(u+=" (found",s&&(u+=` in field ${r}`),l&&(u+=` in document ${i}`),u+=")"),new W(L.INVALID_ARGUMENT,a+t+u)}function AI(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o_{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new PI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class PI extends o_{data(){return super.data()}}function l_(t,e){return typeof e=="string"?s_(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class bo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ni extends o_{constructor(e,n,r,i,s,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(l_("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(L.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ni._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ni._jsonSchemaVersion="firestore/documentSnapshot/1.0",ni._jsonSchema={type:Ae("string",ni._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Jo extends ni{data(e={}){return super.data(e)}}class fs{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new bo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jo(this._firestore,this._userDataWriter,r.key,r,new bo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(a=>{const u=new Jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const u=new Jo(i._firestore,i._userDataWriter,a.doc.key,a.doc,new bo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let h=-1,p=-1;return a.type!==0&&(h=l.indexOf(a.doc.key),l=l.delete(a.doc.key)),a.type!==1&&(l=l.add(a.doc),p=l.indexOf(a.doc.key)),{type:RI(a.type),doc:u,oldIndex:h,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(L.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=fs._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Dh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function RI(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}fs._jsonSchemaVersion="firestore/querySnapshot/1.0",fs._jsonSchema={type:Ae("string",fs._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function pa(t,e,n){t=Al(t,$e);const r=Al(t.firestore,Yh),i=a_(t.converter,e,n);return u_(r,[e_(Zv(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,qt.none())])}function NI(t,e){const n=Al(t.firestore,Yh),r=Zs(t),i=a_(t.converter,e);return u_(n,[e_(Zv(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,qt.exists(!1))]).then(()=>r)}function u_(t,e){return function(r,i){const s=new mr;return r.asyncQueue.enqueueAndForget(async()=>aI(await yI(r),i,s)),s.promise}(EI(t),e)}function Rn(){return new tf("serverTimestamp")}(function(e,n=!0){(function(i){wi=i})(Vx),kl(new Vs("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),a=new Yh(new qx(r.getProvider("auth-internal")),new Jx(l,r.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new W(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(h.options.projectId,p)}(l,i),l);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),ei(Rp,Np,e),ei(Rp,Np,"esm2020")})();const DI={apiKey:"AIzaSyBIKyohpoENAAmXcWwu7Q8pOjonRvy5g_E",authDomain:"danny-redo.firebaseapp.com",projectId:"danny-redo",storageBucket:"danny-redo.firebasestorage.app",messagingSenderId:"861664122007",appId:"1:861664122007:web:75c78636338e2f9b4d05d2"},VI=Yy(DI),zs=wI(VI),jI={userID:null,treatmentGroup:null,sessionActive:!1,sessionStartTime:null,setUserID:()=>{},setTreatmentGroup:()=>{},setSessionActive:()=>{}},c_=j.createContext(jI),lt=()=>j.useContext(c_),bI=({children:t})=>{const[e,n]=j.useState(()=>typeof window<"u"&&sessionStorage.getItem("studyUserID")||null),[r,i]=j.useState(()=>{if(typeof window<"u"){const m=sessionStorage.getItem("treatmentGroup");return m==="treatment"||m==="control"?m:null}return null}),[s,l]=j.useState(()=>typeof window<"u"?!!sessionStorage.getItem("studyUserID"):!1),[a,u]=j.useState(()=>typeof window<"u"&&sessionStorage.getItem("sessionStartTime")||null);j.useEffect(()=>{if(typeof window>"u")return;const m=sessionStorage.getItem("studyUserID"),A=sessionStorage.getItem("treatmentGroup"),P=sessionStorage.getItem("sessionStartTime");m&&!e&&n(m),A&&!r&&(A==="treatment"||A==="control")&&i(A),P&&!a&&u(P),m&&!s&&l(!0)},[]);const h=m=>{n(m),m?sessionStorage.setItem("studyUserID",m):sessionStorage.removeItem("studyUserID")},p=m=>{i(m),m?sessionStorage.setItem("treatmentGroup",m):sessionStorage.removeItem("treatmentGroup")},g=m=>{if(l(m),m){const A=new Date().toISOString();u(A),sessionStorage.setItem("sessionStartTime",A)}else u(null),sessionStorage.removeItem("sessionStartTime")};return j.createElement(c_.Provider,{value:{userID:e,treatmentGroup:r,sessionActive:s,sessionStartTime:a,setUserID:h,setTreatmentGroup:p,setSessionActive:g}},t)};function MI(){const[t,e]=j.useState({age:"",gender:"",education:"",residence:"",healthcareQualification:""}),n=(u,h)=>{e(p=>({...p,[u]:h}))},r=u=>h=>{n(u,h.target.value)},i=Le(),s=lt(),l=u=>{u.preventDefault(),(async()=>{try{console.log("Form data:",t);const{userID:h,treatmentGroup:p,randomizationSeed:g}=lE(),m={userID:h,treatmentGroup:p,randomizationSeed:g,sessionActive:!0,sessionStartTime:Rn(),currentPhase:"welcome",createdAt:Rn(),browserInfo:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,age:t.age,gender:t.gender,education:t.education,residence:t.residence,healthcareQualification:t.healthcareQualification,completionStatus:"in_progress"};await pa(Zs(zs,"participants",h),m),s&&s.setUserID&&s.setUserID(h),s&&s.setTreatmentGroup&&s.setTreatmentGroup(p),s&&s.setSessionActive&&s.setSessionActive(!0),i("/DemographicForm/PersonalityLanding")}catch(h){console.error("Failed to start session:",h)}})()},a=Object.values(t).every(u=>u!=="");return d.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-bg",children:d.jsxs("div",{className:"max-w-2xl w-full p-6 sm:p-8 lg:p-12 bg-surface rounded-lg shadow-md",children:[d.jsx("h1",{className:"text-2xl sm:text-3xl mb-8 text-text font-bold text-center",children:"Demográfiai adatok"}),d.jsxs("form",{onSubmit:l,className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"age",className:"block text-base font-semibold text-text mb-2",children:"Kor"}),d.jsxs("select",{id:"age",value:t.age,onChange:r("age"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[d.jsx("option",{value:"",children:"Adja meg a korát"}),d.jsx("option",{value:"18-25",children:"18-25"}),d.jsx("option",{value:"26-35",children:"26-35"}),d.jsx("option",{value:"36-45",children:"36-45"}),d.jsx("option",{value:"46-55",children:"46-55"}),d.jsx("option",{value:"56-65",children:"56-65"}),d.jsx("option",{value:"66+",children:"66+"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"gender",className:"block text-base font-semibold text-text mb-2",children:"Nem"}),d.jsxs("select",{id:"gender",value:t.gender,onChange:r("gender"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[d.jsx("option",{value:"",children:"Válassza ki a nemét"}),d.jsx("option",{value:"male",children:"Férfi"}),d.jsx("option",{value:"female",children:"Nő"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"education",className:"block text-base font-semibold text-text mb-2",children:"Iskola"}),d.jsxs("select",{id:"education",value:t.education,onChange:r("education"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[d.jsx("option",{value:"",children:"Legmagasabb iskolai végzettsége"}),d.jsx("option",{value:"elementary",children:"Általános iskola"}),d.jsx("option",{value:"high-school",children:"Középiskola"}),d.jsx("option",{value:"bachelors",children:"Alapképzés (BSc)"}),d.jsx("option",{value:"masters",children:"Mesterképzés (MSc)"}),d.jsx("option",{value:"phd",children:"Doktori fokozat (PhD)"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"residence",className:"block text-base font-semibold text-text mb-2",children:"Lakhely"}),d.jsxs("select",{id:"residence",value:t.residence,onChange:r("residence"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[d.jsx("option",{value:"",children:"Adja meg lakhelyét"}),d.jsx("option",{value:"budapest",children:"Budapest"}),d.jsx("option",{value:"county-seat",children:"Megyeszékhely"}),d.jsx("option",{value:"city",children:"Város"}),d.jsx("option",{value:"village",children:"Község/Falu"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"healthcareQualification",className:"block text-base font-semibold text-text mb-2",children:"Egészségügyi végzettség"}),d.jsxs("select",{id:"healthcareQualification",value:t.healthcareQualification,onChange:r("healthcareQualification"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[d.jsx("option",{value:"",children:"Van egészségügyi végzettsége?"}),d.jsx("option",{value:"none",children:"Nincs"}),d.jsx("option",{value:"nurse",children:"Ápoló/Asszisztens"}),d.jsx("option",{value:"medical-student",children:"Orvostanhallgató"}),d.jsx("option",{value:"doctor",children:"Orvos"}),d.jsx("option",{value:"radiologist",children:"Radiológus"}),d.jsx("option",{value:"other-healthcare",children:"Egyéb egészségügyi"})]})]}),d.jsx("div",{className:"pt-4",children:d.jsx("button",{type:"submit",disabled:!a,className:"w-full px-6 py-3 bg-accent text-white font-semibold rounded-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Teszt kezdése"})})]})]})})}function OI(t){return-t[0]+t[10]+-t[20]+t[30]+-t[40]+t[50]+t[60]+-t[70]+t[80]+t[90]+14}function LI(t){return-t[1]+t[11]+t[21]+-t[31]+t[41]+-t[51]+-t[61]+t[71]+-t[81]+t[91]+20}function FI(t){return t[2]+-t[12]+-t[22]+-t[32]+-t[33]+t[42]+-t[52]+t[62]+t[72]+-t[82]+-t[92]+26}function zI(t){return t[3]+-t[13]+-t[23]+-t[33]+t[43]+-t[53]+-t[63]+t[73]+t[83]+t[93]+20}function UI(t){return t[4]+-t[14]+t[24]+t[34]+-t[44]+-t[54]+t[64]+t[74]+-t[84]+t[94]+14}function BI(t){return t[5]+-t[15]+t[25]+-t[35]+t[45]+-t[55]+t[65]+-t[75]+t[85]+t[95]+14}function $I(t){return t[6]+-t[16]+t[26]+-t[36]+t[46]+t[56]+-t[66]+-t[76]+-t[86]+t[96]+20}function HI(t){return-t[7]+t[17]+t[27]+t[37]+-t[47]+t[57]+-t[67]+-t[77]+-t[87]+t[97]+20}function WI(t){return t[8]+t[18]+-t[28]+t[38]+-t[48]+t[58]+t[68]+-t[78]+t[88]+-t[98]+14}function KI(t){return t[9]+t[19]+t[29]+t[39]+-t[49]+-t[59]+t[69]+-t[79]+-t[89]+t[99]+14}function GI(t){const e=t.map(I=>parseInt(I,10)),n=OI(e),r=LI(e),i=FI(e),s=zI(e),l=UI(e),a=BI(e),u=$I(e),h=HI(e),p=WI(e),g=KI(e),m=n+a,A=r+u,P=i+h,R=s+p;return{openness:l+g,conscientiousness:P,extroversion:R,agreeableness:A,neuroticism:m}}const yu=[["Ritkán vagyok szomorú","Közönyös vagyok mások problémái iránt","Megvalósítom a terveimet","Könnyen barátkozom","Gyorsan megértem a dolgokat","Könnyen kapok haragra","Tisztelem a hatalommal hatalmat","Széthagyom a cuccaimat","Kezembe veszem az irányítást","Élvezem a természet szépségét"],["Gyakran kételkedem a dolgokban","Könnyen átélem mások érzéseit","Gyakran pazarlom az időmet","Nehéz engem megismerni","Nehezen értek meg absztrakt gondolatokat","Ritkán vagyok ingerült","Gyakran gondolom, hogy jobb vagyok másoknál","Szeretem a rendet","Erős személyiségem van","Hiszek a művészet fontosságában"],["Kellemes érzéseim vannak magammal kapcsolatban","Érdeklődöm más emberek jólétéről","Nehezem veszem rá magamat, hogy nekiálljak a dolgomnak","Távolságot tartok az másoktól","Könnyen kezelek sok információt","Könnyen ki lehet hozni a sodromból","Nem szeretek rámenősnek tűnni","Rendben tartom a dolgaimat","Nem vagyok meggyőző","Szeretsz gondolkodni a dolgokon"],["Könnyen érzem magam veszélyben","Nem lehet megzavarni mások igényeivel","Gyakran rontok el dolgokat","Kevés információt osztok meg magamról","Szeretek megoldani komplex problémákat","Könnyen kezelem az érzelmeimet","Kihasználok másokat a saját céljaimra","Időbeosztást követek","Tudom, hogy kell elvarázsolni az embereket","Nagyon el tudok veszek a zenében"],["Ritkán érzem magam depressziósnak","Szimpatizálok mások érzéseivel","Befejezem, amit elkezdek","Könnyen megtalálom másokkal a közös hangot","Kerülöm a filozofikus kérdéseket és inkább csevegek","Könnyen változik a hangulatom","Nem szeretem a saját akaratomat érvényesíteni","Nem zavarnak a rendetlen emberek","Nem vagyok vezető típus","Nem érdekel a költészet"],["Izgulós vagyok","Nehezen helyezem bele magamat mások helyzetébe","Nehezen koncentrálok a feladatra, amit éppen végzek","Ritkán robbanok szét az izgalomtól","Nem szeretek a nehéz olvasmányokat","Ritkán vesztem el a nyugalmamat","Nem helyezek másokat nyomás alá","A tökéletességre törekszem","Jó vezetőnek látom magamat","Nem látom az érzelmi hátterét egy festménynek"],["Könnyel le lehet engem törni","Keveset foglalkozom másokkal","Gyorsan elintézem a dolgaimat","Nem vagyok nagyon beszédes","Nagyon színes a szókincsem","Egy olyan ember vagyok, akinek kedve gyorsan megy fel és le","Megsértek embereket","Nem zavar a rendetlenség","Könnyen rábeszélek embereket dolgokra","Szükségem van rá, hogy szabadon engedjem a kreativitásomat"],["Nehéz zavarba hozni","Érdeklődöm mások élete iránt","Tudom, hogy mit csinálok","Kimutatom, ha boldog vagyok","Gyorsan gondolkodom","Nehezem lehet felidegesíteni","Keresem a konfliktust","Nem szeretem a rutint","Nehezen mondom el a véleményemet","Ritkán veszem el a gondolataimban"],["Könnyen kiborulok eseményektől","Nincsen puha oldalam","Halogatom el a döntéseimet","Gyakran szórakozom","Lassan tanulok","Könnyen fel lehet zaklatni","Szeretek egy jó vitát","Azt gondolom, hogy a szabályok csak útmutatók","Én vagyok az első, aki cselekszik","Ritkán ábrándozom"],["Sok félelmem van","Szeretek másoknak segíteni","Könnyen el lehet vonni a figyelmemet","Nagyon sokat nevetek","Gyorsan tudok új ötletekkel előállni","Könnyű összezavarni engem","Nem a saját érdekeimet tartom előtérben","Minden egyes részletre odafigyelek","Nem vagyok egy határozott személy","Olyan dolgokat látok szépnek, amiket mások nem vesznek észre"]],ym=3;function QI({assessmentId:t,onSubmit:e}){const[n,r]=j.useState(0),[i,s]=j.useState(Array(100).fill(null)),[l,a]=j.useState(!1),u=Le(),h=lt(),p=(P,R)=>{const b=n*10+P,I=[...i];I[b]=R,s(I),a(!1)},g=()=>{const P=i.slice(n*10,(n+1)*10);if(!P.every(I=>I!==null)){a(!0);const I=P.findIndex(w=>w===null);if(I!==-1){const w=document.getElementById(`statement-${I}-1`);w&&w.scrollIntoView({behavior:"smooth",block:"center"})}return}a(!1);const b=yu.slice(0,ym);if(n<b.length-1)r(n+1),window.scrollTo({top:0,behavior:"smooth"});else{const I=i.map(C=>C||"");e&&e(I);const w=GI(I);(async()=>{try{if(!h||!h.userID){console.warn("No active participant in context; skipping personality save"),u("/DemographicForm/CognitiveLanding",{state:{personalityResponses:I}});return}const C=Zs(zs,"participants",h.userID),D={userID:h.userID,personality:{big5:{openness:w.openness,conscientiousness:w.conscientiousness,extroversion:w.extroversion,agreeableness:w.agreeableness,neuroticism:w.neuroticism},responses:{},savedAt:Rn()}};I.forEach((M,F)=>{D.personality.responses[`q${F+1}`]=M}),await pa(C,D,{merge:!0})}catch(C){console.error("Failed to save personality results to participant_results:",C)}finally{u("/DemographicForm/CognitiveLanding",{state:{personalityResponses:I}})}})()}},m=()=>i.slice(n*10,(n+1)*10).filter(R=>R===null).length,A=yu.slice(0,ym);return d.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:d.jsxs("div",{className:"w-full max-w-xl p-8 md:p-12 shadow-md border border-muted bg-surface rounded-3xl",children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center",children:"Személyiségteszt"}),d.jsxs("div",{className:"mb-6",children:[d.jsxs("p",{className:"text-base text-center mb-3",children:[n+1," / ",A.length]}),d.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2",children:d.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${(n+1)/A.length*100}%`}})})]}),A[n].map((P,R)=>{const b=n*10+R,I=i[b]!==null;return d.jsxs("div",{id:`statement-${R}`,className:`mb-5 p-5 rounded-xl transition-all duration-200 ${!I&&l?"border-2 border-red-400":""}`,style:{background:"linear-gradient(135deg, rgba(37,99,235,0.04), rgba(255,255,255,1))"},children:[d.jsx("p",{className:"mb-4 text-base leading-relaxed",children:P}),d.jsxs("div",{className:"flex flex-col items-center",children:[d.jsxs("div",{className:"flex justify-between w-full mb-3",children:[d.jsx("span",{className:"text-sm font-semibold",children:"Nem jellemző rám"}),d.jsx("span",{className:"text-sm font-semibold",children:"Jellemző rám"})]}),d.jsx("div",{className:"flex justify-between w-full max-w-xs md:max-w-md",children:[1,2,3,4,5].map(w=>d.jsxs("label",{className:"flex flex-col items-center cursor-pointer select-none",children:[d.jsx("span",{className:"text-sm text-gray-600 mb-1",children:w}),d.jsx("input",{type:"radio",name:`q-${b}`,value:w,checked:i[b]===w.toString(),onChange:()=>p(R,w.toString()),id:`statement-${R}-${w}`,className:"w-5 h-5 border-2 border-gray-300 rounded-full accent-accent"})]},w))})]})]},R)}),d.jsxs("div",{className:"flex flex-col items-center mt-8",children:[l&&d.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-md flex items-center",children:[d.jsxs("svg",{className:"h-5 w-5 text-red-600 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[d.jsx("path",{d:"M12 9v4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsx("path",{d:"M12 17h.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),d.jsxs("span",{className:"text-sm font-medium",children:["Kérjük, válaszolj minden kérdésre (",m()," megválaszolatlan)"]})]}),d.jsx("button",{onClick:g,className:"w-full py-3 px-6 text-lg font-semibold text-white rounded-lg shadow bg-accent hover:opacity-95 transition transform",children:n===yu.length-1?"Beküld":"Következő"})]})]})})}function qI({assessmentId:t,personalityResponses:e,onComplete:n,isSubmittingFinal:r=!1}){const[i,s]=j.useState(1),[l,a]=j.useState(null),[u,h]=j.useState(60),[p,g]=j.useState(0),[m,A]=j.useState(!1),[P,R]=j.useState({});ia();const b=Le(),I=lt();j.useEffect(()=>{h(60);const M=setInterval(()=>{h(F=>F<=1?(clearInterval(M),C(null),60):F-1)},1e3);return()=>clearInterval(M)},[i]);const w=M=>{a(M+1)},C=M=>{const F=`q${i}`,x={...P,[F]:M===null?0:M};R(x),M!==null&&g(v=>v+1),a(null),h(60),i<10?s(v=>v+1):A(!0)},D=()=>{n&&n(P,p),(async()=>{try{if(!I||!I.userID){console.warn("No active participant; skipping IQ save"),b("/pretest");return}const M={q1:1,q2:2,q3:3,q4:5,q5:1,q6:6,q7:4,q8:3,q9:6,q10:3};let F=0;for(let S=1;S<=10;S++){const _=`q${S}`,E=P[_];E!=null&&E===M[_]&&F++}const x=Zs(zs,"participants",I.userID),v={userID:I.userID,cognitive:{responses:{},score:F,savedAt:Rn()}};for(let S=1;S<=10;S++)v.cognitive.responses[`q${S}`]=P[`q${S}`]??null;await pa(x,v,{merge:!0})}catch(M){console.error("Failed to save IQ score",M)}finally{const M=I&&String(I.userID||"").startsWith("1")?"experimental":"control";b(`/baseline/${M}-landing`)}})()};return m?d.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:d.jsxs("div",{className:"w-full max-w-md bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted text-center",children:[d.jsx("div",{className:"text-center mb-8",children:d.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-text",children:"Siker!"})}),d.jsxs("div",{className:"space-y-4 text-lg text-text",children:[d.jsx("p",{children:"Köszönjük a részvételt!"}),d.jsx("p",{children:"Küldd be nekünk a tesztet"})]}),d.jsx("button",{className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",onClick:D,disabled:r,children:r?"Beküldés...":"Beküld"})]})}):d.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:d.jsxs("div",{className:"w-full max-w-3xl bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted relative",children:[d.jsxs("div",{className:"pb-6 flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:["Kérdés ",i," / 10"]}),d.jsx("p",{className:"text-lg text-text",children:"Válaszd ki azt a képet amelyik a legjobban beleillik a fenti képbe"})]}),d.jsxs("div",{className:"w-28 h-20 shrink-0 bg-muted p-3 rounded-xl shadow-sm mt-6 sm:mt-0",children:[d.jsx("h3",{className:"text-xs font-semibold text-center text-text mb-1",children:"Hátralévő idő"}),d.jsx("div",{className:"w-full bg-accent-2/10 rounded-full h-2 mb-1",children:d.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-100 ease-linear",style:{width:`${u/60*100}%`}})}),d.jsxs("p",{className:"text-sm font-medium text-center text-text",children:[u," mp"]})]})]}),d.jsxs("div",{className:"space-y-8 mt-8",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"w-full overflow-hidden rounded-xl shadow-lg border border-muted",children:d.jsx("img",{src:`/cognitivePics/${i}.png`,alt:`Question ${i}`,className:"w-full h-auto object-contain mx-auto",style:{maxHeight:"45vh"}})})}),d.jsx("div",{className:"grid grid-cols-3 gap-3 md:gap-4 w-full max-w-lg mx-auto",children:[1,2,3,4,5,6].map(M=>d.jsx("button",{onClick:()=>w(M-1),className:`rounded-xl shadow-md overflow-hidden relative transition-all duration-200 transform hover:scale-105 ${l===M?"ring-4 ring-accent border-2 border-white":"border-2 border-transparent"}`,children:d.jsxs("div",{className:"w-full pt-[60%] relative",children:[d.jsx("img",{src:`/cognitivePics/${i}.${M}.png`,alt:`Option ${M}`,className:"absolute inset-0 w-full h-full object-contain"}),l===M&&d.jsx("div",{className:"absolute inset-0 bg-accent opacity-20"})]})},M))}),d.jsx("button",{onClick:()=>C(l),disabled:l===null,className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",children:i<10?"Következő":"Mehet"})]})]})})}const XI=()=>{const t=Le(),e=lt();return e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID"),d.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[d.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Next: Personality Questions"}),d.jsx("p",{className:"mb-6",children:"We'll now ask a few brief personality questions. Your answers help us analyze results and are stored with your participant ID."}),d.jsx("div",{className:"flex gap-4",children:d.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>t("/DemographicForm/Personality"),children:"Start Personality"})})]})},YI=()=>{const t=Le(),e=lt();return e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID"),d.jsxs("div",{className:"max-w-3xl mx-auto p-6",children:[d.jsx("h1",{className:"text-2xl font-semibold mb-4",children:"Next: Cognitive Test"}),d.jsx("p",{className:"mb-6",children:"Next you'll complete a short cognitive task. Make sure you're in a quiet place and ready to proceed."}),d.jsx("div",{className:"flex gap-4",children:d.jsx("button",{className:"px-4 py-2 bg-indigo-600 text-white rounded",onClick:()=>t("/DemographicForm/Cognitive"),children:"Start Cognitive"})})]})},JI={surface:"#f8fafc",muted:"#f1f5f9",accent:"#2563eb"},en={colors:JI};function ZI(){var b,I,w;let t=null;const[e,n]=j.useState(0),[r,i]=j.useState(!1),[s,l]=j.useState(!1),a=Le(),u=lt(),h=C=>{t=C},p=()=>{const C=t;if(!C)return;const D=C.currentTime/Math.max(C.duration,1)*100;n(Math.floor(D))},g=()=>{i(!0),n(100)},m=()=>{if(!r)return;if(!(sessionStorage.getItem("studyUserID")||u&&u.userID)){a("/DemographicForm/Demographics");return}const M=u&&String(u.userID||"").startsWith("1")?"experimental":"control";a(`/baseline/${M}-landing`)},A=(b=en==null?void 0:en.colors)==null?void 0:b.accent,P=(I=en==null?void 0:en.colors)==null?void 0:I.muted,R=(w=en==null?void 0:en.colors)==null?void 0:w.surface;return d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",children:d.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:R},children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bevezető videó"}),d.jsx("div",{className:"mb-6 flex justify-center",children:d.jsx("div",{className:"w-full",style:{maxWidth:1100},children:d.jsx("video",{ref:h,src:"/video.mp4",controls:!0,onTimeUpdate:p,onEnded:g,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})}),d.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[r&&d.jsxs("label",{className:"flex items-center gap-3",children:[d.jsx("input",{type:"checkbox",checked:s,onChange:C=>l(C.target.checked),className:"w-4 h-4"}),d.jsx("span",{className:"text-sm",children:"Megnéztem a teljes videót és megértettem a feladatot"})]}),d.jsx("button",{disabled:!r||!s,onClick:m,"aria-disabled":!r||!s,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:r&&s?A:P},children:"Tovább a tesztre"})]})]})})}function Rc({onSelect:t,onClose:e}){const[n,r]=j.useState(null);return d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:d.jsxs("div",{className:"bg-white rounded p-6 w-96",children:[d.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mennyire vagy biztos a döntésedben?"}),d.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[d.jsx("span",{children:"bizonytalan"}),d.jsx("span",{children:"biztos"})]}),d.jsx("div",{className:"flex justify-between items-center mb-4",children:[1,2,3,4,5,6,7].map(i=>d.jsx("button",{onClick:()=>r(i),className:`px-3 py-2 rounded border ${n===i?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:i},i))}),d.jsx("div",{className:"flex justify-end gap-2",children:d.jsx("button",{onClick:()=>n&&t(n),disabled:!n,className:`px-3 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Tovább"})})]})})}function e2({imageSrc:t,onComplete:e}){const[n,r]=j.useState(null),[i,s]=j.useState(!1),l=j.useRef(null);j.useEffect(()=>{l.current=Date.now(),r(null),s(!1)},[t]);const a=()=>{s(!0)},u=h=>{const p=Date.now(),g=l.current,m=g?(p-g)/1e3:0;s(!1),e({response:n,confidence:h,time_sec:m}),r(null),s(!1)};return d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("div",{className:"mb-4",children:d.jsx("img",{src:t,alt:"stim",className:"w-full h-72 object-contain rounded border"})}),d.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[d.jsx("button",{type:"button",onClick:()=>r("igen"),className:`px-4 py-2 rounded border ${n==="igen"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"igen"}),d.jsx("button",{type:"button",onClick:()=>r("nem"),className:`px-4 py-2 rounded border ${n==="nem"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"nem"})]}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{disabled:!n,onClick:a,className:`px-6 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Continue"})}),i&&d.jsx(Rc,{onSelect:u,onClose:()=>s(!1)})]})})}function t2({src:t,onChange:e,overlayBox:n,imgRef:r,enabled:i=!0}){const s=r||j.useRef(null),l=j.useRef(null),a=j.useRef(null),[u,h]=j.useState(!1),[p,g]=j.useState(null),[m,A]=j.useState(null),P=_=>{if(!_)return null;if(typeof _.clientX=="number"&&typeof _.clientY=="number")return{clientX:_.clientX,clientY:_.clientY};const E=_.touches&&_.touches[0]?_.touches[0]:_.changedTouches&&_.changedTouches[0]?_.changedTouches[0]:null;return E?{clientX:E.clientX,clientY:E.clientY}:null},R=(_,E)=>{const k=s.current;if(!k)return null;const T=k.getBoundingClientRect(),J=Math.max(0,Math.min(T.width,_-T.left)),ge=Math.max(0,Math.min(T.height,E-T.top));return{x:J,y:ge,rect:T}},b=_=>{const E=s.current;if(!E||!_)return null;const k=E.getBoundingClientRect(),T=E.naturalWidth/k.width,J=E.naturalHeight/k.height;return{x:Math.round(_.x*T),y:Math.round(_.y*J),width:Math.round(_.width*T),height:Math.round(_.height*J)}},I=_=>{const E=s.current;if(!E||!_)return null;const k=E.getBoundingClientRect(),T=k.width/E.naturalWidth,J=k.height/E.naturalHeight;return{x:_.x*T,y:_.y*J,width:_.width*T,height:_.height*J}},w=()=>{const _=s.current,E=l.current;if(!_||!E)return;const k=_.getBoundingClientRect();E.width=Math.round(k.width),E.height=Math.round(k.height),E.style.width=`${Math.round(k.width)}px`,E.style.height=`${Math.round(k.height)}px`;try{a&&a.current&&(a.current.style.width=`${Math.round(k.width)}px`,a.current.style.height=`${Math.round(k.height)}px`)}catch{}x()};j.useEffect(()=>(window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)),[]),j.useEffect(()=>{if(n){const _=I(n);A(_)}else A(null)},[n]);const C=_=>{if(!i)return;const E=P(_);if(!E)return;const k=R(E.clientX,E.clientY);k&&(g({x:k.x,y:k.y}),h(!0))},D=_=>{if(!i||!u||!p)return;const E=P(_);if(!E)return;const k=R(E.clientX,E.clientY);if(!k)return;const T=Math.min(p.x,k.x),J=Math.min(p.y,k.y),ge=Math.abs(k.x-p.x),fe=Math.abs(k.y-p.y);A({x:T,y:J,width:ge,height:fe}),x()},M=_=>{if(!m){h(!1),g(null);return}try{_&&_.preventDefault&&_.preventDefault()}catch{}const E=b(m);e(E),h(!1),g(null)},F=()=>{A(null),e(null),x()},x=()=>{const _=l.current;if(!_)return;const E=_.getContext("2d");E&&(E.clearRect(0,0,_.width,_.height),m&&(E.strokeStyle="rgba(16,185,129,0.95)",E.lineWidth=2,E.setLineDash([6,4]),E.strokeRect(m.x,m.y,m.width,m.height),E.fillStyle="rgba(16,185,129,0.12)",E.fillRect(m.x,m.y,m.width,m.height)))},v=_=>{if(!m)return;const E=R(_.clientX,_.clientY);if(!E)return;const k=m.x+m.width-10,T=m.y+10,J=E.x-k,ge=E.y-T;J*J+ge*ge<=10*10&&F()};return j.useEffect(()=>{const _=s.current;if(!_)return;const E=()=>{w()};try{_.addEventListener&&_.addEventListener("load",E)}catch{}w();const k=l.current,T=fe=>{fe.preventDefault&&fe.preventDefault(),D(fe)},J=fe=>{fe.preventDefault&&fe.preventDefault(),C(fe)},ge=fe=>{fe.preventDefault&&fe.preventDefault(),M(fe)};try{k&&k.addEventListener&&(k.addEventListener("touchstart",J,{passive:!1}),k.addEventListener("touchmove",T,{passive:!1}),k.addEventListener("touchend",ge,{passive:!1}),k.addEventListener("touchcancel",ge,{passive:!1}))}catch{}return()=>{try{_.removeEventListener&&_.removeEventListener("load",E),k&&k.removeEventListener&&(k.removeEventListener("touchstart",J),k.removeEventListener("touchmove",T),k.removeEventListener("touchend",ge),k.removeEventListener("touchcancel",ge))}catch{}}},[t]),j.useEffect(()=>{x()},[m,n]),!r?d.jsxs("div",{className:"w-full",ref:a,children:[d.jsxs("div",{className:"relative w-full border rounded-md overflow-hidden",style:{height:"18rem"},children:[d.jsx("img",{ref:s,src:t,alt:"annotation",className:"w-full h-full object-contain block",draggable:!1}),d.jsx("canvas",{ref:l,onPointerDown:C,onPointerMove:D,onPointerUp:M,onClick:v,style:{position:"absolute",left:0,top:0,pointerEvents:i?"auto":"none",touchAction:"none",cursor:i?"crosshair":"default"}})]}),d.jsx("div",{className:"mt-2 flex gap-2",children:d.jsx("button",{className:"px-3 py-1 bg-gray-100 rounded",onClick:F,children:"Clear box"})})]}):d.jsxs("div",{ref:a,style:{position:"absolute",inset:0,pointerEvents:"none"},children:[d.jsx("canvas",{ref:l,onPointerDown:C,onPointerMove:D,onPointerUp:M,onClick:v,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:i?"auto":"none",touchAction:"none",cursor:i?"crosshair":"default"}}),m&&d.jsx("button",{onClick:F,style:{position:"absolute",left:m.x+m.width-12,top:m.y-12,width:24,height:24,borderRadius:12,background:"white",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",cursor:"pointer"},title:"Clear box",children:"×"})]})}function n2({imageSrc:t,userBox:e,aiBox:n,aiPrediction:r,aiConfidence:i,iouPercent:s,initialDecision:l,onRevise:a,onContinue:u}){const[h,p]=j.useState(l??r),g=j.useRef(null),m=j.useRef(null);return j.useEffect(()=>{const A=g.current,P=m.current;if(!A||!P)return;const R=P.getContext("2d");if(!R)return;const b=()=>{P.width=A.clientWidth,P.height=A.clientHeight,R.clearRect(0,0,P.width,P.height);const w=(C,D,M)=>{if(!C)return;const F=A.naturalWidth,x=A.naturalHeight,v=A.clientWidth/F,S=A.clientHeight/x,_=C.x*v,E=C.y*S,k=C.width*v,T=C.height*S;R.strokeStyle=D,R.lineWidth=2,R.strokeRect(_,E,k,T),R.fillStyle=D,R.font="12px sans-serif",R.fillText(M,_+4,E+12)};w(n,"rgba(220,20,60,0.9)","AI"),w(e,"rgba(30,144,255,0.9)","You")};A.complete&&b();const I=()=>b();return window.addEventListener("resize",b),A.addEventListener("load",I),()=>{window.removeEventListener("resize",b),A.removeEventListener("load",I)}},[t,e,n]),d.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:d.jsxs("div",{className:"bg-white rounded p-4 max-w-3xl w-full",children:[d.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI eredmény"}),d.jsxs("div",{className:"flex gap-4",children:[d.jsxs("div",{className:"w-2/3",children:[d.jsxs("div",{className:"relative border rounded",children:[d.jsx("img",{ref:g,src:t,alt:"stim",className:"w-full h-72 object-contain"}),d.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-none"})]}),d.jsxs("p",{className:"mt-2 text-sm",children:["DoBoV overlap: ",d.jsxs("strong",{children:[Math.round(s),"%"]})]})]}),d.jsxs("div",{className:"w-1/3",children:[d.jsxs("p",{className:"mb-2",children:["AI predikció: ",d.jsx("strong",{children:r})]}),d.jsxs("p",{className:"mb-2",children:["AI biztonság: ",d.jsxs("strong",{children:[Math.round(i*100),"%"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsx("label",{className:"block mb-1",children:"Javítsd a döntésed (ha szükséges):"}),d.jsxs("select",{className:"w-full p-2 border rounded",value:h,onChange:A=>p(A.target.value),children:[d.jsx("option",{value:"yes",children:"Igen"}),d.jsx("option",{value:"no",children:"Nem"})]})]}),d.jsx("div",{className:"flex justify-end gap-2",children:d.jsx("button",{onClick:()=>{a(h),u()},className:"px-3 py-2 rounded bg-accent text-white",children:"Mehet"})})]})]})]})})}function vm(t,e){const n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),i=Math.min(t.x+t.width,e.x+e.width),s=Math.min(t.y+t.height,e.y+e.height),l=Math.max(0,i-n)*Math.max(0,s-r),a=t.width*t.height,u=e.width*e.height,h=a+u-l;return h<=0?0:l/h}function r2({imageSrc:t,onComplete:e,aiPrediction:n,aiBox:r,aiConfidence:i}){const[s,l]=j.useState(null),[a,u]=j.useState(null),[h,p]=j.useState(null),[g,m]=j.useState(!1),[A,P]=j.useState(!1),[R,b]=j.useState(!1),[I,w]=j.useState(!1),C=j.useRef(null),[D,M]=j.useState(null),[F,x]=j.useState(null),[v,S]=j.useState(null);j.useEffect(()=>{C.current=Date.now(),l(null),u(null),p(null),m(!1),P(!1),b(!1),w(!1),M(null),x(null),S(null)},[t]);const _=a==="tünet"||a==="bizonytalan",E=!!a&&(a==="nincsen tünet"||a==="bizonytalan"||a==="tünet"&&!!h),k=E&&!!s,T=()=>m(K=>!K),J=()=>{b(!0)},ge=K=>{M(K)},fe=()=>{P(!1),w(!0)},Jn=K=>{x(K),b(!1),P(!0)},B=K=>{S(K),w(!1);const re=Date.now(),ye=C.current?(re-C.current)/1e3:0,Zt=D||s,at=h&&r?vm(h,r):null;e({initial_decision:s,dropdown_choice:a,user_box:h,ai_box:r,ai_prediction:n,ai_confidence:i,bbox_iou:at,decision_revised_after_ai:!!D,final_decision:Zt,initial_confidence:F,post_ai_confidence:K,time_sec:ye})},G=j.useRef(null);return d.jsx("div",{className:"w-full",children:d.jsxs("div",{className:"max-w-3xl mx-auto",children:[d.jsx("div",{className:"mb-4",children:d.jsxs("div",{className:"relative border rounded-md overflow-hidden",style:{height:"18rem"},children:[d.jsx("img",{ref:G,src:t,alt:"stim",className:"w-full h-full object-contain block",draggable:!1}),d.jsx("div",{className:"absolute left-4 top-4 bg-white/60 px-2 py-1 rounded text-sm",children:"baseline (AI)"}),d.jsx(t2,{imgRef:G,onChange:K=>{p(K)},overlayBox:h,enabled:g&&_})]})}),d.jsxs("div",{className:"flex justify-center mb-4",children:[d.jsxs("select",{value:a||"",onChange:K=>{const re=K.target.value;u(re),m(re==="tünet")},className:"p-2 border rounded",children:[d.jsx("option",{value:"",children:"Válassz opciót"}),d.jsx("option",{value:"tünet",children:"tünet"}),d.jsx("option",{value:"bizonytalan",children:"bizonytalan"}),d.jsx("option",{value:"nincsen tünet",children:"nincsen tünet"})]}),d.jsx("button",{onClick:T,disabled:!_,className:`ml-2 px-3 py-2 rounded ${g?"bg-green-500 text-white":"bg-gray-100"} disabled:opacity-50`,children:"Rajzolás"})]}),d.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[d.jsx("button",{onClick:()=>E&&l("yes"),disabled:!E,className:`px-4 py-2 rounded border ${s==="yes"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${E?"":"opacity-60 cursor-not-allowed"}`,children:"igen"}),d.jsx("button",{onClick:()=>E&&l("no"),disabled:!E,className:`px-4 py-2 rounded border ${s==="no"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${E?"":"opacity-60 cursor-not-allowed"}`,children:"nem"})]}),d.jsx("div",{className:"mb-4"}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{disabled:!k,onClick:J,className:`px-6 py-2 rounded ${k?"bg-accent text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Következő"})}),A&&d.jsx(n2,{imageSrc:t,userBox:h,aiBox:r,aiPrediction:n,aiConfidence:i,iouPercent:h&&r?vm(h,r)*100:0,initialDecision:s,onRevise:ge,onContinue:fe}),R&&d.jsx(Rc,{onSelect:Jn,onClose:()=>b(!1)}),I&&d.jsx(Rc,{onSelect:B,onClose:()=>w(!1)})]})})}function Jt({phase:t,mode:e,poolFolder:n,trialsCount:r=10,onFinish:i}){const s=lt(),l=By(),a=Le(),[u,h]=j.useState(0),[p,g]=j.useState([]),m=t||l.phase||"baseline",A=n||m;j.useEffect(()=>{const C=[];for(let D=1;D<=r;D++)C.push(`/annotation/${A}/${D}.png`);g(C)},[A,r]);const P=e||(()=>{if(!s||!s.treatmentGroup||m==="baseline"||m==="screening")return"noai";const C=String(s.treatmentGroup||"");return C==="treatment"||C==="1"||C.startsWith("1")?"ai":"noai"})(),R=p[u%p.length],b=async C=>{if(!s||!s.userID){console.warn("No userID, skipping save");return}const D={userID:s.userID,participantID:s.userID,phase:m,trialNum:u+1,trialType:m,trialIndex:u+1,imageID:R,timestamp:Rn(),treatmentGroup:s.treatmentGroup,...C};try{await NI(_I(zs,"trials"),D);const M={userID:s.userID,sessionActive:!0,currentPhase:m,lastTrialAt:Rn(),[`${m}_trial_${u+1}`]:{image:R,trialType:m,trialIndex:u+1,...C,savedAt:Rn()},trials_map:{[`${m}_${u+1}`]:{image:R,trialType:m,trialIndex:u+1,...C,savedAt:Rn()}}};await pa(Zs(zs,"participants",s.userID),M,{merge:!0})}catch(M){console.error("Failed to save trial",M)}},I=async C=>{if(await b(C),u+1>=r)if(i)i();else{const D=["baseline","experiment","posttest","done"],M=D.indexOf(m),F=M>=0&&M<D.length-1?D[M+1]:"done";if(F==="done")a("/done");else{const x=s&&String(s.userID||"").startsWith("1")?"experimental":"control";a(`/${F}/${x}-landing`)}}else h(u+1)},w={aiPrediction:"yes",aiBox:{x:120,y:80,width:200,height:150},aiConfidence:.72};return d.jsx("div",{className:"min-h-screen p-6 bg-bg",children:d.jsxs("div",{className:"max-w-4xl mx-auto",children:[d.jsxs("h2",{className:"text-xl font-bold mb-4",children:[m," (",P==="ai"?"AI":"No AI",")"]}),P==="noai"?d.jsx(e2,{imageSrc:R,onComplete:I},`trial-${u}`):d.jsx(r2,{imageSrc:R,onComplete:I,aiPrediction:w.aiPrediction,aiBox:w.aiBox,aiConfidence:w.aiConfidence},`trial-${u}`)]})})}function i2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test control (id starting with 0)"}),d.jsx("p",{className:"mb-6",children:"This is the landing page for control participants (userID starts with 0). Press start to begin the pre-test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/pretest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (control)"})})]})})}function s2(){return d.jsx(Jt,{phase:"pretest",mode:"noai",poolFolder:"screening",trialsCount:5})}function o2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test experimental (id starting with 1)"}),d.jsx("p",{className:"mb-6",children:"This is the landing page for experimental participants (userID starts with 1). Press start to begin the pre-test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/pretest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (experimental)"})})]})})}function l2(){return d.jsx(Jt,{phase:"pretest",mode:"ai",poolFolder:"screening",trialsCount:5})}function a2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"baseline control (id starting with 0)"}),d.jsx("p",{className:"mb-6",children:"Landing page for control group before baseline test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/baseline/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start baseline (control)"})})]})})}function u2(){return d.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function c2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"baseline experimental (id starting with 1)"}),d.jsx("p",{className:"mb-6",children:"Landing page for experimental group before baseline test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/baseline/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start baseline (experimental)"})})]})})}function h2(){return d.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function f2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment control (id starting with 0)"}),d.jsx("p",{className:"mb-6",children:"Landing page for control group before experiment test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/experiment/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start experiment (control)"})})]})})}function d2(){return d.jsx(Jt,{phase:"experiment",mode:"noai",poolFolder:"experiment",trialsCount:5})}function p2(){const t=Le(),e=lt();return j.useEffect(()=>{const n=sessionStorage.getItem("studyUserID")||e&&e.userID;console.debug("ExperimentExperimentalLanding effect, session uid=",sessionStorage.getItem("studyUserID"),"app.userID=",e&&e.userID),e&&(n||(console.warn("No user id found in app or sessionStorage — redirecting to demographics"),t("/DemographicForm/Demographics")))},[e,t]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment experimental (id starting with 1)"}),d.jsx("p",{className:"mb-6",children:"Landing page for experimental group before experiment test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/experiment/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start experiment (experimental)"})}),d.jsxs("div",{className:"mt-6 text-left bg-white border p-3 rounded",children:[d.jsx("h4",{className:"font-semibold mb-2",children:"Debug / session info"}),d.jsxs("p",{className:"text-sm",children:["sessionStorage.studyUserID:"," ",d.jsx("code",{children:sessionStorage.getItem("studyUserID")||"null"})]}),d.jsxs("p",{className:"text-sm",children:["app.userID: ",d.jsx("code",{children:e&&e.userID||"null"})]}),d.jsxs("p",{className:"text-sm",children:["app.treatmentGroup: ",d.jsx("code",{children:e&&e.treatmentGroup||"null"})]}),d.jsxs("div",{className:"mt-2",children:[d.jsx("button",{onClick:()=>t("/experiment/experimental"),className:"px-3 py-1 bg-gray-200 rounded mr-2",children:"Continue anyway"}),d.jsx("button",{onClick:()=>{sessionStorage.removeItem("studyUserID"),t("/DemographicForm/Demographics")},className:"px-3 py-1 bg-red-100 rounded",children:"Clear session and restart"})]})]})]})})}function m2(){return d.jsx(Jt,{phase:"experiment",mode:"ai",poolFolder:"experiment",trialsCount:5})}function g2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"post-test control (id starting with 0)"}),d.jsx("p",{className:"mb-6",children:"Landing page for control group before post-test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/posttest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start post-test (control)"})})]})})}function y2(){return d.jsx(Jt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function v2(){const t=Le(),e=lt();return j.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-2xl font-bold mb-4",children:"post-test experimental (id starting with 1)"}),d.jsx("p",{className:"mb-6",children:"Landing page for experimental group before post-test."}),d.jsx("div",{className:"flex justify-center",children:d.jsx("button",{onClick:()=>t("/posttest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start post-test (experimental)"})})]})})}function _2(){return d.jsx(Jt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function w2(){const t=By(),e=Le();return j.useEffect(()=>{const n=t.rest||"";e(`/posttest/${n}`,{replace:!0})},[t,e]),null}function E2(){return d.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:d.jsxs("div",{className:"max-w-2xl w-full text-center",children:[d.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Köszönjük!"}),d.jsx("p",{className:"mb-6",children:"A kísérlet befejeződött. Köszönjük a részvételt!"})]})})}function x2(){return d.jsxs(nE,{children:[d.jsx(ie,{path:"/",element:d.jsx(oE,{})}),d.jsx(ie,{path:"/DemographicForm/Demographics",element:d.jsx(MI,{})}),d.jsx(ie,{path:"/DemographicForm/PersonalityLanding",element:d.jsx(XI,{})}),d.jsx(ie,{path:"/DemographicForm/Personality",element:d.jsx(QI,{})}),d.jsx(ie,{path:"/test/baseline",element:d.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline"})}),d.jsx(ie,{path:"/test/:phase",element:d.jsx(Jt,{phase:void 0,mode:"noai",poolFolder:"baseline"})}),d.jsx(ie,{path:"/pretest",element:d.jsx(eE,{to:"/baseline/control-landing",replace:!0})}),d.jsx(ie,{path:"/pretest/control-landing",element:d.jsx(i2,{})}),d.jsx(ie,{path:"/pretest/control",element:d.jsx(s2,{})}),d.jsx(ie,{path:"/pretest/experimental-landing",element:d.jsx(o2,{})}),d.jsx(ie,{path:"/pretest/experimental",element:d.jsx(l2,{})}),d.jsx(ie,{path:"/baseline/control-landing",element:d.jsx(a2,{})}),d.jsx(ie,{path:"/baseline/control",element:d.jsx(u2,{})}),d.jsx(ie,{path:"/baseline/experimental-landing",element:d.jsx(c2,{})}),d.jsx(ie,{path:"/baseline/experimental",element:d.jsx(h2,{})}),d.jsx(ie,{path:"/experiment/control-landing",element:d.jsx(f2,{})}),d.jsx(ie,{path:"/experiment/control",element:d.jsx(d2,{})}),d.jsx(ie,{path:"/experiment/experimental-landing",element:d.jsx(p2,{})}),d.jsx(ie,{path:"/experiment/experimental",element:d.jsx(m2,{})}),d.jsx(ie,{path:"/posttest/control-landing",element:d.jsx(g2,{})}),d.jsx(ie,{path:"/posttest/control",element:d.jsx(y2,{})}),d.jsx(ie,{path:"/posttest/experimental-landing",element:d.jsx(v2,{})}),d.jsx(ie,{path:"/posttest/experimental",element:d.jsx(_2,{})}),d.jsx(ie,{path:"/post_experiment/:rest",element:d.jsx(w2,{})}),d.jsx(ie,{path:"/done",element:d.jsx(E2,{})}),d.jsx(ie,{path:"/DemographicForm/CognitiveLanding",element:d.jsx(YI,{})}),d.jsx(ie,{path:"/DemographicForm/Cognitive",element:d.jsx(qI,{})}),d.jsx(ie,{path:"/InstructionsPage/InstructionsPage",element:d.jsx(ZI,{})})]})}const S2=Dy(document.getElementById("root"));S2.render(d.jsx(j.StrictMode,{children:d.jsx(iE,{children:d.jsx(bI,{children:d.jsx(x2,{})})})}));
