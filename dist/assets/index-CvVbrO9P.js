function F0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={exports:{}},Fl={},xm={exports:{}},Y={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),B0=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),ef=Symbol.iterator;function J0(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,Sm={};function ms(t,e,n){this.props=t,this.context=e,this.refs=Sm,this.updater=n||wm}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Tm(){}Tm.prototype=ms.prototype;function Pc(t,e,n){this.props=t,this.context=e,this.refs=Sm,this.updater=n||wm}var jc=Pc.prototype=new Tm;jc.constructor=Pc;Em(jc,ms.prototype);jc.isPureReactComponent=!0;var tf=Array.isArray,km=Object.prototype.hasOwnProperty,Dc={current:null},Im={key:!0,ref:!0,__self:!0,__source:!0};function Cm(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)km.call(e,r)&&!Im.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var u=Array(a),d=0;d<a;d++)u[d]=arguments[d+2];s.children=u}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ui,type:t,key:i,ref:l,props:s,_owner:Dc.current}}function Z0(t,e){return{$$typeof:Ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ui}function e1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function Ma(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e1(""+t.key):e.toString(36)}function Mo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ui:case B0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Ma(l,0):r,tf(s)?(n="",t!=null&&(n=t.replace(nf,"$&/")+"/"),Mo(s,e,n,"",function(d){return d})):s!=null&&(bc(s)&&(s=Z0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nf,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",tf(t))for(var a=0;a<t.length;a++){i=t[a];var u=r+Ma(i,a);l+=Mo(i,e,n,u,s)}else if(u=J0(t),typeof u=="function")for(t=u.call(t),a=0;!(i=t.next()).done;)i=i.value,u=r+Ma(i,a++),l+=Mo(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fo(t,e,n){if(t==null)return t;var r=[],s=0;return Mo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function t1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Lo={transition:null},n1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Dc};Y.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Y.Component=ms;Y.Fragment=$0;Y.Profiler=W0;Y.PureComponent=Pc;Y.StrictMode=H0;Y.Suspense=q0;Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;Y.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Em({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Dc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)km.call(e,u)&&!Im.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){a=Array(u);for(var d=0;d<u;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ui,type:t.type,key:s,ref:i,props:r,_owner:l}};Y.createContext=function(t){return t={$$typeof:G0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K0,_context:t},t.Consumer=t};Y.createElement=Cm;Y.createFactory=function(t){var e=Cm.bind(null,t);return e.type=t,e};Y.createRef=function(){return{current:null}};Y.forwardRef=function(t){return{$$typeof:Q0,render:t}};Y.isValidElement=bc;Y.lazy=function(t){return{$$typeof:Y0,_payload:{_status:-1,_result:t},_init:t1}};Y.memo=function(t,e){return{$$typeof:X0,type:t,compare:e===void 0?null:e}};Y.startTransition=function(t){var e=Lo.transition;Lo.transition={};try{t()}finally{Lo.transition=e}};Y.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Y.useCallback=function(t,e){return ot.current.useCallback(t,e)};Y.useContext=function(t){return ot.current.useContext(t)};Y.useDebugValue=function(){};Y.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};Y.useEffect=function(t,e){return ot.current.useEffect(t,e)};Y.useId=function(){return ot.current.useId()};Y.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};Y.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};Y.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};Y.useMemo=function(t,e){return ot.current.useMemo(t,e)};Y.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};Y.useRef=function(t){return ot.current.useRef(t)};Y.useState=function(t){return ot.current.useState(t)};Y.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};Y.useTransition=function(){return ot.current.useTransition()};Y.version="18.2.0";xm.exports=Y;var b=xm.exports;const r1=U0(b),s1=F0({__proto__:null,default:r1},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=b,o1=Symbol.for("react.element"),l1=Symbol.for("react.fragment"),a1=Object.prototype.hasOwnProperty,u1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c1={key:!0,ref:!0,__self:!0,__source:!0};function Am(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)a1.call(e,r)&&!c1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:o1,type:t,key:i,ref:l,props:s,_owner:u1.current}}Fl.Fragment=l1;Fl.jsx=Am;Fl.jsxs=Am;_m.exports=Fl;var h=_m.exports,Nm={exports:{}},Et={},Rm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,G){var K=B.length;B.push(G);e:for(;0<K;){var re=K-1>>>1,ye=B[re];if(0<s(ye,G))B[re]=G,B[K]=ye,K=re;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var G=B[0],K=B.pop();if(K!==G){B[0]=K;e:for(var re=0,ye=B.length,en=ye>>>1;re<en;){var ut=2*(re+1)-1,Zn=B[ut],Rt=ut+1,mn=B[Rt];if(0>s(Zn,K))Rt<ye&&0>s(mn,Zn)?(B[re]=mn,B[Rt]=K,re=Rt):(B[re]=Zn,B[ut]=K,re=ut);else if(Rt<ye&&0>s(mn,K))B[re]=mn,B[Rt]=K,re=Rt;else break e}}return G}function s(B,G){var K=B.sortIndex-G.sortIndex;return K!==0?K:B.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var u=[],d=[],p=1,g=null,m=3,A=!1,N=!1,R=!1,V=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(B){for(var G=n(d);G!==null;){if(G.callback===null)r(d);else if(G.startTime<=B)r(d),G.sortIndex=G.expirationTime,e(u,G);else break;G=n(d)}}function j(B){if(R=!1,I(B),!N)if(n(u)!==null)N=!0,de(M);else{var G=n(d);G!==null&&Jn(j,G.startTime-B)}}function M(B,G){N=!1,R&&(R=!1,k(v),v=-1),A=!0;var K=m;try{for(I(G),g=n(u);g!==null&&(!(g.expirationTime>G)||B&&!w());){var re=g.callback;if(typeof re=="function"){g.callback=null,m=g.priorityLevel;var ye=re(g.expirationTime<=G);G=t.unstable_now(),typeof ye=="function"?g.callback=ye:g===n(u)&&r(u),I(G)}else r(u);g=n(u)}if(g!==null)var en=!0;else{var ut=n(d);ut!==null&&Jn(j,ut.startTime-G),en=!1}return en}finally{g=null,m=K,A=!1}}var z=!1,E=null,v=-1,S=5,_=-1;function w(){return!(t.unstable_now()-_<S)}function C(){if(E!==null){var B=t.unstable_now();_=B;var G=!0;try{G=E(!0,B)}finally{G?T():(z=!1,E=null)}}else z=!1}var T;if(typeof x=="function")T=function(){x(C)};else if(typeof MessageChannel<"u"){var J=new MessageChannel,ge=J.port2;J.port1.onmessage=C,T=function(){ge.postMessage(null)}}else T=function(){V(C,0)};function de(B){E=B,z||(z=!0,T())}function Jn(B,G){v=V(function(){B(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){N||A||(N=!0,de(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(B){switch(m){case 1:case 2:case 3:var G=3;break;default:G=m}var K=m;m=G;try{return B()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,G){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var K=m;m=B;try{return G()}finally{m=K}},t.unstable_scheduleCallback=function(B,G,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,B){case 1:var ye=-1;break;case 2:ye=250;break;case 5:ye=1073741823;break;case 4:ye=1e4;break;default:ye=5e3}return ye=K+ye,B={id:p++,callback:G,priorityLevel:B,startTime:K,expirationTime:ye,sortIndex:-1},K>re?(B.sortIndex=K,e(d,B),n(u)===null&&B===n(d)&&(R?(k(v),v=-1):R=!0,Jn(j,K-re))):(B.sortIndex=ye,e(u,B),N||A||(N=!0,de(M))),B},t.unstable_shouldYield=w,t.unstable_wrapCallback=function(B){var G=m;return function(){var K=m;m=G;try{return B.apply(this,arguments)}finally{m=K}}}})(Pm);Rm.exports=Pm;var h1=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=b,wt=h1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dm=new Set,fi={};function Ir(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(fi[t]=e,t=0;t<e.length;t++)Dm.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},sf={};function f1(t){return vu.call(sf,t)?!0:vu.call(rf,t)?!1:d1.test(t)?sf[t]=!0:(rf[t]=!0,!1)}function p1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m1(t,e,n,r){if(e===null||typeof e>"u"||p1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var s=Ge.hasOwnProperty(e)?Ge[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m1(e,n,s,r)&&(n=null),r||s===null?f1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pn=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),Oc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),bm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),zc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),Sn=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),of=Symbol.iterator;function Os(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,La;function Gs(t){if(La===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+t}var Oa=!1;function za(t,e){if(!t||Oa)return"";Oa=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var u=`
`+s[l].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=l&&0<=a);break}}}finally{Oa=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function g1(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=za(t.type,!1),t;case 11:return t=za(t.type.render,!1),t;case 1:return t=za(t.type,!0),t;default:return""}}function Eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case Mr:return"Portal";case _u:return"Profiler";case Oc:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vm:return(t.displayName||"Context")+".Consumer";case bm:return(t._context.displayName||"Context")+".Provider";case zc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fc:return e=t.displayName||null,e!==null?e:Eu(t.type)||"Memo";case Sn:e=t._payload,t=t._init;try{return Eu(t(e))}catch{}}return null}function y1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(e);case 8:return e===Oc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v1(t){var e=Lm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mo(t){t._valueTracker||(t._valueTracker=v1(t))}function Om(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Su(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function zm(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function Tu(t,e){zm(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ku(t,e.type,n):e.hasOwnProperty("defaultValue")&&ku(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ku(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qs=Array.isArray;function Qr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Iu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Qs(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Fm(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var go,Bm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_1=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){_1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function $m(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function Hm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$m(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var x1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Au(t,e){if(e){if(x1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pu=null,qr=null,Xr=null;function hf(t){if(t=Hi(t)){if(typeof Pu!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Wl(e),Pu(t.stateNode,t.type,e))}}function Wm(t){qr?Xr?Xr.push(t):Xr=[t]:qr=t}function Km(){if(qr){var t=qr,e=Xr;if(Xr=qr=null,hf(t),e)for(t=0;t<e.length;t++)hf(e[t])}}function Gm(t,e){return t(e)}function Qm(){}var Fa=!1;function qm(t,e,n){if(Fa)return t(e,n);Fa=!0;try{return Gm(t,e,n)}finally{Fa=!1,(qr!==null||Xr!==null)&&(Qm(),Km())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var ju=!1;if(un)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){ju=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{ju=!1}function w1(t,e,n,r,s,i,l,a,u){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Zs=!1,el=null,tl=!1,Du=null,E1={onError:function(t){Zs=!0,el=t}};function S1(t,e,n,r,s,i,l,a,u){Zs=!1,el=null,w1.apply(E1,arguments)}function T1(t,e,n,r,s,i,l,a,u){if(S1.apply(this,arguments),Zs){if(Zs){var d=el;Zs=!1,el=null}else throw Error(F(198));tl||(tl=!0,Du=d)}}function Cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(Cr(t)!==t)throw Error(F(188))}function k1(t){var e=t.alternate;if(!e){if(e=Cr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return df(s),t;if(i===r)return df(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Ym(t){return t=k1(t),t!==null?Jm(t):null}function Jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jm(t);if(e!==null)return e;t=t.sibling}return null}var Zm=wt.unstable_scheduleCallback,ff=wt.unstable_cancelCallback,I1=wt.unstable_shouldYield,C1=wt.unstable_requestPaint,ke=wt.unstable_now,A1=wt.unstable_getCurrentPriorityLevel,Bc=wt.unstable_ImmediatePriority,eg=wt.unstable_UserBlockingPriority,nl=wt.unstable_NormalPriority,N1=wt.unstable_LowPriority,tg=wt.unstable_IdlePriority,Ul=null,Qt=null;function R1(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:D1,P1=Math.log,j1=Math.LN2;function D1(t){return t>>>=0,t===0?32:31-(P1(t)/j1|0)|0}var yo=64,vo=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=qs(a):(i&=l,i!==0&&(r=qs(i)))}else l=n&~s,l!==0?r=qs(l):i!==0&&(r=qs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-zt(e),s=1<<n,r|=t[n],e&=~s;return r}function b1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-zt(i),a=1<<l,u=s[l];u===-1?(!(a&n)||a&r)&&(s[l]=b1(a,e)):u<=e&&(t.expiredLanes|=a),i&=~a}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ng(){var t=yo;return yo<<=1,!(yo&4194240)&&(yo=64),t}function Ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-zt(e),t[e]=n}function M1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-zt(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $c(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-zt(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var ie=0;function rg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sg,Hc,ig,og,lg,Vu=!1,_o=[],Pn=null,jn=null,Dn=null,gi=new Map,yi=new Map,kn=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Fs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hi(e),e!==null&&Hc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function O1(t,e,n,r,s){switch(e){case"focusin":return Pn=Fs(Pn,t,e,n,r,s),!0;case"dragenter":return jn=Fs(jn,t,e,n,r,s),!0;case"mouseover":return Dn=Fs(Dn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Fs(gi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Fs(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function ag(t){var e=ar(t.target);if(e!==null){var n=Cr(e);if(n!==null){if(e=n.tag,e===13){if(e=Xm(n),e!==null){t.blockedOn=e,lg(t.priority,function(){ig(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Oo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ru=r,n.target.dispatchEvent(r),Ru=null}else return e=Hi(n),e!==null&&Hc(e),t.blockedOn=n,!1;e.shift()}return!0}function mf(t,e,n){Oo(t)&&n.delete(e)}function z1(){Vu=!1,Pn!==null&&Oo(Pn)&&(Pn=null),jn!==null&&Oo(jn)&&(jn=null),Dn!==null&&Oo(Dn)&&(Dn=null),gi.forEach(mf),yi.forEach(mf)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,z1)))}function vi(t){function e(s){return Us(s,t)}if(0<_o.length){Us(_o[0],t);for(var n=1;n<_o.length;n++){var r=_o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pn!==null&&Us(Pn,t),jn!==null&&Us(jn,t),Dn!==null&&Us(Dn,t),gi.forEach(e),yi.forEach(e),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)ag(n),n.blockedOn===null&&kn.shift()}var Yr=pn.ReactCurrentBatchConfig,sl=!0;function F1(t,e,n,r){var s=ie,i=Yr.transition;Yr.transition=null;try{ie=1,Wc(t,e,n,r)}finally{ie=s,Yr.transition=i}}function U1(t,e,n,r){var s=ie,i=Yr.transition;Yr.transition=null;try{ie=4,Wc(t,e,n,r)}finally{ie=s,Yr.transition=i}}function Wc(t,e,n,r){if(sl){var s=Mu(t,e,n,r);if(s===null)Ya(t,e,r,il,n),pf(t,r);else if(O1(s,t,e,n,r))r.stopPropagation();else if(pf(t,r),e&4&&-1<L1.indexOf(t)){for(;s!==null;){var i=Hi(s);if(i!==null&&sg(i),i=Mu(t,e,n,r),i===null&&Ya(t,e,r,il,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var il=null;function Mu(t,e,n,r){if(il=null,t=Uc(r),t=ar(t),t!==null)if(e=Cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function ug(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(A1()){case Bc:return 1;case eg:return 4;case nl:case N1:return 16;case tg:return 536870912;default:return 16}default:return 16}}var Cn=null,Kc=null,zo=null;function cg(){if(zo)return zo;var t,e=Kc,n=e.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return zo=s.slice(t,1<r?1-r:void 0)}function Fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xo(){return!0}function gf(){return!1}function St(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xo:gf,this.isPropagationStopped=gf,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=St(gs),$i=we({},gs,{view:0,detail:0}),B1=St($i),Ba,$a,Bs,Bl=we({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(Ba=t.screenX-Bs.screenX,$a=t.screenY-Bs.screenY):$a=Ba=0,Bs=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),yf=St(Bl),$1=we({},Bl,{dataTransfer:0}),H1=St($1),W1=we({},$i,{relatedTarget:0}),Ha=St(W1),K1=we({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=St(K1),Q1=we({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=St(Q1),X1=we({},gs,{data:0}),vf=St(X1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z1[t])?!!e[t]:!1}function Qc(){return e_}var t_=we({},$i,{key:function(t){if(t.key){var e=Y1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?Fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n_=St(t_),r_=we({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=St(r_),s_=we({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),i_=St(s_),o_=we({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=St(o_),a_=we({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=St(a_),c_=[9,13,27,32],qc=un&&"CompositionEvent"in window,ei=null;un&&"documentMode"in document&&(ei=document.documentMode);var h_=un&&"TextEvent"in window&&!ei,hg=un&&(!qc||ei&&8<ei&&11>=ei),xf=" ",wf=!1;function dg(t,e){switch(t){case"keyup":return c_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function d_(t,e){switch(t){case"compositionend":return fg(e);case"keypress":return e.which!==32?null:(wf=!0,xf);case"textInput":return t=e.data,t===xf&&wf?null:t;default:return null}}function f_(t,e){if(Or)return t==="compositionend"||!qc&&dg(t,e)?(t=cg(),zo=Kc=Cn=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hg&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p_[t.type]:e==="textarea"}function pg(t,e,n,r){Wm(r),e=ol(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ti=null,_i=null;function m_(t){kg(t,0)}function $l(t){var e=Ur(t);if(Om(e))return t}function g_(t,e){if(t==="change")return e}var mg=!1;if(un){var Wa;if(un){var Ka="oninput"in document;if(!Ka){var Sf=document.createElement("div");Sf.setAttribute("oninput","return;"),Ka=typeof Sf.oninput=="function"}Wa=Ka}else Wa=!1;mg=Wa&&(!document.documentMode||9<document.documentMode)}function Tf(){ti&&(ti.detachEvent("onpropertychange",gg),_i=ti=null)}function gg(t){if(t.propertyName==="value"&&$l(_i)){var e=[];pg(e,_i,t,Uc(t)),qm(m_,e)}}function y_(t,e,n){t==="focusin"?(Tf(),ti=e,_i=n,ti.attachEvent("onpropertychange",gg)):t==="focusout"&&Tf()}function v_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $l(_i)}function __(t,e){if(t==="click")return $l(e)}function x_(t,e){if(t==="input"||t==="change")return $l(e)}function w_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:w_;function xi(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vu.call(e,s)||!Ut(t[s],e[s]))return!1}return!0}function kf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var n=kf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=kf(n)}}function yg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vg(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E_(t){var e=vg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yg(n.ownerDocument.documentElement,n)){if(r!==null&&Xc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=If(n,i);var l=If(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var S_=un&&"documentMode"in document&&11>=document.documentMode,zr=null,Lu=null,ni=null,Ou=!1;function Cf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ou||zr==null||zr!==Zo(r)||(r=zr,"selectionStart"in r&&Xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&xi(ni,r)||(ni=r,r=ol(Lu,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=zr)))}function wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionend:wo("Transition","TransitionEnd")},Ga={},_g={};un&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Hl(t){if(Ga[t])return Ga[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _g)return Ga[t]=e[n];return t}var xg=Hl("animationend"),wg=Hl("animationiteration"),Eg=Hl("animationstart"),Sg=Hl("transitionend"),Tg=new Map,Af="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){Tg.set(t,e),Ir(e,[t])}for(var Qa=0;Qa<Af.length;Qa++){var qa=Af[Qa],T_=qa.toLowerCase(),k_=qa[0].toUpperCase()+qa.slice(1);Qn(T_,"on"+k_)}Qn(xg,"onAnimationEnd");Qn(wg,"onAnimationIteration");Qn(Eg,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Sg,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Nf(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,T1(r,e,void 0,t),t.currentTarget=null}function kg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],u=a.instance,d=a.currentTarget;if(a=a.listener,u!==i&&s.isPropagationStopped())break e;Nf(s,a,d),i=u}else for(l=0;l<r.length;l++){if(a=r[l],u=a.instance,d=a.currentTarget,a=a.listener,u!==i&&s.isPropagationStopped())break e;Nf(s,a,d),i=u}}}if(tl)throw t=Du,tl=!1,Du=null,t}function ce(t,e){var n=e[$u];n===void 0&&(n=e[$u]=new Set);var r=t+"__bubble";n.has(r)||(Ig(e,t,2,!1),n.add(r))}function Xa(t,e,n){var r=0;e&&(r|=4),Ig(n,t,r,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[Eo]){t[Eo]=!0,Dm.forEach(function(n){n!=="selectionchange"&&(I_.has(n)||Xa(n,!1,t),Xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Xa("selectionchange",!1,e))}}function Ig(t,e,n,r){switch(ug(e)){case 1:var s=F1;break;case 4:s=U1;break;default:s=Wc}n=s.bind(null,e,n,t),s=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ar(a),l===null)return;if(u=l.tag,u===5||u===6){r=i=l;continue e}a=a.parentNode}}r=r.return}qm(function(){var d=i,p=Uc(n),g=[];e:{var m=Tg.get(t);if(m!==void 0){var A=Gc,N=t;switch(t){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":A=n_;break;case"focusin":N="focus",A=Ha;break;case"focusout":N="blur",A=Ha;break;case"beforeblur":case"afterblur":A=Ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":A=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":A=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":A=i_;break;case xg:case wg:case Eg:A=G1;break;case Sg:A=l_;break;case"scroll":A=B1;break;case"wheel":A=u_;break;case"copy":case"cut":case"paste":A=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":A=_f}var R=(e&4)!==0,V=!R&&t==="scroll",k=R?m!==null?m+"Capture":null:m;R=[];for(var x=d,I;x!==null;){I=x;var j=I.stateNode;if(I.tag===5&&j!==null&&(I=j,k!==null&&(j=mi(x,k),j!=null&&R.push(Ei(x,j,I)))),V)break;x=x.return}0<R.length&&(m=new A(m,N,null,n,p),g.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",A=t==="mouseout"||t==="pointerout",m&&n!==Ru&&(N=n.relatedTarget||n.fromElement)&&(ar(N)||N[cn]))break e;if((A||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,A?(N=n.relatedTarget||n.toElement,A=d,N=N?ar(N):null,N!==null&&(V=Cr(N),N!==V||N.tag!==5&&N.tag!==6)&&(N=null)):(A=null,N=d),A!==N)){if(R=yf,j="onMouseLeave",k="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(R=_f,j="onPointerLeave",k="onPointerEnter",x="pointer"),V=A==null?m:Ur(A),I=N==null?m:Ur(N),m=new R(j,x+"leave",A,n,p),m.target=V,m.relatedTarget=I,j=null,ar(p)===d&&(R=new R(k,x+"enter",N,n,p),R.target=I,R.relatedTarget=V,j=R),V=j,A&&N)t:{for(R=A,k=N,x=0,I=R;I;I=Dr(I))x++;for(I=0,j=k;j;j=Dr(j))I++;for(;0<x-I;)R=Dr(R),x--;for(;0<I-x;)k=Dr(k),I--;for(;x--;){if(R===k||k!==null&&R===k.alternate)break t;R=Dr(R),k=Dr(k)}R=null}else R=null;A!==null&&Rf(g,m,A,R,!1),N!==null&&V!==null&&Rf(g,V,N,R,!0)}}e:{if(m=d?Ur(d):window,A=m.nodeName&&m.nodeName.toLowerCase(),A==="select"||A==="input"&&m.type==="file")var M=g_;else if(Ef(m))if(mg)M=x_;else{M=v_;var z=y_}else(A=m.nodeName)&&A.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(M=__);if(M&&(M=M(t,d))){pg(g,M,n,p);break e}z&&z(t,m,d),t==="focusout"&&(z=m._wrapperState)&&z.controlled&&m.type==="number"&&ku(m,"number",m.value)}switch(z=d?Ur(d):window,t){case"focusin":(Ef(z)||z.contentEditable==="true")&&(zr=z,Lu=d,ni=null);break;case"focusout":ni=Lu=zr=null;break;case"mousedown":Ou=!0;break;case"contextmenu":case"mouseup":case"dragend":Ou=!1,Cf(g,n,p);break;case"selectionchange":if(S_)break;case"keydown":case"keyup":Cf(g,n,p)}var E;if(qc)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Or?dg(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(hg&&n.locale!=="ko"&&(Or||v!=="onCompositionStart"?v==="onCompositionEnd"&&Or&&(E=cg()):(Cn=p,Kc="value"in Cn?Cn.value:Cn.textContent,Or=!0)),z=ol(d,v),0<z.length&&(v=new vf(v,t,null,n,p),g.push({event:v,listeners:z}),E?v.data=E:(E=fg(n),E!==null&&(v.data=E)))),(E=h_?d_(t,n):f_(t,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(p=new vf("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=E))}kg(g,e)})}function Ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,n),i!=null&&r.unshift(Ei(t,i,s)),i=mi(t,e),i!=null&&r.push(Ei(t,i,s))),t=t.return}return r}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var a=n,u=a.alternate,d=a.stateNode;if(u!==null&&u===r)break;a.tag===5&&d!==null&&(a=d,s?(u=mi(n,i),u!=null&&l.unshift(Ei(n,u,a))):s||(u=mi(n,i),u!=null&&l.push(Ei(n,u,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var C_=/\r\n?/g,A_=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(C_,`
`).replace(A_,"")}function So(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(F(425))}function ll(){}var zu=null,Fu=null;function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,N_=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(t){return jf.resolve(null).then(t).catch(P_)}:Bu;function P_(t){setTimeout(function(){throw t})}function Ja(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vi(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ys,Si="__reactProps$"+ys,cn="__reactContainer$"+ys,$u="__reactEvents$"+ys,j_="__reactListeners$"+ys,D_="__reactHandles$"+ys;function ar(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Gt])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function Hi(t){return t=t[Gt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Wl(t){return t[Si]||null}var Hu=[],Br=-1;function qn(t){return{current:t}}function he(t){0>Br||(t.current=Hu[Br],Hu[Br]=null,Br--)}function le(t,e){Br++,Hu[Br]=t.current,t.current=e}var $n={},tt=qn($n),ft=qn(!1),yr=$n;function ss(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function al(){he(ft),he(tt)}function bf(t,e,n){if(tt.current!==$n)throw Error(F(168));le(tt,e),le(ft,n)}function Cg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,y1(t)||"Unknown",s));return we({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,yr=tt.current,le(tt,t),le(ft,ft.current),!0}function Vf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Cg(t,e,yr),r.__reactInternalMemoizedMergedChildContext=t,he(ft),he(tt),le(tt,t)):he(ft),le(ft,n)}var nn=null,Kl=!1,Za=!1;function Ag(t){nn===null?nn=[t]:nn.push(t)}function b_(t){Kl=!0,Ag(t)}function Xn(){if(!Za&&nn!==null){Za=!0;var t=0,e=ie;try{var n=nn;for(ie=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,Kl=!1}catch(s){throw nn!==null&&(nn=nn.slice(t+1)),Zm(Bc,Xn),s}finally{ie=e,Za=!1}}return null}var $r=[],Hr=0,cl=null,hl=0,Tt=[],kt=0,vr=null,rn=1,sn="";function ir(t,e){$r[Hr++]=hl,$r[Hr++]=cl,cl=t,hl=e}function Ng(t,e,n){Tt[kt++]=rn,Tt[kt++]=sn,Tt[kt++]=vr,vr=t;var r=rn;t=sn;var s=32-zt(r)-1;r&=~(1<<s),n+=1;var i=32-zt(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,rn=1<<32-zt(e)+s|n<<s|r,sn=i+t}else rn=1<<i|n<<s|r,sn=t}function Yc(t){t.return!==null&&(ir(t,1),Ng(t,1,0))}function Jc(t){for(;t===cl;)cl=$r[--Hr],$r[Hr]=null,hl=$r[--Hr],$r[Hr]=null;for(;t===vr;)vr=Tt[--kt],Tt[kt]=null,sn=Tt[--kt],Tt[kt]=null,rn=Tt[--kt],Tt[kt]=null}var xt=null,_t=null,pe=!1,bt=null;function Rg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,_t=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vr!==null?{id:rn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,_t=null,!0):!1;default:return!1}}function Wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ku(t){if(pe){var e=_t;if(e){var n=e;if(!Mf(t,e)){if(Wu(t))throw Error(F(418));e=bn(n.nextSibling);var r=xt;e&&Mf(t,e)?Rg(r,n):(t.flags=t.flags&-4097|2,pe=!1,xt=t)}}else{if(Wu(t))throw Error(F(418));t.flags=t.flags&-4097|2,pe=!1,xt=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function To(t){if(t!==xt)return!1;if(!pe)return Lf(t),pe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uu(t.type,t.memoizedProps)),e&&(e=_t)){if(Wu(t))throw Pg(),Error(F(418));for(;e;)Rg(t,e),e=bn(e.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=xt?bn(t.stateNode.nextSibling):null;return!0}function Pg(){for(var t=_t;t;)t=bn(t.nextSibling)}function is(){_t=xt=null,pe=!1}function Zc(t){bt===null?bt=[t]:bt.push(t)}var V_=pn.ReactCurrentBatchConfig;function jt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dl=qn(null),fl=null,Wr=null,eh=null;function th(){eh=Wr=fl=null}function nh(t){var e=dl.current;he(dl),t._currentValue=e}function Gu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jr(t,e){fl=t,eh=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function At(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},Wr===null){if(fl===null)throw Error(F(308));Wr=t,fl.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return e}var ur=null;function rh(t){ur===null?ur=[t]:ur.push(t)}function jg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rh(e)):(n.next=s.next,s.next=n),e.interleaved=n,hn(t,r)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Tn=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,te&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hn(t,n)}return s=r.interleaved,s===null?(e.next=e,rh(r)):(e.next=s.next,s.next=e),r.interleaved=e,hn(t,n)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}function Of(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var s=t.updateQueue;Tn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var u=a,d=u.next;u.next=null,l===null?i=d:l.next=d,l=u;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=u))}if(i!==null){var g=s.baseState;l=0,p=d=u=null,a=i;do{var m=a.lane,A=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:A,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var N=t,R=a;switch(m=e,A=n,R.tag){case 1:if(N=R.payload,typeof N=="function"){g=N.call(A,g,m);break e}g=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=R.payload,m=typeof N=="function"?N.call(A,g,m):N,m==null)break e;g=we({},g,m);break e;case 2:Tn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else A={eventTime:A,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=A,u=g):p=p.next=A,l|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(u=g),s.baseState=u,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xr|=l,t.lanes=l,t.memoizedState=g}}function zf(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var bg=new jm.Component().refs;function Qu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gl={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=on(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vn(t,i,s),e!==null&&(Ft(e,t,s,r),Uo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=on(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vn(t,i,s),e!==null&&(Ft(e,t,s,r),Uo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Ln(t),s=on(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vn(t,s,r),e!==null&&(Ft(e,t,r,n),Uo(e,t,r))}};function Ff(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!xi(n,r)||!xi(s,i):!0}function Vg(t,e,n){var r=!1,s=$n,i=e.contextType;return typeof i=="object"&&i!==null?i=At(i):(s=pt(e)?yr:tt.current,r=e.contextTypes,i=(r=r!=null)?ss(t,s):$n),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gl.enqueueReplaceState(e,e.state,null)}function qu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=bg,sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=At(i):(i=pt(e)?yr:tt.current,s.context=ss(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gl.enqueueReplaceState(s,s.state,null),pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;a===bg&&(a=s.refs={}),l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bf(t){var e=t._init;return e(t._payload)}function Mg(t){function e(k,x){if(t){var I=k.deletions;I===null?(k.deletions=[x],k.flags|=16):I.push(x)}}function n(k,x){if(!t)return null;for(;x!==null;)e(k,x),x=x.sibling;return null}function r(k,x){for(k=new Map;x!==null;)x.key!==null?k.set(x.key,x):k.set(x.index,x),x=x.sibling;return k}function s(k,x){return k=On(k,x),k.index=0,k.sibling=null,k}function i(k,x,I){return k.index=I,t?(I=k.alternate,I!==null?(I=I.index,I<x?(k.flags|=2,x):I):(k.flags|=2,x)):(k.flags|=1048576,x)}function l(k){return t&&k.alternate===null&&(k.flags|=2),k}function a(k,x,I,j){return x===null||x.tag!==6?(x=ou(I,k.mode,j),x.return=k,x):(x=s(x,I),x.return=k,x)}function u(k,x,I,j){var M=I.type;return M===Lr?p(k,x,I.props.children,j,I.key):x!==null&&(x.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sn&&Bf(M)===x.type)?(j=s(x,I.props),j.ref=$s(k,x,I),j.return=k,j):(j=Go(I.type,I.key,I.props,null,k.mode,j),j.ref=$s(k,x,I),j.return=k,j)}function d(k,x,I,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=lu(I,k.mode,j),x.return=k,x):(x=s(x,I.children||[]),x.return=k,x)}function p(k,x,I,j,M){return x===null||x.tag!==7?(x=fr(I,k.mode,j,M),x.return=k,x):(x=s(x,I),x.return=k,x)}function g(k,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ou(""+x,k.mode,I),x.return=k,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case po:return I=Go(x.type,x.key,x.props,null,k.mode,I),I.ref=$s(k,null,x),I.return=k,I;case Mr:return x=lu(x,k.mode,I),x.return=k,x;case Sn:var j=x._init;return g(k,j(x._payload),I)}if(Qs(x)||Os(x))return x=fr(x,k.mode,I,null),x.return=k,x;ko(k,x)}return null}function m(k,x,I,j){var M=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return M!==null?null:a(k,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case po:return I.key===M?u(k,x,I,j):null;case Mr:return I.key===M?d(k,x,I,j):null;case Sn:return M=I._init,m(k,x,M(I._payload),j)}if(Qs(I)||Os(I))return M!==null?null:p(k,x,I,j,null);ko(k,I)}return null}function A(k,x,I,j,M){if(typeof j=="string"&&j!==""||typeof j=="number")return k=k.get(I)||null,a(x,k,""+j,M);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case po:return k=k.get(j.key===null?I:j.key)||null,u(x,k,j,M);case Mr:return k=k.get(j.key===null?I:j.key)||null,d(x,k,j,M);case Sn:var z=j._init;return A(k,x,I,z(j._payload),M)}if(Qs(j)||Os(j))return k=k.get(I)||null,p(x,k,j,M,null);ko(x,j)}return null}function N(k,x,I,j){for(var M=null,z=null,E=x,v=x=0,S=null;E!==null&&v<I.length;v++){E.index>v?(S=E,E=null):S=E.sibling;var _=m(k,E,I[v],j);if(_===null){E===null&&(E=S);break}t&&E&&_.alternate===null&&e(k,E),x=i(_,x,v),z===null?M=_:z.sibling=_,z=_,E=S}if(v===I.length)return n(k,E),pe&&ir(k,v),M;if(E===null){for(;v<I.length;v++)E=g(k,I[v],j),E!==null&&(x=i(E,x,v),z===null?M=E:z.sibling=E,z=E);return pe&&ir(k,v),M}for(E=r(k,E);v<I.length;v++)S=A(E,k,v,I[v],j),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?v:S.key),x=i(S,x,v),z===null?M=S:z.sibling=S,z=S);return t&&E.forEach(function(w){return e(k,w)}),pe&&ir(k,v),M}function R(k,x,I,j){var M=Os(I);if(typeof M!="function")throw Error(F(150));if(I=M.call(I),I==null)throw Error(F(151));for(var z=M=null,E=x,v=x=0,S=null,_=I.next();E!==null&&!_.done;v++,_=I.next()){E.index>v?(S=E,E=null):S=E.sibling;var w=m(k,E,_.value,j);if(w===null){E===null&&(E=S);break}t&&E&&w.alternate===null&&e(k,E),x=i(w,x,v),z===null?M=w:z.sibling=w,z=w,E=S}if(_.done)return n(k,E),pe&&ir(k,v),M;if(E===null){for(;!_.done;v++,_=I.next())_=g(k,_.value,j),_!==null&&(x=i(_,x,v),z===null?M=_:z.sibling=_,z=_);return pe&&ir(k,v),M}for(E=r(k,E);!_.done;v++,_=I.next())_=A(E,k,v,_.value,j),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?v:_.key),x=i(_,x,v),z===null?M=_:z.sibling=_,z=_);return t&&E.forEach(function(C){return e(k,C)}),pe&&ir(k,v),M}function V(k,x,I,j){if(typeof I=="object"&&I!==null&&I.type===Lr&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case po:e:{for(var M=I.key,z=x;z!==null;){if(z.key===M){if(M=I.type,M===Lr){if(z.tag===7){n(k,z.sibling),x=s(z,I.props.children),x.return=k,k=x;break e}}else if(z.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Sn&&Bf(M)===z.type){n(k,z.sibling),x=s(z,I.props),x.ref=$s(k,z,I),x.return=k,k=x;break e}n(k,z);break}else e(k,z);z=z.sibling}I.type===Lr?(x=fr(I.props.children,k.mode,j,I.key),x.return=k,k=x):(j=Go(I.type,I.key,I.props,null,k.mode,j),j.ref=$s(k,x,I),j.return=k,k=j)}return l(k);case Mr:e:{for(z=I.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){n(k,x.sibling),x=s(x,I.children||[]),x.return=k,k=x;break e}else{n(k,x);break}else e(k,x);x=x.sibling}x=lu(I,k.mode,j),x.return=k,k=x}return l(k);case Sn:return z=I._init,V(k,x,z(I._payload),j)}if(Qs(I))return N(k,x,I,j);if(Os(I))return R(k,x,I,j);ko(k,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,x!==null&&x.tag===6?(n(k,x.sibling),x=s(x,I),x.return=k,k=x):(n(k,x),x=ou(I,k.mode,j),x.return=k,k=x),l(k)):n(k,x)}return V}var os=Mg(!0),Lg=Mg(!1),Wi={},qt=qn(Wi),Ti=qn(Wi),ki=qn(Wi);function cr(t){if(t===Wi)throw Error(F(174));return t}function ih(t,e){switch(le(ki,e),le(Ti,t),le(qt,Wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cu(e,t)}he(qt),le(qt,e)}function ls(){he(qt),he(Ti),he(ki)}function Og(t){cr(ki.current);var e=cr(qt.current),n=Cu(e,t.type);e!==n&&(le(Ti,t),le(qt,n))}function oh(t){Ti.current===t&&(he(qt),he(Ti))}var ve=qn(0);function ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eu=[];function lh(){for(var t=0;t<eu.length;t++)eu[t]._workInProgressVersionPrimary=null;eu.length=0}var Bo=pn.ReactCurrentDispatcher,tu=pn.ReactCurrentBatchConfig,_r=0,xe=null,Pe=null,Me=null,gl=!1,ri=!1,Ii=0,M_=0;function qe(){throw Error(F(321))}function ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,s,i){if(_r=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bo.current=t===null||t.memoizedState===null?F_:U_,t=n(r,s),ri){i=0;do{if(ri=!1,Ii=0,25<=i)throw Error(F(301));i+=1,Me=Pe=null,e.updateQueue=null,Bo.current=B_,t=n(r,s)}while(ri)}if(Bo.current=yl,e=Pe!==null&&Pe.next!==null,_r=0,Me=Pe=xe=null,gl=!1,e)throw Error(F(300));return t}function ch(){var t=Ii!==0;return Ii=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xe.memoizedState=Me=t:Me=Me.next=t,Me}function Nt(){if(Pe===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=Pe.next;var e=Me===null?xe.memoizedState:Me.next;if(e!==null)Me=e,Pe=t;else{if(t===null)throw Error(F(310));Pe=t,t={memoizedState:Pe.memoizedState,baseState:Pe.baseState,baseQueue:Pe.baseQueue,queue:Pe.queue,next:null},Me===null?xe.memoizedState=Me=t:Me=Me.next=t}return Me}function Ci(t,e){return typeof e=="function"?e(t):e}function nu(t){var e=Nt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=Pe,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,u=null,d=i;do{var p=d.lane;if((_r&p)===p)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(a=u=g,l=r):u=u.next=g,xe.lanes|=p,xr|=p}d=d.next}while(d!==null&&d!==i);u===null?l=r:u.next=a,Ut(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,xr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ru(t){var e=Nt(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Ut(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function zg(){}function Fg(t,e){var n=xe,r=Nt(),s=e(),i=!Ut(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,hh($g.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ai(9,Bg.bind(null,n,r,s,e),void 0,null),Oe===null)throw Error(F(349));_r&30||Ug(n,e,s)}return s}function Ug(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bg(t,e,n,r){e.value=n,e.getSnapshot=r,Hg(e)&&Wg(t)}function $g(t,e,n){return n(function(){Hg(e)&&Wg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function Wg(t){var e=hn(t,1);e!==null&&Ft(e,t,1,-1)}function $f(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e.queue=t,t=t.dispatch=z_.bind(null,xe,t),[e.memoizedState,t]}function Ai(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kg(){return Nt().memoizedState}function $o(t,e,n,r){var s=Wt();xe.flags|=t,s.memoizedState=Ai(1|e,n,void 0,r===void 0?null:r)}function Ql(t,e,n,r){var s=Nt();r=r===void 0?null:r;var i=void 0;if(Pe!==null){var l=Pe.memoizedState;if(i=l.destroy,r!==null&&ah(r,l.deps)){s.memoizedState=Ai(e,n,i,r);return}}xe.flags|=t,s.memoizedState=Ai(1|e,n,i,r)}function Hf(t,e){return $o(8390656,8,t,e)}function hh(t,e){return Ql(2048,8,t,e)}function Gg(t,e){return Ql(4,2,t,e)}function Qg(t,e){return Ql(4,4,t,e)}function qg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4,4,qg.bind(null,e,t),n)}function dh(){}function Yg(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jg(t,e){var n=Nt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zg(t,e,n){return _r&21?(Ut(n,e)||(n=ng(),xe.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function L_(t,e){var n=ie;ie=n!==0&&4>n?n:4,t(!0);var r=tu.transition;tu.transition={};try{t(!1),e()}finally{ie=n,tu.transition=r}}function ey(){return Nt().memoizedState}function O_(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ty(t))ny(e,n);else if(n=jg(t,e,n,r),n!==null){var s=it();Ft(n,t,r,s),ry(n,e,r)}}function z_(t,e,n){var r=Ln(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ty(t))ny(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,l)){var u=e.interleaved;u===null?(s.next=s,rh(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=jg(t,e,s,r),n!==null&&(s=it(),Ft(n,t,r,s),ry(n,e,r))}}function ty(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function ny(t,e){ri=gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ry(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}var yl={readContext:At,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},F_={readContext:At,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:At,useEffect:Hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$o(4194308,4,qg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=O_.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:$f,useDebugValue:dh,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=$f(!1),e=t[0];return t=L_.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,s=Wt();if(pe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Oe===null)throw Error(F(349));_r&30||Ug(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Hf($g.bind(null,r,i,t),[t]),r.flags|=2048,Ai(9,Bg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Wt(),e=Oe.identifierPrefix;if(pe){var n=sn,r=rn;n=(r&~(1<<32-zt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U_={readContext:At,useCallback:Yg,useContext:At,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:nu,useRef:Kg,useState:function(){return nu(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=Nt();return Zg(e,Pe.memoizedState,t)},useTransition:function(){var t=nu(Ci)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:zg,useSyncExternalStore:Fg,useId:ey,unstable_isNewReconciler:!1},B_={readContext:At,useCallback:Yg,useContext:At,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:ru,useRef:Kg,useState:function(){return ru(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=Nt();return Pe===null?e.memoizedState=t:Zg(e,Pe.memoizedState,t)},useTransition:function(){var t=ru(Ci)[0],e=Nt().memoizedState;return[t,e]},useMutableSource:zg,useSyncExternalStore:Fg,useId:ey,unstable_isNewReconciler:!1};function as(t,e){try{var n="",r=e;do n+=g1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function su(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function sy(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_l||(_l=!0,oc=r),Xu(t,e)},n}function iy(t,e,n){n=on(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xu(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Wf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rx.bind(null,t,e,n),e.then(t,t))}function Kf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=on(-1,1),e.tag=2,Vn(n,e,1))),n.lanes|=1),t)}var H_=pn.ReactCurrentOwner,dt=!1;function st(t,e,n,r){e.child=t===null?Lg(e,null,n,r):os(e,t.child,n,r)}function Qf(t,e,n,r,s){n=n.render;var i=e.ref;return Jr(e,s),r=uh(t,e,n,r,i,s),n=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):(pe&&n&&Yc(e),e.flags|=1,st(t,e,r,s),e.child)}function qf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oy(t,e,i,r,s)):(t=Go(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(l,r)&&t.ref===e.ref)return dn(t,e,s)}return e.flags|=1,t=On(i,r),t.ref=e.ref,t.return=e,e.child=t}function oy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xi(i,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,dn(t,e,s)}return Yu(t,e,n,r,s)}function ly(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},le(Gr,vt),vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,le(Gr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,le(Gr,vt),vt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,le(Gr,vt),vt|=r;return st(t,e,s,n),e.child}function ay(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yu(t,e,n,r,s){var i=pt(n)?yr:tt.current;return i=ss(e,i),Jr(e,s),n=uh(t,e,n,r,i,s),r=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):(pe&&r&&Yc(e),e.flags|=1,st(t,e,n,s),e.child)}function Xf(t,e,n,r,s){if(pt(n)){var i=!0;ul(e)}else i=!1;if(Jr(e,s),e.stateNode===null)Ho(t,e),Vg(e,n,r),qu(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var u=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=At(d):(d=pt(n)?yr:tt.current,d=ss(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||u!==d)&&Uf(e,l,r,d),Tn=!1;var m=e.memoizedState;l.state=m,pl(e,r,l,s),u=e.memoizedState,a!==r||m!==u||ft.current||Tn?(typeof p=="function"&&(Qu(e,n,p,r),u=e.memoizedState),(a=Tn||Ff(e,n,a,r,m,u,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),l.props=r,l.state=u,l.context=d,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Dg(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:jt(e.type,a),l.props=d,g=e.pendingProps,m=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=At(u):(u=pt(n)?yr:tt.current,u=ss(e,u));var A=n.getDerivedStateFromProps;(p=typeof A=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||m!==u)&&Uf(e,l,r,u),Tn=!1,m=e.memoizedState,l.state=m,pl(e,r,l,s);var N=e.memoizedState;a!==g||m!==N||ft.current||Tn?(typeof A=="function"&&(Qu(e,n,A,r),N=e.memoizedState),(d=Tn||Ff(e,n,d,r,m,N,u)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,N,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,N,u)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=N),l.props=r,l.state=N,l.context=u,r=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ju(t,e,n,r,i,s)}function Ju(t,e,n,r,s,i){ay(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Vf(e,n,!1),dn(t,e,i);r=e.stateNode,H_.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=os(e,t.child,null,i),e.child=os(e,null,a,i)):st(t,e,a,i),e.memoizedState=r.state,s&&Vf(e,n,!0),e.child}function uy(t){var e=t.stateNode;e.pendingContext?bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bf(t,e.context,!1),ih(t,e.containerInfo)}function Yf(t,e,n,r,s){return is(),Zc(s),e.flags|=256,st(t,e,n,r),e.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function cy(t,e,n){var r=e.pendingProps,s=ve.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),le(ve,s&1),t===null)return Ku(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Yl(l,r,0,null),t=fr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ec(n),e.memoizedState=Zu,t):fh(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return W_(t,e,l,r,a,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,a=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=On(s,u),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=On(a,i):(i=fr(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?ec(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Zu,r}return i=t.child,t=i.sibling,r=On(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fh(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,r){return r!==null&&Zc(r),os(e,t.child,null,n),t=fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W_(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=su(Error(F(422))),Io(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yl({mode:"visible",children:r.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&os(e,t.child,null,l),e.child.memoizedState=ec(l),e.memoizedState=Zu,i);if(!(e.mode&1))return Io(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=su(i,r,void 0),Io(t,e,l,r)}if(a=(l&t.childLanes)!==0,dt||a){if(r=Oe,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hn(t,s),Ft(r,t,s,-1))}return _h(),r=su(Error(F(421))),Io(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_t=bn(s.nextSibling),xt=e,pe=!0,bt=null,t!==null&&(Tt[kt++]=rn,Tt[kt++]=sn,Tt[kt++]=vr,rn=t.id,sn=t.overflow,vr=e),e=fh(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gu(t.return,e,n)}function iu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(st(t,e,r.children,n),r=ve.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(le(ve,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ml(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),iu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ml(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}iu(e,!0,n,null,i);break;case"together":iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K_(t,e,n){switch(e.tag){case 3:uy(e),is();break;case 5:Og(e);break;case 1:pt(e.type)&&ul(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;le(dl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(le(ve,ve.current&1),e.flags|=128,null):n&e.child.childLanes?cy(t,e,n):(le(ve,ve.current&1),t=dn(t,e,n),t!==null?t.sibling:null);le(ve,ve.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),le(ve,ve.current),r)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,n)}return dn(t,e,n)}var dy,tc,fy,py;dy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tc=function(){};fy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cr(qt.current);var i=null;switch(n){case"input":s=Su(t,s),r=Su(t,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=Iu(t,s),r=Iu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Au(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var u=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&u!==a&&(u!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&a[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(i||(i=[]),i.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(i=i||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fi.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&ce("scroll",t),i||a===u||(i=[])):(i=i||[]).push(d,u))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};py=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hs(t,e){if(!pe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G_(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&al(),Xe(e),null;case 3:return r=e.stateNode,ls(),he(ft),he(tt),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(To(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(uc(bt),bt=null))),tc(t,e),Xe(e),null;case 5:oh(e);var s=cr(ki.current);if(n=e.type,t!==null&&e.stateNode!=null)fy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Xe(e),null}if(t=cr(qt.current),To(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gt]=e,r[Si]=i,t=(e.mode&1)!==0,n){case"dialog":ce("cancel",r),ce("close",r);break;case"iframe":case"object":case"embed":ce("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)ce(Xs[s],r);break;case"source":ce("error",r);break;case"img":case"image":case"link":ce("error",r),ce("load",r);break;case"details":ce("toggle",r);break;case"input":lf(r,i),ce("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ce("invalid",r);break;case"textarea":uf(r,i),ce("invalid",r)}Au(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&So(r.textContent,a,t),s=["children",""+a]):fi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&ce("scroll",r)}switch(n){case"input":mo(r),af(r,i,!0);break;case"textarea":mo(r),cf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ll)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Gt]=e,t[Si]=r,dy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Nu(n,r),n){case"dialog":ce("cancel",t),ce("close",t),s=r;break;case"iframe":case"object":case"embed":ce("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)ce(Xs[s],t);s=r;break;case"source":ce("error",t),s=r;break;case"img":case"image":case"link":ce("error",t),ce("load",t),s=r;break;case"details":ce("toggle",t),s=r;break;case"input":lf(t,r),s=Su(t,r),ce("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),ce("invalid",t);break;case"textarea":uf(t,r),s=Iu(t,r),ce("invalid",t);break;default:s=r}Au(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var u=a[i];i==="style"?Hm(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Bm(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&pi(t,u):typeof u=="number"&&pi(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?u!=null&&i==="onScroll"&&ce("scroll",t):u!=null&&Lc(t,i,u,l))}switch(n){case"input":mo(t),af(t,r,!1);break;case"textarea":mo(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)py(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=cr(ki.current),cr(qt.current),To(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gt]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:So(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&So(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=e,e.stateNode=r}return Xe(e),null;case 13:if(he(ve),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(pe&&_t!==null&&e.mode&1&&!(e.flags&128))Pg(),is(),e.flags|=98560,i=!1;else if(i=To(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Gt]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),i=!1}else bt!==null&&(uc(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ve.current&1?je===0&&(je=3):_h())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return ls(),tc(t,e),t===null&&wi(e.stateNode.containerInfo),Xe(e),null;case 10:return nh(e.type._context),Xe(e),null;case 17:return pt(e.type)&&al(),Xe(e),null;case 19:if(he(ve),i=e.memoizedState,i===null)return Xe(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Hs(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ml(t),l!==null){for(e.flags|=128,Hs(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return le(ve,ve.current&1|2),e.child}t=t.sibling}i.tail!==null&&ke()>us&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304)}else{if(!r)if(t=ml(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!pe)return Xe(e),null}else 2*ke()-i.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ke(),e.sibling=null,n=ve.current,le(ve,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function Q_(t,e){switch(Jc(e),e.tag){case 1:return pt(e.type)&&al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),he(ft),he(tt),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oh(e),null;case 13:if(he(ve),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return he(ve),null;case 4:return ls(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Co=!1,Ze=!1,q_=typeof WeakSet=="function"?WeakSet:Set,$=null;function Kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function nc(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Zf=!1;function X_(t,e){if(zu=sl,t=vg(),Xc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,u=-1,d=0,p=0,g=t,m=null;t:for(;;){for(var A;g!==n||s!==0&&g.nodeType!==3||(a=l+s),g!==i||r!==0&&g.nodeType!==3||(u=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(A=g.firstChild)!==null;)m=g,g=A;for(;;){if(g===t)break t;if(m===n&&++d===s&&(a=l),m===i&&++p===r&&(u=l),(A=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=A}n=a===-1||u===-1?null:{start:a,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fu={focusedElem:t,selectionRange:n},sl=!1,$=e;$!==null;)if(e=$,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,$=t;else for(;$!==null;){e=$;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var R=N.memoizedProps,V=N.memoizedState,k=e.stateNode,x=k.getSnapshotBeforeUpdate(e.elementType===e.type?R:jt(e.type,R),V);k.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Se(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,$=t;break}$=e.return}return N=Zf,Zf=!1,N}function si(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nc(e,n,i)}s=s.next}while(s!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function my(t){var e=t.alternate;e!==null&&(t.alternate=null,my(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[Si],delete e[$u],delete e[j_],delete e[D_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gy(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}var Fe=null,Dt=!1;function En(t,e,n){for(n=n.child;n!==null;)yy(t,e,n),n=n.sibling}function yy(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:Ze||Kr(n,e);case 6:var r=Fe,s=Dt;Fe=null,En(t,e,n),Fe=r,Dt=s,Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?Ja(t.parentNode,n):t.nodeType===1&&Ja(t,n),vi(t)):Ja(Fe,n.stateNode));break;case 4:r=Fe,s=Dt,Fe=n.stateNode.containerInfo,Dt=!0,En(t,e,n),Fe=r,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&nc(n,e,l),s=s.next}while(s!==r)}En(t,e,n);break;case 1:if(!Ze&&(Kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,En(t,e,n),Ze=r):En(t,e,n);break;default:En(t,e,n)}}function tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q_),e.forEach(function(r){var s=ix.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Dt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Dt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Fe===null)throw Error(F(160));yy(i,l,s),Fe=null,Dt=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(d){Se(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vy(e,t),e=e.sibling}function vy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Ht(t),r&4){try{si(3,t,t.return),ql(3,t)}catch(R){Se(t,t.return,R)}try{si(5,t,t.return)}catch(R){Se(t,t.return,R)}}break;case 1:Pt(e,t),Ht(t),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(Pt(e,t),Ht(t),r&512&&n!==null&&Kr(n,n.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(R){Se(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&zm(s,i),Nu(a,l);var d=Nu(a,i);for(l=0;l<u.length;l+=2){var p=u[l],g=u[l+1];p==="style"?Hm(s,g):p==="dangerouslySetInnerHTML"?Bm(s,g):p==="children"?pi(s,g):Lc(s,p,g,d)}switch(a){case"input":Tu(s,i);break;case"textarea":Fm(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var A=i.value;A!=null?Qr(s,!!i.multiple,A,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qr(s,!!i.multiple,i.defaultValue,!0):Qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[Si]=i}catch(R){Se(t,t.return,R)}}break;case 6:if(Pt(e,t),Ht(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){Se(t,t.return,R)}}break;case 3:if(Pt(e,t),Ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(R){Se(t,t.return,R)}break;case 4:Pt(e,t),Ht(t);break;case 13:Pt(e,t),Ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gh=ke())),r&4&&tp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(d=Ze)||p,Pt(e,t),Ze=d):Pt(e,t),Ht(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for($=t,p=t.child;p!==null;){for(g=$=p;$!==null;){switch(m=$,A=m.child,m.tag){case 0:case 11:case 14:case 15:si(4,m,m.return);break;case 1:Kr(m,m.return);var N=m.stateNode;if(typeof N.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(R){Se(r,n,R)}}break;case 5:Kr(m,m.return);break;case 22:if(m.memoizedState!==null){rp(g);continue}}A!==null?(A.return=m,$=A):rp(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,u=g.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=$m("display",l))}catch(R){Se(t,t.return,R)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(R){Se(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Pt(e,t),Ht(t),r&4&&tp(t);break;case 21:break;default:Pt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gy(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=ep(t);ic(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=ep(t);sc(t,a,l);break;default:throw Error(F(161))}}catch(u){Se(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y_(t,e,n){$=t,_y(t)}function _y(t,e,n){for(var r=(t.mode&1)!==0;$!==null;){var s=$,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Co;if(!l){var a=s.alternate,u=a!==null&&a.memoizedState!==null||Ze;a=Co;var d=Ze;if(Co=l,(Ze=u)&&!d)for($=s;$!==null;)l=$,u=l.child,l.tag===22&&l.memoizedState!==null?sp(s):u!==null?(u.return=l,$=u):sp(s);for(;i!==null;)$=i,_y(i),i=i.sibling;$=s,Co=a,Ze=d}np(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,$=i):np(t)}}function np(t){for(;$!==null;){var e=$;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&zf(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}zf(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&vi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ze||e.flags&512&&rc(e)}catch(m){Se(e,e.return,m)}}if(e===t){$=null;break}if(n=e.sibling,n!==null){n.return=e.return,$=n;break}$=e.return}}function rp(t){for(;$!==null;){var e=$;if(e===t){$=null;break}var n=e.sibling;if(n!==null){n.return=e.return,$=n;break}$=e.return}}function sp(t){for(;$!==null;){var e=$;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(u){Se(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Se(e,s,u)}}var i=e.return;try{rc(e)}catch(u){Se(e,i,u)}break;case 5:var l=e.return;try{rc(e)}catch(u){Se(e,l,u)}}}catch(u){Se(e,e.return,u)}if(e===t){$=null;break}var a=e.sibling;if(a!==null){a.return=e.return,$=a;break}$=e.return}}var J_=Math.ceil,vl=pn.ReactCurrentDispatcher,ph=pn.ReactCurrentOwner,Ct=pn.ReactCurrentBatchConfig,te=0,Oe=null,Ce=null,We=0,vt=0,Gr=qn(0),je=0,Ni=null,xr=0,Xl=0,mh=0,ii=null,ht=null,gh=0,us=1/0,tn=null,_l=!1,oc=null,Mn=null,Ao=!1,An=null,xl=0,oi=0,lc=null,Wo=-1,Ko=0;function it(){return te&6?ke():Wo!==-1?Wo:Wo=ke()}function Ln(t){return t.mode&1?te&2&&We!==0?We&-We:V_.transition!==null?(Ko===0&&(Ko=ng()),Ko):(t=ie,t!==0||(t=window.event,t=t===void 0?16:ug(t.type)),t):1}function Ft(t,e,n,r){if(50<oi)throw oi=0,lc=null,Error(F(185));Bi(t,n,r),(!(te&2)||t!==Oe)&&(t===Oe&&(!(te&2)&&(Xl|=n),je===4&&In(t,We)),mt(t,r),n===1&&te===0&&!(e.mode&1)&&(us=ke()+500,Kl&&Xn()))}function mt(t,e){var n=t.callbackNode;V1(t,e);var r=rl(t,t===Oe?We:0);if(r===0)n!==null&&ff(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ff(n),e===1)t.tag===0?b_(ip.bind(null,t)):Ag(ip.bind(null,t)),R_(function(){!(te&6)&&Xn()}),n=null;else{switch(rg(r)){case 1:n=Bc;break;case 4:n=eg;break;case 16:n=nl;break;case 536870912:n=tg;break;default:n=nl}n=Cy(n,xy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xy(t,e){if(Wo=-1,Ko=0,te&6)throw Error(F(327));var n=t.callbackNode;if(Zr()&&t.callbackNode!==n)return null;var r=rl(t,t===Oe?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var s=te;te|=2;var i=Ey();(Oe!==t||We!==e)&&(tn=null,us=ke()+500,dr(t,e));do try{tx();break}catch(a){wy(t,a)}while(!0);th(),vl.current=i,te=s,Ce!==null?e=0:(Oe=null,We=0,e=je)}if(e!==0){if(e===2&&(s=bu(t),s!==0&&(r=s,e=ac(t,s))),e===1)throw n=Ni,dr(t,0),In(t,r),mt(t,ke()),n;if(e===6)In(t,r);else{if(s=t.current.alternate,!(r&30)&&!Z_(s)&&(e=wl(t,r),e===2&&(i=bu(t),i!==0&&(r=i,e=ac(t,i))),e===1))throw n=Ni,dr(t,0),In(t,r),mt(t,ke()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:or(t,ht,tn);break;case 3:if(In(t,r),(r&130023424)===r&&(e=gh+500-ke(),10<e)){if(rl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bu(or.bind(null,t,ht,tn),e);break}or(t,ht,tn);break;case 4:if(In(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-zt(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=ke()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J_(r/1960))-r,10<r){t.timeoutHandle=Bu(or.bind(null,t,ht,tn),r);break}or(t,ht,tn);break;case 5:or(t,ht,tn);break;default:throw Error(F(329))}}}return mt(t,ke()),t.callbackNode===n?xy.bind(null,t):null}function ac(t,e){var n=ii;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=wl(t,e),t!==2&&(e=ht,ht=n,e!==null&&uc(e)),t}function uc(t){ht===null?ht=t:ht.push.apply(ht,t)}function Z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~mh,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-zt(e),r=1<<n;t[n]=-1,e&=~r}}function ip(t){if(te&6)throw Error(F(327));Zr();var e=rl(t,0);if(!(e&1))return mt(t,ke()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=bu(t);r!==0&&(e=r,n=ac(t,r))}if(n===1)throw n=Ni,dr(t,0),In(t,e),mt(t,ke()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,ht,tn),mt(t,ke()),null}function yh(t,e){var n=te;te|=1;try{return t(e)}finally{te=n,te===0&&(us=ke()+500,Kl&&Xn())}}function wr(t){An!==null&&An.tag===0&&!(te&6)&&Zr();var e=te;te|=1;var n=Ct.transition,r=ie;try{if(Ct.transition=null,ie=1,t)return t()}finally{ie=r,Ct.transition=n,te=e,!(te&6)&&Xn()}}function vh(){vt=Gr.current,he(Gr)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N_(n)),Ce!==null)for(n=Ce.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&al();break;case 3:ls(),he(ft),he(tt),lh();break;case 5:oh(r);break;case 4:ls();break;case 13:he(ve);break;case 19:he(ve);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Oe=t,Ce=t=On(t.current,null),We=vt=e,je=0,Ni=null,mh=Xl=xr=0,ht=ii=null,ur!==null){for(e=0;e<ur.length;e++)if(n=ur[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}ur=null}return t}function wy(t,e){do{var n=Ce;try{if(th(),Bo.current=yl,gl){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gl=!1}if(_r=0,Me=Pe=xe=null,ri=!1,Ii=0,ph.current=null,n===null||n.return===null){je=1,Ni=e,Ce=null;break}e:{var i=t,l=n.return,a=n,u=e;if(e=We,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var A=Kf(l);if(A!==null){A.flags&=-257,Gf(A,l,a,i,e),A.mode&1&&Wf(i,d,e),e=A,u=d;var N=e.updateQueue;if(N===null){var R=new Set;R.add(u),e.updateQueue=R}else N.add(u);break e}else{if(!(e&1)){Wf(i,d,e),_h();break e}u=Error(F(426))}}else if(pe&&a.mode&1){var V=Kf(l);if(V!==null){!(V.flags&65536)&&(V.flags|=256),Gf(V,l,a,i,e),Zc(as(u,a));break e}}i=u=as(u,a),je!==4&&(je=2),ii===null?ii=[i]:ii.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var k=sy(i,u,e);Of(i,k);break e;case 1:a=u;var x=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Mn===null||!Mn.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=iy(i,a,e);Of(i,j);break e}}i=i.return}while(i!==null)}Ty(n)}catch(M){e=M,Ce===n&&n!==null&&(Ce=n=n.return);continue}break}while(!0)}function Ey(){var t=vl.current;return vl.current=yl,t===null?yl:t}function _h(){(je===0||je===3||je===2)&&(je=4),Oe===null||!(xr&268435455)&&!(Xl&268435455)||In(Oe,We)}function wl(t,e){var n=te;te|=2;var r=Ey();(Oe!==t||We!==e)&&(tn=null,dr(t,e));do try{ex();break}catch(s){wy(t,s)}while(!0);if(th(),te=n,vl.current=r,Ce!==null)throw Error(F(261));return Oe=null,We=0,je}function ex(){for(;Ce!==null;)Sy(Ce)}function tx(){for(;Ce!==null&&!I1();)Sy(Ce)}function Sy(t){var e=Iy(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Ty(t):Ce=e,ph.current=null}function Ty(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q_(n,e),n!==null){n.flags&=32767,Ce=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,Ce=null;return}}else if(n=G_(n,e,vt),n!==null){Ce=n;return}if(e=e.sibling,e!==null){Ce=e;return}Ce=e=t}while(e!==null);je===0&&(je=5)}function or(t,e,n){var r=ie,s=Ct.transition;try{Ct.transition=null,ie=1,nx(t,e,n,r)}finally{Ct.transition=s,ie=r}return null}function nx(t,e,n,r){do Zr();while(An!==null);if(te&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(M1(t,i),t===Oe&&(Ce=Oe=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ao||(Ao=!0,Cy(nl,function(){return Zr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var l=ie;ie=1;var a=te;te|=4,ph.current=null,X_(t,n),vy(n,t),E_(Fu),sl=!!zu,Fu=zu=null,t.current=n,Y_(n),C1(),te=a,ie=l,Ct.transition=i}else t.current=n;if(Ao&&(Ao=!1,An=t,xl=s),i=t.pendingLanes,i===0&&(Mn=null),R1(n.stateNode),mt(t,ke()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_l)throw _l=!1,t=oc,oc=null,t;return xl&1&&t.tag!==0&&Zr(),i=t.pendingLanes,i&1?t===lc?oi++:(oi=0,lc=t):oi=0,Xn(),null}function Zr(){if(An!==null){var t=rg(xl),e=Ct.transition,n=ie;try{if(Ct.transition=null,ie=16>t?16:t,An===null)var r=!1;else{if(t=An,An=null,xl=0,te&6)throw Error(F(331));var s=te;for(te|=4,$=t.current;$!==null;){var i=$,l=i.child;if($.flags&16){var a=i.deletions;if(a!==null){for(var u=0;u<a.length;u++){var d=a[u];for($=d;$!==null;){var p=$;switch(p.tag){case 0:case 11:case 15:si(8,p,i)}var g=p.child;if(g!==null)g.return=p,$=g;else for(;$!==null;){p=$;var m=p.sibling,A=p.return;if(my(p),p===d){$=null;break}if(m!==null){m.return=A,$=m;break}$=A}}}var N=i.alternate;if(N!==null){var R=N.child;if(R!==null){N.child=null;do{var V=R.sibling;R.sibling=null,R=V}while(R!==null)}}$=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,$=l;else e:for(;$!==null;){if(i=$,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var k=i.sibling;if(k!==null){k.return=i.return,$=k;break e}$=i.return}}var x=t.current;for($=x;$!==null;){l=$;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,$=I;else e:for(l=x;$!==null;){if(a=$,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(M){Se(a,a.return,M)}if(a===l){$=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,$=j;break e}$=a.return}}if(te=s,Xn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ul,t)}catch{}r=!0}return r}finally{ie=n,Ct.transition=e}}return!1}function op(t,e,n){e=as(n,e),e=sy(t,e,1),t=Vn(t,e,1),e=it(),t!==null&&(Bi(t,1,e),mt(t,e))}function Se(t,e,n){if(t.tag===3)op(t,t,n);else for(;e!==null;){if(e.tag===3){op(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=as(n,t),t=iy(e,t,1),e=Vn(e,t,1),t=it(),e!==null&&(Bi(e,1,t),mt(e,t));break}}e=e.return}}function rx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Oe===t&&(We&n)===n&&(je===4||je===3&&(We&130023424)===We&&500>ke()-gh?dr(t,0):mh|=n),mt(t,e)}function ky(t,e){e===0&&(t.mode&1?(e=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):e=1);var n=it();t=hn(t,e),t!==null&&(Bi(t,e,n),mt(t,n))}function sx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ky(t,n)}function ix(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),ky(t,n)}var Iy;Iy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,K_(t,e,n);dt=!!(t.flags&131072)}else dt=!1,pe&&e.flags&1048576&&Ng(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ho(t,e),t=e.pendingProps;var s=ss(e,tt.current);Jr(e,n),s=uh(null,e,r,t,s,n);var i=ch();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(i=!0,ul(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sh(e),s.updater=Gl,e.stateNode=s,s._reactInternals=e,qu(e,r,t,n),e=Ju(null,e,r,!0,i,n)):(e.tag=0,pe&&i&&Yc(e),st(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lx(r),t=jt(r,t),s){case 0:e=Yu(null,e,r,t,n);break e;case 1:e=Xf(null,e,r,t,n);break e;case 11:e=Qf(null,e,r,t,n);break e;case 14:e=qf(null,e,r,jt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Yu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Xf(t,e,r,s,n);case 3:e:{if(uy(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dg(t,e),pl(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=as(Error(F(423)),e),e=Yf(t,e,r,n,s);break e}else if(r!==s){s=as(Error(F(424)),e),e=Yf(t,e,r,n,s);break e}else for(_t=bn(e.stateNode.containerInfo.firstChild),xt=e,pe=!0,bt=null,n=Lg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){e=dn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return Og(e),t===null&&Ku(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Uu(r,s)?l=null:i!==null&&Uu(r,i)&&(e.flags|=32),ay(t,e),st(t,e,l,n),e.child;case 6:return t===null&&Ku(e),null;case 13:return cy(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Qf(t,e,r,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,le(dl,r._currentValue),r._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===s.children&&!ft.current){e=dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var u=a.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=on(-1,n&-n),u.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?u.next=u:(u.next=p.next,p.next=u),d.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),Gu(i.return,n,e),a.lanes|=n;break}u=u.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(F(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Gu(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jr(e,n),s=At(s),r=r(s),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,s=jt(r,e.pendingProps),s=jt(r.type,s),qf(t,e,r,s,n);case 15:return oy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Ho(t,e),e.tag=1,pt(r)?(t=!0,ul(e)):t=!1,Jr(e,n),Vg(e,r,s),qu(e,r,s,n),Ju(null,e,r,!0,t,n);case 19:return hy(t,e,n);case 22:return ly(t,e,n)}throw Error(F(156,e.tag))};function Cy(t,e){return Zm(t,e)}function ox(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new ox(t,e,n,r)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lx(t){if(typeof t=="function")return xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===zc)return 11;if(t===Fc)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Go(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")xh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Lr:return fr(n.children,s,i,e);case Oc:l=8,s|=8;break;case _u:return t=It(12,n,e,s|2),t.elementType=_u,t.lanes=i,t;case xu:return t=It(13,n,e,s),t.elementType=xu,t.lanes=i,t;case wu:return t=It(19,n,e,s),t.elementType=wu,t.lanes=i,t;case Mm:return Yl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bm:l=10;break e;case Vm:l=9;break e;case zc:l=11;break e;case Fc:l=14;break e;case Sn:l=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=It(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Mm,t.lanes=n,t.stateNode={isHidden:!1},t}function ou(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function lu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ax(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wh(t,e,n,r,s,i,l,a,u){return t=new ax(t,e,n,a,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(i),t}function ux(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ay(t){if(!t)return $n;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(pt(n))return Cg(t,n,e)}return e}function Ny(t,e,n,r,s,i,l,a,u){return t=wh(n,r,!0,t,s,i,l,a,u),t.context=Ay(null),n=t.current,r=it(),s=Ln(n),i=on(r,s),i.callback=e??null,Vn(n,i,s),t.current.lanes=s,Bi(t,s,r),mt(t,r),t}function Jl(t,e,n,r){var s=e.current,i=it(),l=Ln(s);return n=Ay(n),e.context===null?e.context=n:e.pendingContext=n,e=on(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vn(s,e,l),t!==null&&(Ft(t,s,l,i),Uo(t,s,l)),l}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eh(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function cx(){return null}var Ry=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sh(t){this._internalRoot=t}Zl.prototype.render=Sh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Jl(t,e,null,null)};Zl.prototype.unmount=Sh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wr(function(){Jl(null,t,null,null)}),e[cn]=null}};function Zl(t){this._internalRoot=t}Zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=og();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&ag(t)}};function Th(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function hx(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=El(l);i.call(d)}}var l=Ny(e,r,t,0,null,!1,!1,"",ap);return t._reactRootContainer=l,t[cn]=l.current,wi(t.nodeType===8?t.parentNode:t),wr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=El(u);a.call(d)}}var u=wh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=u,t[cn]=u.current,wi(t.nodeType===8?t.parentNode:t),wr(function(){Jl(e,u,n,r)}),u}function ta(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var u=El(l);a.call(u)}}Jl(e,l,t,s)}else l=hx(n,e,t,s,r);return El(l)}sg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qs(e.pendingLanes);n!==0&&($c(e,n|1),mt(e,ke()),!(te&6)&&(us=ke()+500,Xn()))}break;case 13:wr(function(){var r=hn(t,1);if(r!==null){var s=it();Ft(r,t,1,s)}}),Eh(t,1)}};Hc=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=it();Ft(e,t,134217728,n)}Eh(t,134217728)}};ig=function(t){if(t.tag===13){var e=Ln(t),n=hn(t,e);if(n!==null){var r=it();Ft(n,t,e,r)}Eh(t,e)}};og=function(){return ie};lg=function(t,e){var n=ie;try{return ie=t,e()}finally{ie=n}};Pu=function(t,e,n){switch(e){case"input":if(Tu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wl(r);if(!s)throw Error(F(90));Om(r),Tu(r,s)}}}break;case"textarea":Fm(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};Gm=yh;Qm=wr;var dx={usingClientEntryPoint:!1,Events:[Hi,Ur,Wl,Wm,Km,yh]},Ws={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fx={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ym(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var No=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!No.isDisabled&&No.supportsFiber)try{Ul=No.inject(fx),Qt=No}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Th(e))throw Error(F(200));return ux(t,e,null,n)};Et.createRoot=function(t,e){if(!Th(t))throw Error(F(299));var n=!1,r="",s=Ry;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wh(t,1,!1,null,null,n,!1,r,s),t[cn]=e.current,wi(t.nodeType===8?t.parentNode:t),new Sh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Ym(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return wr(t)};Et.hydrate=function(t,e,n){if(!ea(e))throw Error(F(200));return ta(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Th(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Ry;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Ny(e,null,t,1,n??null,s,!1,i,l),t[cn]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zl(e)};Et.render=function(t,e,n){if(!ea(e))throw Error(F(200));return ta(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!ea(t))throw Error(F(40));return t._reactRootContainer?(wr(function(){ta(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};Et.unstable_batchedUpdates=yh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ea(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return ta(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";function Py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Py)}catch(t){console.error(t)}}Py(),Nm.exports=Et;var px=Nm.exports,jy,up=px;jy=up.createRoot,up.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ri.apply(this,arguments)}var Nn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nn||(Nn={}));const cp="popstate";function mx(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:a}=r.location;return cc("",{pathname:i,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dy(s)}return yx(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function kh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gx(){return Math.random().toString(36).substr(2,8)}function hp(t,e){return{usr:t.state,key:t.key,idx:e}}function cc(t,e,n,r){return n===void 0&&(n=null),Ri({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||gx()})}function Dy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,a=Nn.Pop,u=null,d=p();d==null&&(d=0,l.replaceState(Ri({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function g(){a=Nn.Pop;let V=p(),k=V==null?null:V-d;d=V,u&&u({action:a,location:R.location,delta:k})}function m(V,k){a=Nn.Push;let x=cc(R.location,V,k);d=p()+1;let I=hp(x,d),j=R.createHref(x);try{l.pushState(I,"",j)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;s.location.assign(j)}i&&u&&u({action:a,location:R.location,delta:1})}function A(V,k){a=Nn.Replace;let x=cc(R.location,V,k);d=p();let I=hp(x,d),j=R.createHref(x);l.replaceState(I,"",j),i&&u&&u({action:a,location:R.location,delta:0})}function N(V){let k=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof V=="string"?V:Dy(V);return Ne(k,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,k)}let R={get action(){return a},get location(){return t(s,l)},listen(V){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(cp,g),u=V,()=>{s.removeEventListener(cp,g),u=null}},createHref(V){return e(s,V)},createURL:N,encodeLocation(V){let k=N(V);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:m,replace:A,go(V){return l.go(V)}};return R}var dp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dp||(dp={}));function vx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,s=My(r.pathname||"/",n);if(s==null)return null;let i=by(t);_x(i);let l=null;for(let a=0;l==null&&a<i.length;++a)l=Ax(i[a],Px(s));return l}function by(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,a)=>{let u={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let d=pr([r,u.relativePath]),p=n.concat(u);i.children&&i.children.length>0&&(Ne(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),by(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Ix(d,i.index),routesMeta:p})};return t.forEach((i,l)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,l);else for(let u of Vy(i.path))s(i,l,u)}),e}function Vy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=Vy(r.join("/")),a=[];return a.push(...l.map(u=>u===""?i:[i,u].join("/"))),s&&a.push(...l),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function _x(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xx=/^:\w+$/,wx=3,Ex=2,Sx=1,Tx=10,kx=-2,fp=t=>t==="*";function Ix(t,e){let n=t.split("/"),r=n.length;return n.some(fp)&&(r+=kx),e&&(r+=Ex),n.filter(s=>!fp(s)).reduce((s,i)=>s+(xx.test(i)?wx:i===""?Sx:Tx),r)}function Cx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Ax(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let l=0;l<n.length;++l){let a=n[l],u=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Nx({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},d);if(!p)return null;Object.assign(r,p.params);let g=a.route;i.push({params:r,pathname:pr([s,p.pathname]),pathnameBase:Vx(pr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=pr([s,p.pathnameBase]))}return i}function Nx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{if(p==="*"){let m=a[g]||"";l=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return d[p]=jx(a[g]||"",p),d},{}),pathname:i,pathnameBase:l,pattern:t}}function Rx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),kh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Px(t){try{return decodeURI(t)}catch(e){return kh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jx(t,e){try{return decodeURIComponent(t)}catch(n){return kh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function My(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:bx(n,e):e,search:Mx(r),hash:Lx(s)}}function bx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function au(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ly(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Oy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vs(t):(s=Ri({},t),Ne(!s.pathname||!s.pathname.includes("?"),au("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),au("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),au("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,a;if(r||l==null)a=n;else{let g=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?e[g]:"/"}let u=Dx(s,a),d=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(d||p)&&(u.pathname+="/"),u}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),Vx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Ox(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zy=["post","put","patch","delete"];new Set(zy);const zx=["get",...zy];new Set(zx);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sl(){return Sl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sl.apply(this,arguments)}const Ih=b.createContext(null),Fx=b.createContext(null),na=b.createContext(null),ra=b.createContext(null),Yn=b.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=b.createContext(null);function Ki(){return b.useContext(ra)!=null}function sa(){return Ki()||Ne(!1),b.useContext(ra).location}function Uy(t){b.useContext(na).static||b.useLayoutEffect(t)}function ze(){let{isDataRoute:t}=b.useContext(Yn);return t?Zx():Ux()}function Ux(){Ki()||Ne(!1);let t=b.useContext(Ih),{basename:e,navigator:n}=b.useContext(na),{matches:r}=b.useContext(Yn),{pathname:s}=sa(),i=JSON.stringify(Ly(r).map(u=>u.pathnameBase)),l=b.useRef(!1);return Uy(()=>{l.current=!0}),b.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let p=Oy(u,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,i,s,t])}function By(){let{matches:t}=b.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function Bx(t,e){return $x(t,e)}function $x(t,e,n){Ki()||Ne(!1);let{navigator:r}=b.useContext(na),{matches:s}=b.useContext(Yn),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let u=sa(),d;if(e){var p;let R=typeof e=="string"?vs(e):e;a==="/"||(p=R.pathname)!=null&&p.startsWith(a)||Ne(!1),d=R}else d=u;let g=d.pathname||"/",m=a==="/"?g:g.slice(a.length)||"/",A=vx(t,{pathname:m}),N=Qx(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:pr([a,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?a:pr([a,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n);return e&&N?b.createElement(ra.Provider,{value:{location:Sl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Nn.Pop}},N):N}function Hx(){let t=Jx(),e=Ox(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),n?b.createElement("pre",{style:s},n):null,null)}const Wx=b.createElement(Hx,null);class Kx extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?b.createElement(Yn.Provider,{value:this.props.routeContext},b.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gx(t){let{routeContext:e,match:n,children:r}=t,s=b.useContext(Ih);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),b.createElement(Yn.Provider,{value:e},r)}function Qx(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let a=i.findIndex(u=>u.route.id&&(l==null?void 0:l[u.route.id]));a>=0||Ne(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,u,d)=>{let p=u.route.id?l==null?void 0:l[u.route.id]:null,g=null;n&&(g=u.route.errorElement||Wx);let m=e.concat(i.slice(0,d+1)),A=()=>{let N;return p?N=g:u.route.Component?N=b.createElement(u.route.Component,null):u.route.element?N=u.route.element:N=a,b.createElement(Gx,{match:u,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:N})};return n&&(u.route.ErrorBoundary||u.route.errorElement||d===0)?b.createElement(Kx,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:A(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):A()},null)}var hc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(hc||(hc={}));var Pi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Pi||(Pi={}));function qx(t){let e=b.useContext(Ih);return e||Ne(!1),e}function Xx(t){let e=b.useContext(Fx);return e||Ne(!1),e}function Yx(t){let e=b.useContext(Yn);return e||Ne(!1),e}function $y(t){let e=Yx(),n=e.matches[e.matches.length-1];return n.route.id||Ne(!1),n.route.id}function Jx(){var t;let e=b.useContext(Fy),n=Xx(Pi.UseRouteError),r=$y(Pi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Zx(){let{router:t}=qx(hc.UseNavigateStable),e=$y(Pi.UseNavigateStable),n=b.useRef(!1);return Uy(()=>{n.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Sl({fromRouteId:e},i)))},[t,e])}function ew(t){let{to:e,replace:n,state:r,relative:s}=t;Ki()||Ne(!1);let{matches:i}=b.useContext(Yn),{pathname:l}=sa(),a=ze(),u=Oy(e,Ly(i).map(p=>p.pathnameBase),l,s==="path"),d=JSON.stringify(u);return b.useEffect(()=>a(JSON.parse(d),{replace:n,state:r,relative:s}),[a,d,s,n,r]),null}function se(t){Ne(!1)}function tw(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Nn.Pop,navigator:i,static:l=!1}=t;Ki()&&Ne(!1);let a=e.replace(/^\/*/,"/"),u=b.useMemo(()=>({basename:a,navigator:i,static:l}),[a,i,l]);typeof r=="string"&&(r=vs(r));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:A="default"}=r,N=b.useMemo(()=>{let R=My(d,a);return R==null?null:{location:{pathname:R,search:p,hash:g,state:m,key:A},navigationType:s}},[a,d,p,g,m,A,s]);return N==null?null:b.createElement(na.Provider,{value:u},b.createElement(ra.Provider,{children:n,value:N}))}function nw(t){let{children:e,location:n}=t;return Bx(dc(e),n)}var pp;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(pp||(pp={}));new Promise(()=>{});function dc(t,e){e===void 0&&(e=[]);let n=[];return b.Children.forEach(t,(r,s)=>{if(!b.isValidElement(r))return;let i=[...e,s];if(r.type===b.Fragment){n.push.apply(n,dc(r.props.children,i));return}r.type!==se&&Ne(!1),!r.props.index||!r.props.children||Ne(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dc(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rw="startTransition",mp=s1[rw];function sw(t){let{basename:e,children:n,future:r,window:s}=t,i=b.useRef();i.current==null&&(i.current=mx({window:s,v5Compat:!0}));let l=i.current,[a,u]=b.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=b.useCallback(g=>{d&&mp?mp(()=>u(g)):u(g)},[u,d]);return b.useLayoutEffect(()=>l.listen(p),[l,p]),b.createElement(tw,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:l})}var gp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(gp||(gp={}));var yp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yp||(yp={}));const iw={bg:"#ffffff",surface:"#f8fafc",muted:"#f1f5f9",text:"#0f172a",accent:"#2563eb","accent-2":"#8b5cf6"},ow={xl:"1.5rem"},lw={lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},be={colors:iw,radii:ow,shadows:lw},aw=b.useState;function uw(){const t=ze(),[e,n]=aw(!1),r=()=>{e&&t("/DemographicForm/Demographics")},s=be.colors,i=be.shadows,l=be.radii;return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${s.bg} 0%, ${s.surface} 100%)`},children:h.jsxs("div",{className:"max-w-5xl w-full",style:{backgroundColor:s.bg,borderRadius:l.xl,boxShadow:i.lg,overflow:"hidden"},children:[h.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-16 text-center",style:{background:`linear-gradient(135deg, ${s.accent} 0%, ${s["accent-2"]} 100%)`,color:"#ffffff"},children:[h.jsx("div",{className:"inline-block px-4 py-2 mb-4 rounded-full text-xs uppercase tracking-widest font-semibold",style:{backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"},children:"Kutatsban val rszvtel"}),h.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 leading-tight",style:{color:"#ffffff"},children:["Orvosi kpek rtkelse",h.jsx("br",{}),"mestersges intelligencia tmogatssal"]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-sm opacity-90",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),h.jsxs("span",{children:[h.jsx("strong",{children:"Kutat:"})," Baltay Mrton, MSc hallgat"]})]}),h.jsx("div",{className:"hidden sm:block opacity-50",children:"|"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),h.jsxs("span",{children:[h.jsx("strong",{children:"Egyetem:"})," Pzmny Pter Katolikus Egyetem"]})]})]})]}),h.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mi a feladat?"}),h.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Radiolgiai kpeken artritisz jelenltnek felismerse  eldnti, van-e artritisz, s megjelli a gyans terletet."})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s["accent-2"],color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mennyi id?"}),h.jsx("p",{className:"mb-4",style:{color:s.text,opacity:.8},children:h.jsx("strong",{children:"90-120 perc sszesen:"})}),h.jsxs("ul",{className:"space-y-2",style:{color:s.text},children:[h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Bevezet elads (20-30 perc)"})]}),h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"5 gyakorl kp"})]}),h.jsxs("li",{className:"flex items-center gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Tbb rtkelsi szakasz (~30 kp/szakasz)"})]})]})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 text-3xl",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",style:{color:"#92400e"},children:"Fontos felttelek"}),h.jsx("p",{className:"mb-3 font-semibold",style:{color:"#78350f"},children:"A tesztet egyetlen lsben, megszakts nlkl kell elvgezni!"}),h.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("span",{children:"Napkzben vgezze, amikor pihent"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("span",{children:"Biztostson zavartalan krnyezetet"})]}),h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("span",{className:"font-bold",children:""}),h.jsx("span",{children:"Nem lehet sznetet tartani vagy kilpni"})]})]})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Adatkezels"}),h.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Adatai anonimizlva, kizrlag kutatsi clra kerlnek felhasznlsra."})]})]})}),h.jsxs("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`2px solid ${s.muted}`},children:[h.jsx("p",{className:"mb-4 font-semibold",style:{color:s.text},children:"A tovbblpssel kijelentem, hogy:"}),h.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[h.jsx("input",{type:"checkbox",checked:e,onChange:a=>n(a.target.checked),className:"mt-1 w-5 h-5 cursor-pointer",style:{accentColor:s.accent}}),h.jsx("span",{className:"flex-1 leading-relaxed group-hover:opacity-80 transition-opacity",style:{color:s.text},children:"Elolvastam a tjkoztatt s megrtettem a kutats cljt, menett s feltteleit. nknt vllalom a rszvtelt."})]})]}),h.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 pt-8 border-t-2",style:{borderTopColor:s.muted},children:[h.jsxs("div",{className:"text-center sm:text-left",children:[h.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:s.text},children:"Krdse van?"}),h.jsxs("div",{className:"space-y-1",children:[h.jsx("a",{href:"mailto:baltay.marton@gmail.com",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"baltay.marton@gmail.com"}),h.jsx("a",{href:"tel:+36203971061",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"+36 20 397 1061"})]})]}),h.jsx("button",{onClick:r,disabled:!e,className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed shadow-lg disabled:shadow-none",style:{backgroundColor:e?s.accent:s.muted,color:e?"#ffffff":s.text,opacity:e?1:.5},children:"Kezds "})]})]})]})})}function cw(){const t=Math.random()<.5,e=t?"1":"0",n="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<9;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return{userID:e+r,treatmentGroup:t?"treatment":"control",randomizationSeed:Math.floor(Math.random()*1e6)}}const hw=()=>{};var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,a=l?t[s+1]:0,u=s+2<t.length,d=u?t[s+2]:0,p=i>>2,g=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,A=d&63;u||(A=64,l||(m=64)),r.push(n[p],n[g],n[m],n[A])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||g==null)throw new fw;const m=i<<2|a>>4;if(r.push(m),d!==64){const A=a<<4&240|d>>2;if(r.push(A),g!==64){const N=d<<6&192|g;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pw=function(t){const e=Hy(t);return Wy.encodeByteArray(e,!0)},Tl=function(t){return pw(t).replace(/\./g,"")},mw=function(t){try{return Wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=()=>gw().__FIREBASE_DEFAULTS__,vw=()=>{if(typeof process>"u"||typeof vp>"u")return;const t=vp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_w=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mw(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return hw()||yw()||vw()||_w()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xw=t=>{var e,n;return(n=(e=Ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ww=t=>{const e=xw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ky=()=>{var t;return(t=Ch())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Tl(JSON.stringify(n)),Tl(JSON.stringify(l)),""].join(".")}const li={};function kw(){const t={prod:[],emulator:[]};for(const e of Object.keys(li))li[e]?t.emulator.push(e):t.prod.push(e);return t}function Iw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _p=!1;function Cw(t,e){if(typeof window>"u"||typeof document>"u"||!Ah(window.location.host)||li[t]===e||li[t]||_p)return;li[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=kw().prod.length>0;function l(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function u(m,A){m.setAttribute("width","24"),m.setAttribute("id",A),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_p=!0,l()},m}function p(m,A){m.setAttribute("id",A),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Iw(r),A=n("text"),N=document.getElementById(A)||document.createElement("span"),R=n("learnmore"),V=document.getElementById(R)||document.createElement("a"),k=n("preprendIcon"),x=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),p(V,R);const j=d();u(x,k),I.append(x,N,V,j),document.body.appendChild(I)}i?(N.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",A)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Nw(){var e;const t=(e=Ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rw(){return!Nw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dw,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gy.prototype.create)}}class Gy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?bw(i,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new _s(s,a,r)}}function bw(t,e){return t.replace(Vw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Vw=/\{\$([^}]+)}/g;function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(xp(i)&&xp(l)){if(!kl(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ew;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ow(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lw(t){return t===lr?void 0:t}function Ow(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ee;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ee||(ee={}));const Fw={debug:ee.DEBUG,verbose:ee.VERBOSE,info:ee.INFO,warn:ee.WARN,error:ee.ERROR,silent:ee.SILENT},Uw=ee.INFO,Bw={[ee.DEBUG]:"log",[ee.VERBOSE]:"log",[ee.INFO]:"info",[ee.WARN]:"warn",[ee.ERROR]:"error"},$w=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Bw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=Uw,this._logHandler=$w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ee))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ee.DEBUG,...e),this._logHandler(this,ee.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ee.VERBOSE,...e),this._logHandler(this,ee.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ee.INFO,...e),this._logHandler(this,ee.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ee.WARN,...e),this._logHandler(this,ee.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ee.ERROR,...e),this._logHandler(this,ee.ERROR,...e)}}const Hw=(t,e)=>e.some(n=>t instanceof n);let wp,Ep;function Ww(){return wp||(wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kw(){return Ep||(Ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,fc=new WeakMap,Xy=new WeakMap,uu=new WeakMap,Nh=new WeakMap;function Gw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(zn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qy.set(n,t)}).catch(()=>{}),Nh.set(e,t),e}function Qw(t){if(fc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});fc.set(t,e)}let pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qw(t){pc=t(pc)}function Xw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cu(this),e,...n);return Xy.set(r,e.sort?e.sort():[e]),zn(r)}:Kw().includes(t)?function(...e){return t.apply(cu(this),e),zn(qy.get(this))}:function(...e){return zn(t.apply(cu(this),e))}}function Yw(t){return typeof t=="function"?Xw(t):(t instanceof IDBTransaction&&Qw(t),Hw(t,Ww())?new Proxy(t,pc):t)}function zn(t){if(t instanceof IDBRequest)return Gw(t);if(uu.has(t))return uu.get(t);const e=Yw(t);return e!==t&&(uu.set(t,e),Nh.set(e,t)),e}const cu=t=>Nh.get(t);function Jw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),a=zn(l);return r&&l.addEventListener("upgradeneeded",u=>{r(zn(l.result),u.oldVersion,u.newVersion,zn(l.transaction),u)}),n&&l.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const Zw=["get","getKey","getAll","getAllKeys","count"],eE=["put","add","delete","clear"],hu=new Map;function Sp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hu.get(e))return hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Zw.includes(n)))return;const i=async function(l,...a){const u=this.transaction(l,s?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&u.done]))[0]};return hu.set(e,i),i}qw(t=>({...t,get:(e,n,r)=>Sp(e,n)||t.get(e,n,r),has:(e,n)=>!!Sp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Tp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Qy("@firebase/app"),rE="@firebase/app-compat",sE="@firebase/analytics-compat",iE="@firebase/analytics",oE="@firebase/app-check-compat",lE="@firebase/app-check",aE="@firebase/auth",uE="@firebase/auth-compat",cE="@firebase/database",hE="@firebase/data-connect",dE="@firebase/database-compat",fE="@firebase/functions",pE="@firebase/functions-compat",mE="@firebase/installations",gE="@firebase/installations-compat",yE="@firebase/messaging",vE="@firebase/messaging-compat",_E="@firebase/performance",xE="@firebase/performance-compat",wE="@firebase/remote-config",EE="@firebase/remote-config-compat",SE="@firebase/storage",TE="@firebase/storage-compat",kE="@firebase/firestore",IE="@firebase/ai",CE="@firebase/firestore-compat",AE="firebase",NE="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",RE={[mc]:"fire-core",[rE]:"fire-core-compat",[iE]:"fire-analytics",[sE]:"fire-analytics-compat",[lE]:"fire-app-check",[oE]:"fire-app-check-compat",[aE]:"fire-auth",[uE]:"fire-auth-compat",[cE]:"fire-rtdb",[hE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[fE]:"fire-fn",[pE]:"fire-fn-compat",[mE]:"fire-iid",[gE]:"fire-iid-compat",[yE]:"fire-fcm",[vE]:"fire-fcm-compat",[_E]:"fire-perf",[xE]:"fire-perf-compat",[wE]:"fire-rc",[EE]:"fire-rc-compat",[SE]:"fire-gcs",[TE]:"fire-gcs-compat",[kE]:"fire-fst",[CE]:"fire-fst-compat",[IE]:"fire-vertex","fire-js":"fire-js",[AE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,PE=new Map,yc=new Map;function kp(t,e){try{t.container.addComponent(e)}catch(n){fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cl(t){const e=t.name;if(yc.has(e))return fn.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,t);for(const n of Il.values())kp(n,t);for(const n of PE.values())kp(n,t);return!0}function jE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function DE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new Gy("app","Firebase",bE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=NE;function Yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gc,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Fn.create("bad-app-name",{appName:String(s)});if(n||(n=Ky()),!n)throw Fn.create("no-options");const i=Il.get(s);if(i){if(kl(n,i.options)&&kl(r,i.config))return i;throw Fn.create("duplicate-app",{appName:s})}const l=new zw(s);for(const u of yc.values())l.addComponent(u);const a=new VE(n,r,l);return Il.set(s,a),a}function LE(t=gc){const e=Il.get(t);if(!e&&t===gc&&Ky())return Yy();if(!e)throw Fn.create("no-app",{appName:t});return e}function es(t,e,n){let r=RE[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fn.warn(l.join(" "));return}Cl(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OE="firebase-heartbeat-database",zE=1,bi="firebase-heartbeat-store";let du=null;function Jy(){return du||(du=Jw(OE,zE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fn.create("idb-open",{originalErrorMessage:t.message})})),du}async function FE(t){try{const n=(await Jy()).transaction(bi),r=await n.objectStore(bi).get(Zy(t));return await n.done,r}catch(e){if(e instanceof _s)fn.warn(e.message);else{const n=Fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fn.warn(n.message)}}}async function Ip(t,e){try{const r=(await Jy()).transaction(bi,"readwrite");await r.objectStore(bi).put(e,Zy(t)),await r.done}catch(n){if(n instanceof _s)fn.warn(n.message);else{const r=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fn.warn(r.message)}}}function Zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=1024,BE=30;class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>BE){const l=KE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cp(),{heartbeatsToSend:r,unsentEntries:s}=HE(this._heartbeatsCache.heartbeats),i=Tl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fn.warn(n),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function HE(t,e=UE){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Ap(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Ap(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Ap(t){return Tl(JSON.stringify({version:2,heartbeats:t})).length}function KE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){Cl(new Di("platform-logger",e=>new tE(e),"PRIVATE")),Cl(new Di("heartbeat",e=>new $E(e),"PRIVATE")),es(mc,Tp,t),es(mc,Tp,"esm2020"),es("fire-js","")}GE("");var QE="firebase",qE="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(QE,qE,"app");var Np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function S(){}S.prototype=v.prototype,E.F=v.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(_,w,C){for(var T=Array(arguments.length-2),J=2;J<arguments.length;J++)T[J-2]=arguments[J];return v.prototype[w].apply(_,T)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,v,S){S||(S=0);const _=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)_[w]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(w=0;w<16;++w)_[w]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=E.g[0],S=E.g[1],w=E.g[2];let C=E.g[3],T;T=v+(C^S&(w^C))+_[0]+3614090360&4294967295,v=S+(T<<7&4294967295|T>>>25),T=C+(w^v&(S^w))+_[1]+3905402710&4294967295,C=v+(T<<12&4294967295|T>>>20),T=w+(S^C&(v^S))+_[2]+606105819&4294967295,w=C+(T<<17&4294967295|T>>>15),T=S+(v^w&(C^v))+_[3]+3250441966&4294967295,S=w+(T<<22&4294967295|T>>>10),T=v+(C^S&(w^C))+_[4]+4118548399&4294967295,v=S+(T<<7&4294967295|T>>>25),T=C+(w^v&(S^w))+_[5]+1200080426&4294967295,C=v+(T<<12&4294967295|T>>>20),T=w+(S^C&(v^S))+_[6]+2821735955&4294967295,w=C+(T<<17&4294967295|T>>>15),T=S+(v^w&(C^v))+_[7]+4249261313&4294967295,S=w+(T<<22&4294967295|T>>>10),T=v+(C^S&(w^C))+_[8]+1770035416&4294967295,v=S+(T<<7&4294967295|T>>>25),T=C+(w^v&(S^w))+_[9]+2336552879&4294967295,C=v+(T<<12&4294967295|T>>>20),T=w+(S^C&(v^S))+_[10]+4294925233&4294967295,w=C+(T<<17&4294967295|T>>>15),T=S+(v^w&(C^v))+_[11]+2304563134&4294967295,S=w+(T<<22&4294967295|T>>>10),T=v+(C^S&(w^C))+_[12]+1804603682&4294967295,v=S+(T<<7&4294967295|T>>>25),T=C+(w^v&(S^w))+_[13]+4254626195&4294967295,C=v+(T<<12&4294967295|T>>>20),T=w+(S^C&(v^S))+_[14]+2792965006&4294967295,w=C+(T<<17&4294967295|T>>>15),T=S+(v^w&(C^v))+_[15]+1236535329&4294967295,S=w+(T<<22&4294967295|T>>>10),T=v+(w^C&(S^w))+_[1]+4129170786&4294967295,v=S+(T<<5&4294967295|T>>>27),T=C+(S^w&(v^S))+_[6]+3225465664&4294967295,C=v+(T<<9&4294967295|T>>>23),T=w+(v^S&(C^v))+_[11]+643717713&4294967295,w=C+(T<<14&4294967295|T>>>18),T=S+(C^v&(w^C))+_[0]+3921069994&4294967295,S=w+(T<<20&4294967295|T>>>12),T=v+(w^C&(S^w))+_[5]+3593408605&4294967295,v=S+(T<<5&4294967295|T>>>27),T=C+(S^w&(v^S))+_[10]+38016083&4294967295,C=v+(T<<9&4294967295|T>>>23),T=w+(v^S&(C^v))+_[15]+3634488961&4294967295,w=C+(T<<14&4294967295|T>>>18),T=S+(C^v&(w^C))+_[4]+3889429448&4294967295,S=w+(T<<20&4294967295|T>>>12),T=v+(w^C&(S^w))+_[9]+568446438&4294967295,v=S+(T<<5&4294967295|T>>>27),T=C+(S^w&(v^S))+_[14]+3275163606&4294967295,C=v+(T<<9&4294967295|T>>>23),T=w+(v^S&(C^v))+_[3]+4107603335&4294967295,w=C+(T<<14&4294967295|T>>>18),T=S+(C^v&(w^C))+_[8]+1163531501&4294967295,S=w+(T<<20&4294967295|T>>>12),T=v+(w^C&(S^w))+_[13]+2850285829&4294967295,v=S+(T<<5&4294967295|T>>>27),T=C+(S^w&(v^S))+_[2]+4243563512&4294967295,C=v+(T<<9&4294967295|T>>>23),T=w+(v^S&(C^v))+_[7]+1735328473&4294967295,w=C+(T<<14&4294967295|T>>>18),T=S+(C^v&(w^C))+_[12]+2368359562&4294967295,S=w+(T<<20&4294967295|T>>>12),T=v+(S^w^C)+_[5]+4294588738&4294967295,v=S+(T<<4&4294967295|T>>>28),T=C+(v^S^w)+_[8]+2272392833&4294967295,C=v+(T<<11&4294967295|T>>>21),T=w+(C^v^S)+_[11]+1839030562&4294967295,w=C+(T<<16&4294967295|T>>>16),T=S+(w^C^v)+_[14]+4259657740&4294967295,S=w+(T<<23&4294967295|T>>>9),T=v+(S^w^C)+_[1]+2763975236&4294967295,v=S+(T<<4&4294967295|T>>>28),T=C+(v^S^w)+_[4]+1272893353&4294967295,C=v+(T<<11&4294967295|T>>>21),T=w+(C^v^S)+_[7]+4139469664&4294967295,w=C+(T<<16&4294967295|T>>>16),T=S+(w^C^v)+_[10]+3200236656&4294967295,S=w+(T<<23&4294967295|T>>>9),T=v+(S^w^C)+_[13]+681279174&4294967295,v=S+(T<<4&4294967295|T>>>28),T=C+(v^S^w)+_[0]+3936430074&4294967295,C=v+(T<<11&4294967295|T>>>21),T=w+(C^v^S)+_[3]+3572445317&4294967295,w=C+(T<<16&4294967295|T>>>16),T=S+(w^C^v)+_[6]+76029189&4294967295,S=w+(T<<23&4294967295|T>>>9),T=v+(S^w^C)+_[9]+3654602809&4294967295,v=S+(T<<4&4294967295|T>>>28),T=C+(v^S^w)+_[12]+3873151461&4294967295,C=v+(T<<11&4294967295|T>>>21),T=w+(C^v^S)+_[15]+530742520&4294967295,w=C+(T<<16&4294967295|T>>>16),T=S+(w^C^v)+_[2]+3299628645&4294967295,S=w+(T<<23&4294967295|T>>>9),T=v+(w^(S|~C))+_[0]+4096336452&4294967295,v=S+(T<<6&4294967295|T>>>26),T=C+(S^(v|~w))+_[7]+1126891415&4294967295,C=v+(T<<10&4294967295|T>>>22),T=w+(v^(C|~S))+_[14]+2878612391&4294967295,w=C+(T<<15&4294967295|T>>>17),T=S+(C^(w|~v))+_[5]+4237533241&4294967295,S=w+(T<<21&4294967295|T>>>11),T=v+(w^(S|~C))+_[12]+1700485571&4294967295,v=S+(T<<6&4294967295|T>>>26),T=C+(S^(v|~w))+_[3]+2399980690&4294967295,C=v+(T<<10&4294967295|T>>>22),T=w+(v^(C|~S))+_[10]+4293915773&4294967295,w=C+(T<<15&4294967295|T>>>17),T=S+(C^(w|~v))+_[1]+2240044497&4294967295,S=w+(T<<21&4294967295|T>>>11),T=v+(w^(S|~C))+_[8]+1873313359&4294967295,v=S+(T<<6&4294967295|T>>>26),T=C+(S^(v|~w))+_[15]+4264355552&4294967295,C=v+(T<<10&4294967295|T>>>22),T=w+(v^(C|~S))+_[6]+2734768916&4294967295,w=C+(T<<15&4294967295|T>>>17),T=S+(C^(w|~v))+_[13]+1309151649&4294967295,S=w+(T<<21&4294967295|T>>>11),T=v+(w^(S|~C))+_[4]+4149444226&4294967295,v=S+(T<<6&4294967295|T>>>26),T=C+(S^(v|~w))+_[11]+3174756917&4294967295,C=v+(T<<10&4294967295|T>>>22),T=w+(v^(C|~S))+_[2]+718787259&4294967295,w=C+(T<<15&4294967295|T>>>17),T=S+(C^(w|~v))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(w+(T<<21&4294967295|T>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const S=v-this.blockSize,_=this.C;let w=this.h,C=0;for(;C<v;){if(w==0)for(;C<=S;)s(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(_[w++]=E.charCodeAt(C++),w==this.blockSize){s(this,_),w=0;break}}else for(;C<v;)if(_[w++]=E[C++],w==this.blockSize){s(this,_),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,S=0;S<4;++S)for(let _=0;_<32;_+=8)E[v++]=this.g[S]>>>_&255;return E};function i(E,v){var S=a;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=v(E)}function l(E,v){this.h=v;const S=[];let _=!0;for(let w=E.length-1;w>=0;w--){const C=E[w]|0;_&&C==v||(S[w]=C,_=!1)}this.g=S}var a={};function u(E){return-128<=E&&E<128?i(E,function(v){return new l([v|0],v<0?-1:0)}):new l([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return V(d(-E));const v=[];let S=1;for(let _=0;E>=S;_++)v[_]=E/S|0,S*=4294967296;return new l(v,0)}function p(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return V(p(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=d(Math.pow(v,8));let _=g;for(let C=0;C<E.length;C+=8){var w=Math.min(8,E.length-C);const T=parseInt(E.substring(C,C+w),v);w<8?(w=d(Math.pow(v,w)),_=_.j(w).add(d(T))):(_=_.j(S),_=_.add(d(T)))}return _}var g=u(0),m=u(1),A=u(16777216);t=l.prototype,t.m=function(){if(R(this))return-V(this).m();let E=0,v=1;for(let S=0;S<this.g.length;S++){const _=this.i(S);E+=(_>=0?_:4294967296+_)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(N(this))return"0";if(R(this))return"-"+V(this).toString(E);const v=d(Math.pow(E,6));var S=this;let _="";for(;;){const w=j(S,v).g;S=k(S,w.j(v));let C=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=w,N(S))return C+_;for(;C.length<6;)C="0"+C;_=C+_}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function N(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=k(this,E),R(E)?-1:N(E)?0:1};function V(E){const v=E.g.length,S=[];for(let _=0;_<v;_++)S[_]=~E.g[_];return new l(S,~E.h).add(m)}t.abs=function(){return R(this)?V(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),S=[];let _=0;for(let w=0;w<=v;w++){let C=_+(this.i(w)&65535)+(E.i(w)&65535),T=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);_=T>>>16,C&=65535,T&=65535,S[w]=T<<16|C}return new l(S,S[S.length-1]&-2147483648?-1:0)};function k(E,v){return E.add(V(v))}t.j=function(E){if(N(this)||N(E))return g;if(R(this))return R(E)?V(this).j(V(E)):V(V(this).j(E));if(R(E))return V(this.j(V(E)));if(this.l(A)<0&&E.l(A)<0)return d(this.m()*E.m());const v=this.g.length+E.g.length,S=[];for(var _=0;_<2*v;_++)S[_]=0;for(_=0;_<this.g.length;_++)for(let w=0;w<E.g.length;w++){const C=this.i(_)>>>16,T=this.i(_)&65535,J=E.i(w)>>>16,ge=E.i(w)&65535;S[2*_+2*w]+=T*ge,x(S,2*_+2*w),S[2*_+2*w+1]+=C*ge,x(S,2*_+2*w+1),S[2*_+2*w+1]+=T*J,x(S,2*_+2*w+1),S[2*_+2*w+2]+=C*J,x(S,2*_+2*w+2)}for(E=0;E<v;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=v;E<2*v;E++)S[E]=0;return new l(S,0)};function x(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function I(E,v){this.g=E,this.h=v}function j(E,v){if(N(v))throw Error("division by zero");if(N(E))return new I(g,g);if(R(E))return v=j(V(E),v),new I(V(v.g),V(v.h));if(R(v))return v=j(E,V(v)),new I(V(v.g),v.h);if(E.g.length>30){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var S=m,_=v;_.l(E)<=0;)S=M(S),_=M(_);var w=z(S,1),C=z(_,1);for(_=z(_,2),S=z(S,2);!N(_);){var T=C.add(_);T.l(E)<=0&&(w=w.add(S),C=T),_=z(_,1),S=z(S,1)}return v=k(E,w.j(v)),new I(w,v)}for(w=g;E.l(v)>=0;){for(S=Math.max(1,Math.floor(E.m()/v.m())),_=Math.ceil(Math.log(S)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),C=d(S),T=C.j(v);R(T)||T.l(E)>0;)S-=_,C=d(S),T=C.j(v);N(C)&&(C=m),w=w.add(C),E=k(E,T)}return new I(w,E)}t.B=function(E){return j(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)&E.i(_);return new l(S,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)|E.i(_);return new l(S,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)^E.i(_);return new l(S,this.h^E.h)};function M(E){const v=E.g.length+1,S=[];for(let _=0;_<v;_++)S[_]=E.i(_)<<1|E.i(_-1)>>>31;return new l(S,E.h)}function z(E,v){const S=v>>5;v%=32;const _=E.g.length-S,w=[];for(let C=0;C<_;C++)w[C]=v>0?E.i(C+S)>>>v|E.i(C+S+1)<<32-v:E.i(C+S);return new l(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,Rh=l}).apply(typeof Np<"u"?Np:typeof self<"u"?self:typeof window<"u"?window:{});var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,Ys,tv,Qo,vc,nv,rv,sv;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ro=="object"&&Ro];for(var c=0;c<o.length;++c){var f=o[c];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,c){if(c)e:{var f=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var P=o[y];if(!(P in f))break e;f=f[P]}o=o[o.length-1],y=f[o],c=c(y),c!=y&&c!=null&&e(f,o,{configurable:!0,writable:!0,value:c})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(c){var f=[],y;for(y in c)Object.prototype.hasOwnProperty.call(c,y)&&f.push([y,c[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function a(o){var c=typeof o;return c=="object"&&o!=null||c=="function"}function u(o,c,f){return o.call.apply(o.bind,arguments)}function d(o,c,f){return d=u,d.apply(null,arguments)}function p(o,c){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function g(o,c){function f(){}f.prototype=c.prototype,o.Z=c.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,P,D){for(var U=Array(arguments.length-2),q=2;q<arguments.length;q++)U[q-2]=arguments[q];return c.prototype[P].apply(y,U)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function A(o){const c=o.length;if(c>0){const f=Array(c);for(let y=0;y<c;y++)f[y]=o[y];return f}return[]}function N(o,c){for(let y=1;y<arguments.length;y++){const P=arguments[y];var f=typeof P;if(f=f!="object"?f:P?Array.isArray(P)?"array":f:"null",f=="array"||f=="object"&&typeof P.length=="number"){f=o.length||0;const D=P.length||0;o.length=f+D;for(let U=0;U<D;U++)o[f+U]=P[U]}else o.push(P)}}class R{constructor(c,f){this.i=c,this.j=f,this.h=0,this.g=null}get(){let c;return this.h>0?(this.h--,c=this.g,this.g=c.next,c.next=null):c=this.i(),c}}function V(o){l.setTimeout(()=>{throw o},0)}function k(){var o=E;let c=null;return o.g&&(c=o.g,o.g=o.g.next,o.g||(o.h=null),c.next=null),c}class x{constructor(){this.h=this.g=null}add(c,f){const y=I.get();y.set(c,f),this.h?this.h.next=y:this.g=y,this.h=y}}var I=new R(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(c,f){this.h=c,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let M,z=!1,E=new x,v=()=>{const o=Promise.resolve(void 0);M=()=>{o.then(S)}};function S(){for(var o;o=k();){try{o.h.call(o.g)}catch(f){V(f)}var c=I;c.j(o),c.h<100&&(c.h++,o.next=c.g,c.g=o)}z=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,c){this.type=o,this.g=this.target=c,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,c=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,c),l.removeEventListener("test",f,c)}catch{}return o}();function T(o){return/^[\s\xa0]*$/.test(o)}function J(o,c){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,c)}g(J,w),J.prototype.init=function(o,c){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=c,c=o.relatedTarget,c||(f=="mouseover"?c=o.fromElement:f=="mouseout"&&(c=o.toElement)),this.relatedTarget=c,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ge="closure_listenable_"+(Math.random()*1e6|0),de=0;function Jn(o,c,f,y,P){this.listener=o,this.proxy=null,this.src=c,this.type=f,this.capture=!!y,this.ha=P,this.key=++de,this.da=this.fa=!1}function B(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function G(o,c,f){for(const y in o)c.call(f,o[y],y,o)}function K(o,c){for(const f in o)c.call(void 0,o[f],f,o)}function re(o){const c={};for(const f in o)c[f]=o[f];return c}const ye="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(o,c){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)o[f]=y[f];for(let D=0;D<ye.length;D++)f=ye[D],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function ut(o){this.src=o,this.g={},this.h=0}ut.prototype.add=function(o,c,f,y,P){const D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);const U=Rt(o,c,y,P);return U>-1?(c=o[U],f||(c.fa=!1)):(c=new Jn(c,this.src,D,!!y,P),c.fa=f,o.push(c)),c};function Zn(o,c){const f=c.type;if(f in o.g){var y=o.g[f],P=Array.prototype.indexOf.call(y,c,void 0),D;(D=P>=0)&&Array.prototype.splice.call(y,P,1),D&&(B(c),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Rt(o,c,f,y){for(let P=0;P<o.length;++P){const D=o[P];if(!D.da&&D.listener==c&&D.capture==!!f&&D.ha==y)return P}return-1}var mn="closure_lm_"+(Math.random()*1e6|0),ma={};function nd(o,c,f,y,P){if(Array.isArray(c)){for(let D=0;D<c.length;D++)nd(o,c[D],f,y,P);return null}return f=id(f),o&&o[ge]?o.J(c,f,a(y)?!!y.capture:!1,P):h0(o,c,f,!1,y,P)}function h0(o,c,f,y,P,D){if(!c)throw Error("Invalid event type");const U=a(P)?!!P.capture:!!P;let q=ya(o);if(q||(o[mn]=q=new ut(o)),f=q.add(c,f,y,U,D),f.proxy)return f;if(y=d0(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)C||(P=U),P===void 0&&(P=!1),o.addEventListener(c.toString(),y,P);else if(o.attachEvent)o.attachEvent(sd(c.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function d0(){function o(f){return c.call(o.src,o.listener,f)}const c=f0;return o}function rd(o,c,f,y,P){if(Array.isArray(c))for(var D=0;D<c.length;D++)rd(o,c[D],f,y,P);else y=a(y)?!!y.capture:!!y,f=id(f),o&&o[ge]?(o=o.i,D=String(c).toString(),D in o.g&&(c=o.g[D],f=Rt(c,f,y,P),f>-1&&(B(c[f]),Array.prototype.splice.call(c,f,1),c.length==0&&(delete o.g[D],o.h--)))):o&&(o=ya(o))&&(c=o.g[c.toString()],o=-1,c&&(o=Rt(c,f,y,P)),(f=o>-1?c[o]:null)&&ga(f))}function ga(o){if(typeof o!="number"&&o&&!o.da){var c=o.src;if(c&&c[ge])Zn(c.i,o);else{var f=o.type,y=o.proxy;c.removeEventListener?c.removeEventListener(f,y,o.capture):c.detachEvent?c.detachEvent(sd(f),y):c.addListener&&c.removeListener&&c.removeListener(y),(f=ya(c))?(Zn(f,o),f.h==0&&(f.src=null,c[mn]=null)):B(o)}}}function sd(o){return o in ma?ma[o]:ma[o]="on"+o}function f0(o,c){if(o.da)o=!0;else{c=new J(c,this);const f=o.listener,y=o.ha||o.src;o.fa&&ga(o),o=f.call(y,c)}return o}function ya(o){return o=o[mn],o instanceof ut?o:null}var va="__closure_events_fn_"+(Math.random()*1e9>>>0);function id(o){return typeof o=="function"?o:(o[va]||(o[va]=function(c){return o.handleEvent(c)}),o[va])}function Qe(){_.call(this),this.i=new ut(this),this.M=this,this.G=null}g(Qe,_),Qe.prototype[ge]=!0,Qe.prototype.removeEventListener=function(o,c,f,y){rd(this,o,c,f,y)};function nt(o,c){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=c.type||c,typeof c=="string")c=new w(c,o);else if(c instanceof w)c.target=c.target||o;else{var P=c;c=new w(y,o),en(c,P)}P=!0;let D,U;if(f)for(U=f.length-1;U>=0;U--)D=c.g=f[U],P=eo(D,y,!0,c)&&P;if(D=c.g=o,P=eo(D,y,!0,c)&&P,P=eo(D,y,!1,c)&&P,f)for(U=0;U<f.length;U++)D=c.g=f[U],P=eo(D,y,!1,c)&&P}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var o=this.i;for(const c in o.g){const f=o.g[c];for(let y=0;y<f.length;y++)B(f[y]);delete o.g[c],o.h--}}this.G=null},Qe.prototype.J=function(o,c,f,y){return this.i.add(String(o),c,!1,f,y)},Qe.prototype.K=function(o,c,f,y){return this.i.add(String(o),c,!0,f,y)};function eo(o,c,f,y){if(c=o.i.g[String(c)],!c)return!0;c=c.concat();let P=!0;for(let D=0;D<c.length;++D){const U=c[D];if(U&&!U.da&&U.capture==f){const q=U.listener,Re=U.ha||U.src;U.fa&&Zn(o.i,U),P=q.call(Re,y)!==!1&&P}}return P&&!y.defaultPrevented}function p0(o,c){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=d(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(c)>2147483647?-1:l.setTimeout(o,c||0)}function od(o){o.g=p0(()=>{o.g=null,o.i&&(o.i=!1,od(o))},o.l);const c=o.h;o.h=null,o.m.apply(null,c)}class m0 extends _{constructor(c,f){super(),this.m=c,this.l=f,this.h=null,this.i=!1,this.g=null}j(c){this.h=arguments,this.g?this.i=!0:od(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(o){_.call(this),this.h=o,this.g={}}g(Es,_);var ld=[];function ad(o){G(o.g,function(c,f){this.g.hasOwnProperty(f)&&ga(c)},o),o.g={}}Es.prototype.N=function(){Es.Z.N.call(this),ad(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=l.JSON.stringify,g0=l.JSON.parse,y0=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ud(){}function cd(){}var Ss={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xa(){w.call(this,"d")}g(xa,w);function wa(){w.call(this,"c")}g(wa,w);var er={},hd=null;function to(){return hd=hd||new Qe}er.Ia="serverreachability";function dd(o){w.call(this,er.Ia,o)}g(dd,w);function Ts(o){const c=to();nt(c,new dd(c))}er.STAT_EVENT="statevent";function fd(o,c){w.call(this,er.STAT_EVENT,o),this.stat=c}g(fd,w);function rt(o){const c=to();nt(c,new fd(c,o))}er.Ja="timingevent";function pd(o,c){w.call(this,er.Ja,o),this.size=c}g(pd,w);function ks(o,c){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},c)}function Is(){this.g=!0}Is.prototype.ua=function(){this.g=!1};function v0(o,c,f,y,P,D){o.info(function(){if(o.g)if(D){var U="",q=D.split("&");for(let oe=0;oe<q.length;oe++){var Re=q[oe].split("=");if(Re.length>1){const De=Re[0];Re=Re[1];const $t=De.split("_");U=$t.length>=2&&$t[1]=="type"?U+(De+"="+Re+"&"):U+(De+"=redacted&")}}}else U=null;else U=D;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+c+`
`+f+`
`+U})}function _0(o,c,f,y,P,D,U){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+c+`
`+f+`
`+D+" "+U})}function Rr(o,c,f,y){o.info(function(){return"XMLHTTP TEXT ("+c+"): "+w0(o,f)+(y?" "+y:"")})}function x0(o,c){o.info(function(){return"TIMEOUT: "+c})}Is.prototype.info=function(){};function w0(o,c){if(!o.g)return c;if(!c)return null;try{const D=JSON.parse(c);if(D){for(o=0;o<D.length;o++)if(Array.isArray(D[o])){var f=D[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var P=y[0];if(P!="noop"&&P!="stop"&&P!="close")for(let U=1;U<y.length;U++)y[U]=""}}}}return _a(D)}catch{return c}}var no={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},md={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gd;function Ea(){}g(Ea,ud),Ea.prototype.g=function(){return new XMLHttpRequest},gd=new Ea;function Cs(o){return encodeURIComponent(String(o))}function E0(o){var c=1;o=o.split(":");const f=[];for(;c>0&&o.length;)f.push(o.shift()),c--;return o.length&&f.push(o.join(":")),f}function gn(o,c,f,y){this.j=o,this.i=c,this.l=f,this.S=y||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var vd={},Sa={};function Ta(o,c,f){o.M=1,o.A=so(Bt(c)),o.u=f,o.R=!0,_d(o,null)}function _d(o,c){o.F=Date.now(),ro(o),o.B=Bt(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),jd(f.i,"t",y),o.C=0,f=o.j.L,o.h=new yd,o.g=Xd(o.j,f?c:null,!o.u),o.P>0&&(o.O=new m0(d(o.Y,o,o.g),o.P)),c=o.V,f=o.g,y=o.ba;var P="readystatechange";Array.isArray(P)||(P&&(ld[0]=P.toString()),P=ld);for(let D=0;D<P.length;D++){const U=nd(f,P[D],y||c.handleEvent,!1,c.h||c);if(!U)break;c.g[U.key]=U}c=o.J?re(o.J):{},o.u?(o.v||(o.v="POST"),c["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,c)):(o.v="GET",o.g.ea(o.B,o.v,null,c)),Ts(),v0(o.i,o.v,o.B,o.l,o.S,o.u)}gn.prototype.ba=function(o){o=o.target;const c=this.O;c&&_n(o)==3?c.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)e:{const q=_n(this.g),Re=this.g.ya(),oe=this.g.ca();if(!(q<3)&&(q!=3||this.g&&(this.h.h||this.g.la()||zd(this.g)))){this.K||q!=4||Re==7||(Re==8||oe<=0?Ts(3):Ts(2)),ka(this);var c=this.g.ca();this.X=c;var f=S0(this);if(this.o=c==200,_0(this.i,this.v,this.B,this.l,this.S,q,c),this.o){if(this.U&&!this.L){t:{if(this.g){var y,P=this.g;if((y=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!T(y)){var D=y;break t}}D=null}if(o=D)Rr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ia(this,o);else{this.o=!1,this.m=3,rt(12),tr(this),As(this);break e}}if(this.R){o=!0;let De;for(;!this.K&&this.C<f.length;)if(De=T0(this,f),De==Sa){q==4&&(this.m=4,rt(14),o=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(De==vd){this.m=4,rt(15),Rr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Rr(this.i,this.l,De,null),Ia(this,De);if(xd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),q!=4||f.length!=0||this.h.h||(this.m=1,rt(16),o=!1),this.o=this.o&&o,!o)Rr(this.i,this.l,f,"[Invalid Chunked Response]"),tr(this),As(this);else if(f.length>0&&!this.W){this.W=!0;var U=this.j;U.g==this&&U.aa&&!U.P&&(U.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ba(U),U.P=!0,rt(11))}}else Rr(this.i,this.l,f,null),Ia(this,f);q==4&&tr(this),this.o&&!this.K&&(q==4?Kd(this.j,this):(this.o=!1,ro(this)))}else O0(this.g),c==400&&f.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),tr(this),As(this)}}}catch{}finally{}};function S0(o){if(!xd(o))return o.g.la();const c=zd(o.g);if(c==="")return"";let f="";const y=c.length,P=_n(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return tr(o),As(o),"";o.h.i=new l.TextDecoder}for(let D=0;D<y;D++)o.h.h=!0,f+=o.h.i.decode(c[D],{stream:!(P&&D==y-1)});return c.length=0,o.h.g+=f,o.C=0,o.h.g}function xd(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function T0(o,c){var f=o.C,y=c.indexOf(`
`,f);return y==-1?Sa:(f=Number(c.substring(f,y)),isNaN(f)?vd:(y+=1,y+f>c.length?Sa:(c=c.slice(y,y+f),o.C=y+f,c)))}gn.prototype.cancel=function(){this.K=!0,tr(this)};function ro(o){o.T=Date.now()+o.H,wd(o,o.H)}function wd(o,c){if(o.D!=null)throw Error("WatchDog timer not null");o.D=ks(d(o.aa,o),c)}function ka(o){o.D&&(l.clearTimeout(o.D),o.D=null)}gn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(x0(this.i,this.B),this.M!=2&&(Ts(),rt(17)),tr(this),this.m=2,As(this)):wd(this,this.T-o)};function As(o){o.j.I==0||o.K||Kd(o.j,o)}function tr(o){ka(o);var c=o.O;c&&typeof c.dispose=="function"&&c.dispose(),o.O=null,ad(o.V),o.g&&(c=o.g,o.g=null,c.abort(),c.dispose())}function Ia(o,c){try{var f=o.j;if(f.I!=0&&(f.g==o||Ca(f.h,o))){if(!o.L&&Ca(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(c)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)uo(f),lo(f);else break e;Da(f),rt(18)}}else f.xa=P[1],0<f.xa-f.K&&P[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=ks(d(f.Va,f),6e3));Td(f.h)<=1&&f.ta&&(f.ta=void 0)}else rr(f,11)}else if((o.L||f.g==o)&&uo(f),!T(c))for(P=f.Ba.g.parse(c),c=0;c<P.length;c++){let oe=P[c];const De=oe[0];if(!(De<=f.K))if(f.K=De,oe=oe[1],f.I==2)if(oe[0]=="c"){f.M=oe[1],f.ba=oe[2];const $t=oe[3];$t!=null&&(f.ka=$t,f.j.info("VER="+f.ka));const sr=oe[4];sr!=null&&(f.za=sr,f.j.info("SVER="+f.za));const xn=oe[5];xn!=null&&typeof xn=="number"&&xn>0&&(y=1.5*xn,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const wn=o.g;if(wn){const ho=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var D=y.h;D.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Aa(D,D.h),D.h=null))}if(y.G){const Va=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(y.wa=Va,ue(y.J,y.G,Va))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var U=o;if(y.na=qd(y,y.L?y.ba:null,y.W),U.L){kd(y.h,U);var q=U,Re=y.O;Re&&(q.H=Re),q.D&&(ka(q),ro(q)),y.g=U}else Hd(y);f.i.length>0&&ao(f)}else oe[0]!="stop"&&oe[0]!="close"||rr(f,7);else f.I==3&&(oe[0]=="stop"||oe[0]=="close"?oe[0]=="stop"?rr(f,7):ja(f):oe[0]!="noop"&&f.l&&f.l.qa(oe),f.A=0)}}Ts(4)}catch{}}var k0=class{constructor(o,c){this.g=o,this.map=c}};function Ed(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Td(o){return o.h?1:o.g?o.g.size:0}function Ca(o,c){return o.h?o.h==c:o.g?o.g.has(c):!1}function Aa(o,c){o.g?o.g.add(c):o.h=c}function kd(o,c){o.h&&o.h==c?o.h=null:o.g&&o.g.has(c)&&o.g.delete(c)}Ed.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Id(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let c=o.i;for(const f of o.g.values())c=c.concat(f.G);return c}return A(o.i)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I0(o,c){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let P,D=null;y>=0?(P=o[f].substring(0,y),D=o[f].substring(y+1)):P=o[f],c(P,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function yn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let c;o instanceof yn?(this.l=o.l,Ns(this,o.j),this.o=o.o,this.g=o.g,Rs(this,o.u),this.h=o.h,Na(this,Dd(o.i)),this.m=o.m):o&&(c=String(o).match(Cd))?(this.l=!1,Ns(this,c[1]||"",!0),this.o=Ps(c[2]||""),this.g=Ps(c[3]||"",!0),Rs(this,c[4]),this.h=Ps(c[5]||"",!0),Na(this,c[6]||"",!0),this.m=Ps(c[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}yn.prototype.toString=function(){const o=[];var c=this.j;c&&o.push(js(c,Ad,!0),":");var f=this.g;return(f||c=="file")&&(o.push("//"),(c=this.o)&&o.push(js(c,Ad,!0),"@"),o.push(Cs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(js(f,f.charAt(0)=="/"?N0:A0,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",js(f,P0)),o.join("")},yn.prototype.resolve=function(o){const c=Bt(this);let f=!!o.j;f?Ns(c,o.j):f=!!o.o,f?c.o=o.o:f=!!o.g,f?c.g=o.g:f=o.u!=null;var y=o.h;if(f)Rs(c,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var P=c.h.lastIndexOf("/");P!=-1&&(y=c.h.slice(0,P+1)+y)}if(P=y,P==".."||P==".")y="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){y=P.lastIndexOf("/",0)==0,P=P.split("/");const D=[];for(let U=0;U<P.length;){const q=P[U++];q=="."?y&&U==P.length&&D.push(""):q==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),y&&U==P.length&&D.push("")):(D.push(q),y=!0)}y=D.join("/")}else y=P}return f?c.h=y:f=o.i.toString()!=="",f?Na(c,Dd(o.i)):f=!!o.m,f&&(c.m=o.m),c};function Bt(o){return new yn(o)}function Ns(o,c,f){o.j=f?Ps(c,!0):c,o.j&&(o.j=o.j.replace(/:$/,""))}function Rs(o,c){if(c){if(c=Number(c),isNaN(c)||c<0)throw Error("Bad port number "+c);o.u=c}else o.u=null}function Na(o,c,f){c instanceof Ds?(o.i=c,j0(o.i,o.l)):(f||(c=js(c,R0)),o.i=new Ds(c,o.l))}function ue(o,c,f){o.i.set(c,f)}function so(o){return ue(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ps(o,c){return o?c?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function js(o,c,f){return typeof o=="string"?(o=encodeURI(o).replace(c,C0),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function C0(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ad=/[#\/\?@]/g,A0=/[#\?:]/g,N0=/[#\?]/g,R0=/[#\?@]/g,P0=/#/g;function Ds(o,c){this.h=this.g=null,this.i=o||null,this.j=!!c}function nr(o){o.g||(o.g=new Map,o.h=0,o.i&&I0(o.i,function(c,f){o.add(decodeURIComponent(c.replace(/\+/g," ")),f)}))}t=Ds.prototype,t.add=function(o,c){nr(this),this.i=null,o=Pr(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(c),this.h+=1,this};function Nd(o,c){nr(o),c=Pr(o,c),o.g.has(c)&&(o.i=null,o.h-=o.g.get(c).length,o.g.delete(c))}function Rd(o,c){return nr(o),c=Pr(o,c),o.g.has(c)}t.forEach=function(o,c){nr(this),this.g.forEach(function(f,y){f.forEach(function(P){o.call(c,P,y,this)},this)},this)};function Pd(o,c){nr(o);let f=[];if(typeof c=="string")Rd(o,c)&&(f=f.concat(o.g.get(Pr(o,c))));else for(o=Array.from(o.g.values()),c=0;c<o.length;c++)f=f.concat(o[c]);return f}t.set=function(o,c){return nr(this),this.i=null,o=Pr(this,o),Rd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[c]),this.h+=1,this},t.get=function(o,c){return o?(o=Pd(this,o),o.length>0?String(o[0]):c):c};function jd(o,c,f){Nd(o,c),f.length>0&&(o.i=null,o.g.set(Pr(o,c),A(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],c=Array.from(this.g.keys());for(let y=0;y<c.length;y++){var f=c[y];const P=Cs(f);f=Pd(this,f);for(let D=0;D<f.length;D++){let U=P;f[D]!==""&&(U+="="+Cs(f[D])),o.push(U)}}return this.i=o.join("&")};function Dd(o){const c=new Ds;return c.i=o.i,o.g&&(c.g=new Map(o.g),c.h=o.h),c}function Pr(o,c){return c=String(c),o.j&&(c=c.toLowerCase()),c}function j0(o,c){c&&!o.j&&(nr(o),o.i=null,o.g.forEach(function(f,y){const P=y.toLowerCase();y!=P&&(Nd(this,y),jd(this,P,f))},o)),o.j=c}function D0(o,c){const f=new Is;if(l.Image){const y=new Image;y.onload=p(vn,f,"TestLoadImage: loaded",!0,c,y),y.onerror=p(vn,f,"TestLoadImage: error",!1,c,y),y.onabort=p(vn,f,"TestLoadImage: abort",!1,c,y),y.ontimeout=p(vn,f,"TestLoadImage: timeout",!1,c,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else c(!1)}function b0(o,c){const f=new Is,y=new AbortController,P=setTimeout(()=>{y.abort(),vn(f,"TestPingServer: timeout",!1,c)},1e4);fetch(o,{signal:y.signal}).then(D=>{clearTimeout(P),D.ok?vn(f,"TestPingServer: ok",!0,c):vn(f,"TestPingServer: server error",!1,c)}).catch(()=>{clearTimeout(P),vn(f,"TestPingServer: error",!1,c)})}function vn(o,c,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function V0(){this.g=new y0}function Ra(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Ra,ud),Ra.prototype.g=function(){return new io(this.i,this.h)};function io(o,c){Qe.call(this),this.H=o,this.o=c,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(io,Qe),t=io.prototype,t.open=function(o,c){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=c,this.readyState=1,Vs(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const c={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(c.body=o),(this.H||l).fetch(new Request(this.D,c)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bd(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function bd(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var c=o.value?o.value:new Uint8Array(0);(c=this.B.decode(c,{stream:!o.done}))&&(this.response=this.responseText+=c)}o.done?bs(this):Vs(this),this.readyState==3&&bd(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,bs(this))},t.Na=function(o){this.g&&(this.response=o,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Vs(o)}t.setRequestHeader=function(o,c){this.A.append(o,c)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],c=this.h.entries();for(var f=c.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=c.next();return o.join(`\r
`)};function Vs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Vd(o){let c="";return G(o,function(f,y){c+=y,c+=":",c+=f,c+=`\r
`}),c}function Pa(o,c,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Vd(f),typeof o=="string"?f!=null&&Cs(f):ue(o,c,f))}function Ee(o){Qe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ee,Qe);var M0=/^https?$/i,L0=["POST","PUT"];t=Ee.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,c,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);c=c?c.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gd.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(c,String(o),!0),this.B=!1}catch(D){Md(this,D);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())f.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(D=>D.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(Array.prototype.indexOf.call(L0,c,void 0)>=0)||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,U]of f)this.g.setRequestHeader(D,U);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(D){Md(this,D)}};function Md(o,c){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=c,o.o=5,Ld(o),oo(o)}function Ld(o){o.A||(o.A=!0,nt(o,"complete"),nt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,nt(this,"complete"),nt(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),Ee.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Od(this):this.Xa())},t.Xa=function(){Od(this)};function Od(o){if(o.h&&typeof i<"u"){if(o.v&&_n(o)==4)setTimeout(o.Ca.bind(o),0);else if(nt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const D=o.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var c=!0;break e;default:c=!1}var f;if(!(f=c)){var y;if(y=D===0){let U=String(o.D).match(Cd)[1]||null;!U&&l.self&&l.self.location&&(U=l.self.location.protocol.slice(0,-1)),y=!M0.test(U?U.toLowerCase():"")}f=y}if(f)nt(o,"complete"),nt(o,"success");else{o.o=6;try{var P=_n(o)>2?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.ca()+"]",Ld(o)}}finally{oo(o)}}}}function oo(o,c){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,c||nt(o,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}t.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var c=this.g.responseText;return o&&c.indexOf(o)==0&&(c=c.substring(o.length)),g0(c)}};function zd(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function O0(o){const c={};o=(o.g&&_n(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(T(o[y]))continue;var f=E0(o[y]);const P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const D=c[P]||[];c[P]=D,D.push(f)}K(c,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(o,c,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||c}function Fd(o){this.za=0,this.i=[],this.j=new Is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,o),this.Za=Ms("retryDelaySeedMs",1e4,o),this.Ta=Ms("forwardChannelMaxRetries",2,o),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ed(o&&o.concurrentRequestLimit),this.Ba=new V0,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fd.prototype,t.ka=8,t.I=1,t.connect=function(o,c,f,y){rt(0),this.W=o,this.H=c||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=qd(this,null,this.W),ao(this)};function ja(o){if(Ud(o),o.I==3){var c=o.V++,f=Bt(o.J);if(ue(f,"SID",o.M),ue(f,"RID",c),ue(f,"TYPE","terminate"),Ls(o,f),c=new gn(o,o.j,c),c.M=2,c.A=so(Bt(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(c.A.toString(),"")}catch{}!f&&l.Image&&(new Image().src=c.A,f=!0),f||(c.g=Xd(c.j,null),c.g.ea(c.A)),c.F=Date.now(),ro(c)}Qd(o)}function lo(o){o.g&&(ba(o),o.g.cancel(),o.g=null)}function Ud(o){lo(o),o.v&&(l.clearTimeout(o.v),o.v=null),uo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&l.clearTimeout(o.m),o.m=null)}function ao(o){if(!Sd(o.h)&&!o.m){o.m=!0;var c=o.Ea;M||v(),z||(M(),z=!0),E.add(c,o),o.D=0}}function z0(o,c){return Td(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=c.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=ks(d(o.Ea,o,c),Gd(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const P=new gn(this,this.j,o);let D=this.o;if(this.U&&(D?(D=re(D),en(D,this.U)):D=this.U),this.u!==null||this.R||(P.J=D,D=null),this.S)e:{for(var c=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(c+=y,c>4096){c=f;break e}if(c===4096||f===this.i.length-1){c=f+1;break e}}c=1e3}else c=1e3;c=$d(this,P,c),f=Bt(this.J),ue(f,"RID",o),ue(f,"CVER",22),this.G&&ue(f,"X-HTTP-Session-Id",this.G),Ls(this,f),D&&(this.R?c="headers="+Cs(Vd(D))+"&"+c:this.u&&Pa(f,this.u,D)),Aa(this.h,P),this.Ra&&ue(f,"TYPE","init"),this.S?(ue(f,"$req",c),ue(f,"SID","null"),P.U=!0,Ta(P,f,null)):Ta(P,f,c),this.I=2}}else this.I==3&&(o?Bd(this,o):this.i.length==0||Sd(this.h)||Bd(this))};function Bd(o,c){var f;c?f=c.l:f=o.V++;const y=Bt(o.J);ue(y,"SID",o.M),ue(y,"RID",f),ue(y,"AID",o.K),Ls(o,y),o.u&&o.o&&Pa(y,o.u,o.o),f=new gn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),c&&(o.i=c.G.concat(o.i)),c=$d(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Aa(o.h,f),Ta(f,y,c)}function Ls(o,c){o.H&&G(o.H,function(f,y){ue(c,y,f)}),o.l&&G({},function(f,y){ue(c,y,f)})}function $d(o,c,f){f=Math.min(o.i.length,f);const y=o.l?d(o.l.Ka,o.l,o):null;e:{var P=o.i;let q=-1;for(;;){const Re=["count="+f];q==-1?f>0?(q=P[0].g,Re.push("ofs="+q)):q=0:Re.push("ofs="+q);let oe=!0;for(let De=0;De<f;De++){var D=P[De].g;const $t=P[De].map;if(D-=q,D<0)q=Math.max(0,P[De].g-100),oe=!1;else try{D="req"+D+"_"||"";try{var U=$t instanceof Map?$t:Object.entries($t);for(const[sr,xn]of U){let wn=xn;a(xn)&&(wn=_a(xn)),Re.push(D+sr+"="+encodeURIComponent(wn))}}catch(sr){throw Re.push(D+"type="+encodeURIComponent("_badmap")),sr}}catch{y&&y($t)}}if(oe){U=Re.join("&");break e}}U=void 0}return o=o.i.splice(0,f),c.G=o,U}function Hd(o){if(!o.g&&!o.v){o.Y=1;var c=o.Da;M||v(),z||(M(),z=!0),E.add(c,o),o.A=0}}function Da(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=ks(d(o.Da,o),Gd(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=ks(d(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),lo(this),Wd(this))};function ba(o){o.B!=null&&(l.clearTimeout(o.B),o.B=null)}function Wd(o){o.g=new gn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var c=Bt(o.na);ue(c,"RID","rpc"),ue(c,"SID",o.M),ue(c,"AID",o.K),ue(c,"CI",o.F?"0":"1"),!o.F&&o.ia&&ue(c,"TO",o.ia),ue(c,"TYPE","xmlhttp"),Ls(o,c),o.u&&o.o&&Pa(c,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=so(Bt(c)),f.u=null,f.R=!0,_d(f,o)}t.Va=function(){this.C!=null&&(this.C=null,lo(this),Da(this),rt(19))};function uo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Kd(o,c){var f=null;if(o.g==c){uo(o),ba(o),o.g=null;var y=2}else if(Ca(o.h,c))f=c.G,kd(o.h,c),y=1;else return;if(o.I!=0){if(c.o)if(y==1){f=c.u?c.u.length:0,c=Date.now()-c.F;var P=o.D;y=to(),nt(y,new pd(y,f)),ao(o)}else Hd(o);else if(P=c.m,P==3||P==0&&c.X>0||!(y==1&&z0(o,c)||y==2&&Da(o)))switch(f&&f.length>0&&(c=o.h,c.i=c.i.concat(f)),P){case 1:rr(o,5);break;case 4:rr(o,10);break;case 3:rr(o,6);break;default:rr(o,2)}}}function Gd(o,c){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*c}function rr(o,c){if(o.j.info("Error code "+c),c==2){var f=d(o.bb,o),y=o.Ua;const P=!y;y=new yn(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ns(y,"https"),so(y),P?D0(y.toString(),f):b0(y.toString(),f)}else rt(2);o.I=0,o.l&&o.l.pa(c),Qd(o),Ud(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Qd(o){if(o.I=0,o.ja=[],o.l){const c=Id(o.h);(c.length!=0||o.i.length!=0)&&(N(o.ja,c),N(o.ja,o.i),o.h.i.length=0,A(o.i),o.i.length=0),o.l.oa()}}function qd(o,c,f){var y=f instanceof yn?Bt(f):new yn(f);if(y.g!="")c&&(y.g=c+"."+y.g),Rs(y,y.u);else{var P=l.location;y=P.protocol,c=c?c+"."+P.hostname:P.hostname,P=+P.port;const D=new yn(null);y&&Ns(D,y),c&&(D.g=c),P&&Rs(D,P),f&&(D.h=f),y=D}return f=o.G,c=o.wa,f&&c&&ue(y,f,c),ue(y,"VER",o.ka),Ls(o,y),y}function Xd(o,c,f){if(c&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return c=o.Aa&&!o.ma?new Ee(new Ra({ab:f})):new Ee(o.ma),c.Fa(o.L),c}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}t=Yd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function co(){}co.prototype.g=function(o,c){return new yt(o,c)};function yt(o,c){Qe.call(this),this.g=new Fd(c),this.l=o,this.h=c&&c.messageUrlParams||null,o=c&&c.messageHeaders||null,c&&c.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=c&&c.initMessageHeaders||null,c&&c.messageContentType&&(o?o["X-WebChannel-Content-Type"]=c.messageContentType:o={"X-WebChannel-Content-Type":c.messageContentType}),c&&c.sa&&(o?o["X-WebChannel-Client-Profile"]=c.sa:o={"X-WebChannel-Client-Profile":c.sa}),this.g.U=o,(o=c&&c.Qb)&&!T(o)&&(this.g.u=o),this.A=c&&c.supportsCrossDomainXhr||!1,this.v=c&&c.sendRawJson||!1,(c=c&&c.httpSessionIdParam)&&!T(c)&&(this.g.G=c,o=this.h,o!==null&&c in o&&(o=this.h,c in o&&delete o[c])),this.j=new jr(this)}g(yt,Qe),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){ja(this.g)},yt.prototype.o=function(o){var c=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=_a(o),o=f);c.i.push(new k0(c.Ya++,o)),c.I==3&&ao(c)},yt.prototype.N=function(){this.g.l=null,delete this.j,ja(this.g),delete this.g,yt.Z.N.call(this)};function Jd(o){xa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var c=o.__sm__;if(c){e:{for(const f in c){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,c=c!==null&&o in c?c[o]:void 0),this.data=c}else this.data=o}g(Jd,xa);function Zd(){wa.call(this),this.status=1}g(Zd,wa);function jr(o){this.g=o}g(jr,Yd),jr.prototype.ra=function(){nt(this.g,"a")},jr.prototype.qa=function(o){nt(this.g,new Jd(o))},jr.prototype.pa=function(o){nt(this.g,new Zd)},jr.prototype.oa=function(){nt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,sv=function(){return new co},rv=function(){return to()},nv=er,vc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Qo=no,md.COMPLETE="complete",tv=md,cd.EventType=Ss,Ss.OPEN="a",Ss.CLOSE="b",Ss.ERROR="c",Ss.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Ys=cd,Ee.prototype.listenOnce=Ee.prototype.K,Ee.prototype.getLastError=Ee.prototype.Ha,Ee.prototype.getLastErrorCode=Ee.prototype.ya,Ee.prototype.getStatus=Ee.prototype.ca,Ee.prototype.getResponseJson=Ee.prototype.La,Ee.prototype.getResponseText=Ee.prototype.la,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Fa,ev=Ee}).apply(typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{});const Rp="@firebase/firestore",Pp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Qy("@firebase/firestore");function br(){return Er.logLevel}function H(t,...e){if(Er.logLevel<=ee.DEBUG){const n=e.map(Ph);Er.debug(`Firestore (${xs}): ${t}`,...n)}}function Sr(t,...e){if(Er.logLevel<=ee.ERROR){const n=e.map(Ph);Er.error(`Firestore (${xs}): ${t}`,...n)}}function ia(t,...e){if(Er.logLevel<=ee.WARN){const n=e.map(Ph);Er.warn(`Firestore (${xs}): ${t}`,...n)}}function Ph(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iv(t,r,n)}function iv(t,e,n){let r=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iv(e,s,r)}function ae(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class W extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class YE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JE{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ov(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Je(e)}}class ZE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,DE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,H("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ne(t,e){return t<e?-1:t>e?1:0}function _c(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return fu(s)===fu(i)?ne(s,i):fu(s)?1:-1}return ne(t.length,e.length)}const r2=55296,s2=57343;function fu(t){const e=t.charCodeAt(0);return e>=r2&&e<=s2}function cs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="__name__";class Kt{constructor(e,n,r){n===void 0?n=0:n>e.length&&X(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&X(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ne(e.length,n.length)}static compareSegments(e,n){const r=Kt.isNumericId(e),s=Kt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kt.extractNumericId(e).compare(Kt.extractNumericId(n)):_c(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rh.fromString(e.substring(4,e.length-2))}}class _e extends Kt{construct(e,n,r){return new _e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new W(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new _e(n)}static emptyPath(){return new _e([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Kt{construct(e,n,r){return new $e(e,n,r)}static isValidIdentifier(e){return i2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dp}static keyField(){return new $e([Dp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new W(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new W(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new W(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(l=!l,s++):a!=="."||l?(r+=a,s++):(i(),s++)}if(i(),l)throw new W(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(_e.fromString(e))}static fromName(e){return new Q(_e.fromString(e).popFirst(5))}static empty(){return new Q(_e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return _e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new _e(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new W(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o2(t,e,n,r){if(e===!0&&r===!0)throw new W(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bp(t){if(!Q.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vp(t){if(Q.isDocumentKey(t))throw new W(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":X(12329,{type:typeof t})}function Al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new W(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new W(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gi(t,e){if(!av(t))throw new W(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new W(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-62135596800,Lp=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(e){return me.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lp);return new me(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new W(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mp)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new W(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lp}_compareTo(e){return this.seconds===e.seconds?ne(this.nanoseconds,e.nanoseconds):ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gi(e,me._jsonSchema))return new me(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Ae("string",me._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new me(0,0))}static max(){return new fe(new me(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=-1;function l2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new me(n+1,0):new me(n,r));return new Hn(s,Q.empty(),e)}function a2(t){return new Hn(t.readTime,t.key,Vi)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(fe.min(),Q.empty(),Vi)}static max(){return new Hn(fe.max(),Q.empty(),Vi)}}function u2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==c2)throw t;H("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&X(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,l=!1;e.forEach(a=>{++s,a.next(()=>{++i,l&&i===s&&n()},u=>r(u))}),l=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,l=new Array(i);let a=0;for(let u=0;u<i;u++){const d=u;n(e[d]).next(p=>{l[d]=p,++a,a===i&&r(l)},p=>s(p))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function d2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function Lh(t){return t==null}function Nl(t){return t===0&&1/t==-1/0}function f2(t){return typeof t=="number"&&Number.isInteger(t)&&!Nl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function p2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Op(e)),e=m2(t.get(n),e);return Op(e)}function m2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uv:n+="";break;default:n+=i}}return n}function Op(t){return t+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}}class Po{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=s??Ue.EMPTY,this.right=i??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ue(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ue.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw X(43730,{key:this.key,value:this.value});if(this.right.isRed())throw X(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw X(27949);return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw X(57766)}get value(){throw X(16141)}get color(){throw X(16727)}get left(){throw X(29726)}get right(){throw X(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class Fp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new Ot([])}unionWith(e){let n=new Ke($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Ot(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g2("Invalid base64 string: "+i):i}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Tr(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=y2.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="server_timestamp",dv="__type__",fv="__previous_value__",pv="__local_write_time__";function Oh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dv])==null?void 0:r.stringValue)===hv}function zh(t){const e=t.mapValue.fields[fv];return Oh(e)?zh(e):e}function Rl(t){const e=Tr(t.mapValue.fields[pv].timestampValue);return new me(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s,i,l,a,u,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d,this.isUsingEmulator=p}}const Pl="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||Pl}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Pl}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",_2="__max__",jo={mapValue:{}},gv="__vector__",xc="value";function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oh(t)?4:w2(t)?9007199254740991:x2(t)?10:11:X(28295,{value:t})}function Jt(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Tr(s.timestampValue),a=Tr(i.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hs(s.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Be(s.doubleValue),a=Be(i.doubleValue);return l===a?Nl(l)===Nl(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],Jt);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},a=i.mapValue.fields||{};if(zp(l)!==zp(a))return!1;for(const u in l)if(l.hasOwnProperty(u)&&(a[u]===void 0||!Jt(l[u],a[u])))return!1;return!0}(t,e);default:return X(52216,{left:t})}}function Mi(t,e){return(t.values||[]).find(n=>Jt(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=kr(t),r=kr(e);if(n!==r)return ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ne(t.booleanValue,e.booleanValue);case 2:return function(i,l){const a=Be(i.integerValue||i.doubleValue),u=Be(l.integerValue||l.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return Up(t.timestampValue,e.timestampValue);case 4:return Up(Rl(t),Rl(e));case 5:return _c(t.stringValue,e.stringValue);case 6:return function(i,l){const a=hs(i),u=hs(l);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const a=i.split("/"),u=l.split("/");for(let d=0;d<a.length&&d<u.length;d++){const p=ne(a[d],u[d]);if(p!==0)return p}return ne(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const a=ne(Be(i.latitude),Be(l.latitude));return a!==0?a:ne(Be(i.longitude),Be(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bp(t.arrayValue,e.arrayValue);case 10:return function(i,l){var m,A,N,R;const a=i.fields||{},u=l.fields||{},d=(m=a[xc])==null?void 0:m.arrayValue,p=(A=u[xc])==null?void 0:A.arrayValue,g=ne(((N=d==null?void 0:d.values)==null?void 0:N.length)||0,((R=p==null?void 0:p.values)==null?void 0:R.length)||0);return g!==0?g:Bp(d,p)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===jo.mapValue&&l===jo.mapValue)return 0;if(i===jo.mapValue)return 1;if(l===jo.mapValue)return-1;const a=i.fields||{},u=Object.keys(a),d=l.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){const m=_c(u[g],p[g]);if(m!==0)return m;const A=ds(a[u[g]],d[p[g]]);if(A!==0)return A}return ne(u.length,p.length)}(t.mapValue,e.mapValue);default:throw X(23264,{he:n})}}function Up(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ne(t,e);const n=Tr(t),r=Tr(e),s=ne(n.seconds,r.seconds);return s!==0?s:ne(n.nanos,r.nanos)}function Bp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ds(n[s],r[s]);if(i)return i}return ne(n.length,r.length)}function fs(t){return wc(t)}function wc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Tr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${wc(n.fields[l])}`;return s+"}"}(t.mapValue):X(61005,{value:t})}function qo(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=zh(t);return e?16+qo(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qo(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ws(r.fields,(i,l)=>{s+=i.length+qo(l)}),s}(t.mapValue);default:throw X(13486,{value:t})}}function Ec(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function Xo(t){return!!t&&"mapValue"in t}function x2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mv])==null?void 0:r.stringValue)===gv}function ai(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ai(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ai(t.arrayValue.values[n]);return e}return{...t}}function w2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ai(n)}setAll(e){let n=$e.emptyPath(),r={},s=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}l?r[a.lastSegment()]=ai(l):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(ai(this.value))}}function yv(t){const e=[];return ws(t.fields,(n,r)=>{const s=new $e([n]);if(Xo(r)){const i=yv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new Ot(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,fe.min(),fe.min(),fe.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,fe.min(),fe.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,fe.min(),fe.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.position=e,this.inclusive=n}}function $p(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=Q.comparator(Q.fromName(l.referenceValue),n.key):r=ds(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function E2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Le extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new T2(e,n,r):n==="array-contains"?new C2(e,r):n==="in"?new A2(e,r):n==="not-in"?new N2(e,r):n==="array-contains-any"?new R2(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new k2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ds(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return X(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return _v(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(t){return t.op==="and"}function xv(t){return S2(t)&&_v(t)}function S2(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function Sc(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(xv(t))return t.filters.map(e=>Sc(e)).join(",");{const e=t.filters.map(n=>Sc(n)).join(",");return`${t.op}(${e})`}}function wv(t,e){return t instanceof Le?function(r,s){return s instanceof Le&&r.op===s.op&&r.field.isEqual(s.field)&&Jt(r.value,s.value)}(t,e):t instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,a)=>i&&wv(l,s.filters[a]),!0):!1}(t,e):void X(19439)}function Ev(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ev).join(" ,")+"}"}(t):"Filter"}class T2 extends Le{constructor(e,n,r){super(e,n,r),this.key=Q.fromName(r.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class k2 extends Le{constructor(e,n){super(e,"in",n),this.keys=Sv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends Le{constructor(e,n){super(e,"not-in",n),this.keys=Sv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Sv(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Q.fromName(r.referenceValue))}class C2 extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&Mi(n.arrayValue,this.value)}}class A2 extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mi(this.value.arrayValue,n)}}class N2 extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mi(this.value.arrayValue,n)}}class R2 extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n=null,r=[],s=[],i=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=a,this.Te=null}}function Wp(t,e=null,n=[],r=[],s=null,i=null,l=null){return new P2(t,e,n,r,s,i,l)}function Uh(t){const e=ae(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Sc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.Te=n}return e.Te}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hp(t.startAt,e.startAt)&&Hp(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],s=[],i=null,l="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=a,this.endAt=u,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j2(t,e,n,r,s,i,l,a){return new oa(t,e,n,r,s,i,l,a)}function D2(t){return new oa(t)}function Kp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b2(t){return t.collectionGroup!==null}function ui(t){const e=ae(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new Ke($e.comparator);return l.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bl(i,r))}),n.has($e.keyField().canonicalString())||e.Ie.push(new bl($e.keyField(),r))}return e.Ie}function gr(t){const e=ae(t);return e.Ee||(e.Ee=V2(e,ui(t))),e.Ee}function V2(t,e){if(t.limitType==="F")return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bl(s.field,i)});const n=t.endAt?new Dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dl(t.startAt.position,t.startAt.inclusive):null;return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Tc(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Tv(t,e){return Bh(gr(t),gr(e))&&t.limitType===e.limitType}function kv(t){return`${Uh(gr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ev(s)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fs(s)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ui(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,a,u){const d=$p(l,a,u);return l.inclusive?d<=0:d<0}(r.startAt,ui(r),s)||r.endAt&&!function(l,a,u){const d=$p(l,a,u);return l.inclusive?d>=0:d>0}(r.endAt,ui(r),s))}(t,e)}function M2(t){return(e,n)=>{let r=!1;for(const s of ui(t)){const i=L2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function L2(t,e,n){const r=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,l,a){const u=l.data.field(i),d=a.data.field(i);return u!==null&&d!==null?ds(u,d):X(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return X(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2=new gt(Q.comparator);function Vl(){return O2}const Iv=new gt(Q.comparator);function Do(...t){let e=Iv;for(const n of t)e=e.insert(n.key,n);return e}function Cv(t){let e=Iv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hr(){return ci()}function Av(){return ci()}function ci(){return new Ar(t=>t.toString(),(t,e)=>t.isEqual(e))}const z2=new gt(Q.comparator),F2=new Ke(Q.comparator);function et(...t){let e=F2;for(const n of t)e=e.add(n);return e}const U2=new Ke(ne);function B2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nl(e)?"-0":e}}function Nv(t){return{integerValue:""+t}}function $2(t,e){return f2(e)?Nv(e):Hh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function H2(t,e,n){return t instanceof Li?function(s,i){const l={fields:{[dv]:{stringValue:hv},[pv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Oh(i)&&(i=zh(i)),i&&(l.fields[fv]=i),{mapValue:l}}(n,e):t instanceof Oi?Pv(t,e):t instanceof zi?jv(t,e):function(s,i){const l=Rv(s,i),a=Gp(l)+Gp(s.Ae);return Ec(l)&&Ec(s.Ae)?Nv(a):Hh(s.serializer,a)}(t,e)}function W2(t,e,n){return t instanceof Oi?Pv(t,e):t instanceof zi?jv(t,e):n}function Rv(t,e){return t instanceof Ml?function(r){return Ec(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Li extends la{}class Oi extends la{constructor(e){super(),this.elements=e}}function Pv(t,e){const n=Dv(e);for(const r of t.elements)n.some(s=>Jt(s,r))||n.push(r);return{arrayValue:{values:n}}}class zi extends la{constructor(e){super(),this.elements=e}}function jv(t,e){let n=Dv(e);for(const r of t.elements)n=n.filter(s=>!Jt(s,r));return{arrayValue:{values:n}}}class Ml extends la{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gp(t){return Be(t.integerValue||t.doubleValue)}function Dv(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.field=e,this.transform=n}}function G2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Oi&&s instanceof Oi||r instanceof zi&&s instanceof zi?cs(r.elements,s.elements,Jt):r instanceof Ml&&s instanceof Ml?Jt(r.Ae,s.Ae):r instanceof Li&&s instanceof Li}(t.transform,e.transform)}class Q2{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class aa{}function bv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,Xt.none()):new qi(t.key,t.data,Xt.none());{const n=t.data,r=Mt.empty();let s=new Ke($e.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Nr(t.key,r,new Ot(s.toArray()),Xt.none())}}function q2(t,e,n){t instanceof qi?function(s,i,l){const a=s.value.clone(),u=qp(s.fieldTransforms,i,l.transformResults);a.setAll(u),i.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Nr?function(s,i,l){if(!Yo(s.precondition,i))return void i.convertToUnknownDocument(l.version);const a=qp(s.fieldTransforms,i,l.transformResults),u=i.data;u.setAll(Vv(s)),u.setAll(a),i.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function hi(t,e,n,r){return t instanceof qi?function(i,l,a,u){if(!Yo(i.precondition,l))return a;const d=i.value.clone(),p=Xp(i.fieldTransforms,u,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Nr?function(i,l,a,u){if(!Yo(i.precondition,l))return a;const d=Xp(i.fieldTransforms,u,l),p=l.data;return p.setAll(Vv(i)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,l,a){return Yo(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function X2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Rv(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function Qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cs(r,s,(i,l)=>G2(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qi extends aa{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Nr extends aa{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qp(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,a=e.data.field(i.field);r.set(i.field,W2(l,a,n[s]))}return r}function Xp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,H2(i,l,e))}return r}class Mv extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&q2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Av();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let a=this.applyToLocalView(l,i.mutatedFields);a=n.has(s.key)?null:a;const u=bv(l,a);u!==null&&r.set(s.key,u),l.isValidDocument()||l.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(n,r)=>Qp(n,r))&&cs(this.baseMutations,e.baseMutations,(n,r)=>Qp(n,r))}}class Wh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return z2}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new Wh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ie,Z;function eS(t){switch(t){case O.OK:return X(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return X(15467,{code:t})}}function tS(t){if(t===void 0)return Sr("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ie.OK:return O.OK;case Ie.CANCELLED:return O.CANCELLED;case Ie.UNKNOWN:return O.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return O.INTERNAL;case Ie.UNAVAILABLE:return O.UNAVAILABLE;case Ie.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ie.NOT_FOUND:return O.NOT_FOUND;case Ie.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ie.ABORTED:return O.ABORTED;case Ie.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ie.DATA_LOSS:return O.DATA_LOSS;default:return X(39323,{code:t})}}(Z=Ie||(Ie={}))[Z.OK=0]="OK",Z[Z.CANCELLED=1]="CANCELLED",Z[Z.UNKNOWN=2]="UNKNOWN",Z[Z.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Z[Z.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Z[Z.NOT_FOUND=5]="NOT_FOUND",Z[Z.ALREADY_EXISTS=6]="ALREADY_EXISTS",Z[Z.PERMISSION_DENIED=7]="PERMISSION_DENIED",Z[Z.UNAUTHENTICATED=16]="UNAUTHENTICATED",Z[Z.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Z[Z.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Z[Z.ABORTED=10]="ABORTED",Z[Z.OUT_OF_RANGE=11]="OUT_OF_RANGE",Z[Z.UNIMPLEMENTED=12]="UNIMPLEMENTED",Z[Z.INTERNAL=13]="INTERNAL",Z[Z.UNAVAILABLE=14]="UNAVAILABLE",Z[Z.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh([4294967295,4294967295],0);class nS{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function kc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sS(t,e){return kc(t,e.toTimestamp())}function ts(t){return Te(!!t,49232),fe.fromTimestamp(function(n){const r=Tr(n);return new me(r.seconds,r.nanos)}(t))}function Lv(t,e){return Ic(t,e).canonicalString()}function Ic(t,e){const n=function(s){return new _e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function iS(t){const e=_e.fromString(t);return Te(fS(e),10190,{key:e.toString()}),e}function Cc(t,e){return Lv(t.databaseId,e.path)}function oS(t){const e=iS(t);return e.length===4?_e.emptyPath():aS(e)}function lS(t){return new _e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function aS(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yp(t,e,n){return{name:Cc(t,e),fields:n.value.mapValue.fields}}function uS(t,e){let n;if(e instanceof qi)n={update:Yp(t,e.key,e.value)};else if(e instanceof Mv)n={delete:Cc(t,e.key)};else if(e instanceof Nr)n={update:Yp(t,e.key,e.data),updateMask:dS(e.fieldMask)};else{if(!(e instanceof Y2))return X(16599,{Vt:e.type});n={verify:Cc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const a=l.transform;if(a instanceof Li)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Oi)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof zi)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ml)return{fieldPath:l.field.canonicalString(),increment:a.Ae};throw X(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sS(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:X(27497)}(t,e.precondition)),n}function cS(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let l=s.updateTime?ts(s.updateTime):ts(i);return l.isEqual(fe.min())&&(l=ts(i)),new Q2(l,s.transformResults||[])}(n,e))):[]}function hS(t){let e=oS(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const m=Ov(g);return m instanceof Wn&&xv(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(m=>function(N){return new bl(Vr(N.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(N.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,Lh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(g){const m=!!g.before,A=g.values||[];return new Dl(A,m)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const m=!g.before,A=g.values||[];return new Dl(A,m)}(n.endAt)),j2(e,s,l,i,a,"F",u,d)}function Ov(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vr(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vr(n.unaryFilter.field);return Le.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vr(n.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vr(n.unaryFilter.field);return Le.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return X(61313);default:return X(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Vr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return X(58110);default:return X(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>Ov(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return X(1026)}}(n.compositeFilter.op))}(t):X(30097,{filter:t})}function Vr(t){return $e.fromServerFormat(t.fieldPath)}function dS(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e){this.yt=e}}function mS(t){const e=hS({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Tc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(){this.Cn=new yS}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Hn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class yS{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ke(_e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ke(_e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zv=41943040;class ct{static withCacheSize(e){return new ct(e,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(zv,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ps(0)}static cr(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LruGarbageCollector",vS=1048576;function em([t,e],[n,r]){const s=ne(t,n);return s===0?ne(e,r):s}class _S{constructor(e){this.Ir=e,this.buffer=new Ke(em),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();em(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xS{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){H(Zp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qi(n)?H(Zp,"Ignoring IndexedDB error during garbage collection: ",n):await bh(n)}await this.Vr(3e5)})}}class wS{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Vh.ce);const r=new _S(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Jp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,l,a,u,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),br()<=ee.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(a-l)+`ms
	Removed ${i} targets in `+(u-a)+`ms
	Removed ${g} documents in `+(d-u)+`ms
Total Duration: ${d-p}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function ES(t,e){return new wS(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(){this.changes=new Ar(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hi(r.mutation,s,Ot.empty(),me.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=Do();return i.forEach((a,u)=>{l=l.insert(a,u.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,s){let i=Vl();const l=ci(),a=function(){return ci()}();return n.forEach((u,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Nr)?i=i.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),hi(p.mutation,d,p.mutation.getFieldMask(),me.now())):l.set(d.key,Ot.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>a.set(d,new TS(p,l.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ci();let s=new gt((l,a)=>l-a),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(u=>{const d=n.get(u);if(d===null)return;let p=r.get(u)||Ot.empty();p=a.applyToLocalView(d,p),r.set(u,p);const g=(s.get(a.batchId)||et()).add(u);s=s.insert(a.batchId,g)})}).next(()=>{const l=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),d=u.key,p=u.value,g=Av();p.forEach(m=>{if(!i.has(m)){const A=bv(n.get(m),r.get(m));A!==null&&g.set(m,A),i=i.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Q.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(hr());let a=Vi,u=i;return l.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),i.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{u=u.insert(p,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,u,d,et())).next(p=>({batchId:a,changes:Cv(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=Do();return this.indexManager.getCollectionParents(e,i).next(a=>L.forEach(a,u=>{const d=function(g,m){return new oa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((g,m)=>{l=l.insert(g,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((u,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Vt.newInvalidDocument(p)))});let a=Do();return l.forEach((u,d)=>{const p=i.get(u);p!==void 0&&hi(p.mutation,d,Ot.empty(),me.now()),$h(n,d)&&(a=a.insert(u,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ts(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:mS(s.bundledQuery),readTime:ts(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(){this.overlays=new gt(Q.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=hr(),i=n.length+1,l=new Q(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gt((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=hr(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const a=hr(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=s)););return L.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z2(n,r));let i=this.qr.get(n);i===void 0&&(i=et(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Qr=new Ke(Ve.$r),this.Ur=new Ke(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ve(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Q(new _e([])),r=new Ve(n,e),s=new Ve(n,e+1),i=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),i.push(l.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Q(new _e([])),r=new Ve(n,e),s=new Ve(n,e+1);let i=et();return this.Ur.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new Ve(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Q.comparator(e.key,n.key)||ne(e.Yr,n.Yr)}static Kr(e,n){return ne(e.Yr,n.Yr)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Ve.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new J2(i,n,r,s);this.mutationQueue.push(l);for(const a of s)this.Zr=this.Zr.add(new Ve(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(l)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Mh:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),s=new Ve(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],l=>{const a=this.Xr(l.Yr);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(ne);return n.forEach(s=>{const i=new Ve(s,0),l=new Ve(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],a=>{r=r.add(a.Yr)})}),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Q.isDocumentKey(i)||(i=i.child(""));const l=new Ve(new Q(i),0);let a=new Ke(ne);return this.Zr.forEachWhile(u=>{const d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(u.Yr)),!0)},l),L.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,s=>{const i=new Ve(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ve(n,0),s=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RS{constructor(e){this.ri=e,this.docs=function(){return new gt(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Vl();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vl();const l=n.path,a=new Q(l.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:d,value:{document:p}}=u.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||u2(a2(p),r)<=0||(s.has(p.key)||$h(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){X(9500)}ii(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new PS(this)}getSize(e){return L.resolve(this.size)}}class PS extends SS{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.persistence=e,this.si=new Ar(n=>Uh(n),Bh),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=ps.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ps(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new AS,this.referenceDelegate=e(this),this.Pi=new jS(this),this.indexManager=new gS,this.remoteDocumentCache=function(s){return new RS(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pS(n),this.Ii=new IS(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new CS,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new NS(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);const s=new DS(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return L.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class DS extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Gh(e)}get fi(){if(this.Vi)return this.Vi;throw X(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,r=>{const s=Q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ll{constructor(e,n){this.persistence=e,this.pi=new Ar(r=>p2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=ES(this,n)}static mi(e,n){return new Ll(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return L.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(a=>{a||(r++,i.removeEntry(l,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qo(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Rw()?8:d2(Aw())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new bS;return this.Ss(e,n,l).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,l,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(br()<=ee.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(br()<=ee.DEBUG&&H("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(br()<=ee.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):L.resolve())}ys(e,n){if(Kp(n))return L.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Tc(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=et(...i);return this.ps.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const d=this.Ds(n,a);return this.Cs(n,d,l,u.readTime)?this.ys(e,Tc(n,null,"F")):this.vs(e,d,n,u)}))})))}ws(e,n,r,s){return Kp(n)||s.isEqual(fe.min())?L.resolve(null):this.ps.getDocuments(e,r).next(i=>{const l=this.Ds(n,i);return this.Cs(n,l,r,s)?L.resolve(null):(br()<=ee.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ks(n)),this.vs(e,l,n,l2(s,Vi)).next(a=>a))})}Ds(e,n){let r=new Ke(M2(e));return n.forEach((s,i)=>{$h(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return br()<=ee.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,Hn.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="LocalStore";class LS{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new gt(ne),this.xs=new Ar(i=>Uh(i),Bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new kS(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function OS(t,e,n,r){return new LS(t,e,n,r)}async function Uv(t,e){const n=ae(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],a=[];let u=et();for(const d of s){l.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}for(const d of i){a.push(d.batchId);for(const p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:a}))})})}function zS(t,e){const n=ae(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){const g=d.batch,m=g.keys();let A=L.resolve();return m.forEach(N=>{A=A.next(()=>p.getEntry(u,N)).next(R=>{const V=d.docVersions.get(N);Te(V!==null,48541),R.version.compareTo(V)<0&&(g.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),A.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=et();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function FS(t){const e=ae(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function US(t,e){const n=ae(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class tm{constructor(){this.activeTargetIds=B2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class BS{constructor(){this.Mo=new tm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="ConnectivityMonitor";class rm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){H(nm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){H(nm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Ac(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="RestConnection",HS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class WS{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Pl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const l=Ac(),a=this.zo(e,n.toUriEncodedString());H(pu,`Sending RPC '${e}' ${l}:`,a,r);const u={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(u,s,i);const{host:d}=new URL(a),p=Ah(d);return this.Jo(e,a,u,r,p).then(g=>(H(pu,`Received RPC '${e}' ${l}: `,g),g),g=>{throw ia(pu,`RPC '${e}' ${l} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,s,i,l){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=HS[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class GS extends WS{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const l=Ac();return new Promise((a,u)=>{const d=new ev;d.setWithCredentials(!0),d.listenOnce(tv.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Qo.NO_ERROR:const g=d.getResponseJson();H(Ye,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),a(g);break;case Qo.TIMEOUT:H(Ye,`RPC '${e}' ${l} timed out`),u(new W(O.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const m=d.getStatus();if(H(Ye,`RPC '${e}' ${l} failed with status:`,m,"response text:",d.getResponseText()),m>0){let A=d.getResponseJson();Array.isArray(A)&&(A=A[0]);const N=A==null?void 0:A.error;if(N&&N.status&&N.message){const R=function(k){const x=k.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(N.status);u(new W(R,N.message))}else u(new W(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else u(new W(O.UNAVAILABLE,"Connection failed."));break;default:X(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{H(Ye,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);H(Ye,`RPC '${e}' ${l} sending request:`,s),d.send(n,"POST",p,r,15)})}T_(e,n,r){const s=Ac(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sv(),a=rv(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.jo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const p=i.join("");H(Ye,`Creating RPC '${e}' stream ${s}: ${p}`,u);const g=l.createWebChannel(p,u);this.I_(g);let m=!1,A=!1;const N=new KS({Yo:V=>{A?H(Ye,`Not sending because RPC '${e}' stream ${s} is closed:`,V):(m||(H(Ye,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),H(Ye,`RPC '${e}' stream ${s} sending:`,V),g.send(V))},Zo:()=>g.close()}),R=(V,k,x)=>{V.listen(k,I=>{try{x(I)}catch(j){setTimeout(()=>{throw j},0)}})};return R(g,Ys.EventType.OPEN,()=>{A||(H(Ye,`RPC '${e}' stream ${s} transport opened.`),N.o_())}),R(g,Ys.EventType.CLOSE,()=>{A||(A=!0,H(Ye,`RPC '${e}' stream ${s} transport closed`),N.a_(),this.E_(g))}),R(g,Ys.EventType.ERROR,V=>{A||(A=!0,ia(Ye,`RPC '${e}' stream ${s} transport errored. Name:`,V.name,"Message:",V.message),N.a_(new W(O.UNAVAILABLE,"The operation could not be completed")))}),R(g,Ys.EventType.MESSAGE,V=>{var k;if(!A){const x=V.data[0];Te(!!x,16349);const I=x,j=(I==null?void 0:I.error)||((k=I[0])==null?void 0:k.error);if(j){H(Ye,`RPC '${e}' stream ${s} received error:`,j);const M=j.status;let z=function(S){const _=Ie[S];if(_!==void 0)return tS(_)}(M),E=j.message;z===void 0&&(z=O.INTERNAL,E="Unknown error status: "+M+" with message "+j.message),A=!0,N.a_(new W(z,E)),g.close()}else H(Ye,`RPC '${e}' stream ${s} received:`,x),N.u_(x)}}),R(a,nv.STAT_EVENT,V=>{V.stat===vc.PROXY?H(Ye,`RPC '${e}' stream ${s} detected buffering proxy`):V.stat===vc.NOPROXY&&H(Ye,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{N.__()},0),N}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return new nS(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&H("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="PersistentStream";class QS{constructor(e,n,r,s,i,l,a,u){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new W(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return H(sm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(H(sm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qS extends QS{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=cS(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lS(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uS(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{}class YS extends XS{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Go(e,Ic(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new W(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Ho(e,Ic(n,r),s,l,a,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new W(O.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class JS{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Sr(n),this.aa=!1):H("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class ZS{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Ji(this)&&(H(Xi,"Restarting streams for network reachability change."),await async function(u){const d=ae(u);d.Ea.add(4),await Yi(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ca(d)}(this))})}),this.Ra=new JS(r,s)}}async function ca(t){if(Ji(t))for(const e of t.da)await e(!0)}async function Yi(t){for(const e of t.da)await e(!1)}function Ji(t){return ae(t).Ea.size===0}async function $v(t,e,n){if(!Qi(e))throw e;t.Ea.add(1),await Yi(t),t.Ra.set("Offline"),n||(n=()=>FS(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{H(Xi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ca(t)})}function Hv(t,e){return e().catch(n=>$v(t,n,e))}async function ha(t){const e=ae(t),n=Kn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mh;for(;eT(e);)try{const s=await US(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,tT(e,s)}catch(s){await $v(e,s)}Wv(e)&&Kv(e)}function eT(t){return Ji(t)&&t.Ta.length<10}function tT(t,e){t.Ta.push(e);const n=Kn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Wv(t){return Ji(t)&&!Kn(t).x_()&&t.Ta.length>0}function Kv(t){Kn(t).start()}async function nT(t){Kn(t).ra()}async function rT(t){const e=Kn(t);for(const n of t.Ta)e.ea(n.mutations)}async function sT(t,e,n){const r=t.Ta.shift(),s=Wh.from(r,e,n);await Hv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ha(t)}async function iT(t,e){e&&Kn(t).X_&&await async function(r,s){if(function(l){return eS(l)&&l!==O.ABORTED}(s.code)){const i=r.Ta.shift();Kn(r).B_(),await Hv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ha(r)}}(t,e),Wv(t)&&Kv(t)}async function im(t,e){const n=ae(t);n.asyncQueue.verifyOperationInProgress(),H(Xi,"RemoteStore received new credentials");const r=Ji(n);n.Ea.add(3),await Yi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ca(n)}async function oT(t,e){const n=ae(t);e?(n.Ea.delete(2),await ca(n)):e||(n.Ea.add(2),await Yi(n),n.Ra.set("Unknown"))}function Kn(t){return t.fa||(t.fa=function(n,r,s){const i=ae(n);return i.sa(),new qS(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nT.bind(null,t),r_:iT.bind(null,t),ta:rT.bind(null,t),na:sT.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ha(t)):(await t.fa.stop(),t.Ta.length>0&&(H(Xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,a=new qh(e,n,l,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),Qi(t))return new W(O.UNAVAILABLE,`${e}: ${t}`);throw t}class lT{constructor(){this.queries=om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ae(n),i=s.queries;s.queries=om(),i.forEach((l,a)=>{for(const u of a.Sa)u.onError(r)})})(this,new W(O.ABORTED,"Firestore shutting down"))}}function om(){return new Ar(t=>kv(t),Tv)}function aT(t){t.Ca.forEach(e=>{e.next()})}var lm,am;(am=lm||(lm={})).Ma="default",am.Cache="cache";const uT="SyncEngine";class cT{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ar(a=>kv(a),Tv),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Q.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=ps.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hT(t,e,n){const r=mT(t);try{const s=await function(l,a){const u=ae(l),d=me.now(),p=a.reduce((A,N)=>A.add(N.key),et());let g,m;return u.persistence.runTransaction("Locally write mutations","readwrite",A=>{let N=Vl(),R=et();return u.Ns.getEntries(A,p).next(V=>{N=V,N.forEach((k,x)=>{x.isValidDocument()||(R=R.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(A,N)).next(V=>{g=V;const k=[];for(const x of a){const I=X2(x,g.get(x.key).overlayedDocument);I!=null&&k.push(new Nr(x.key,I,yv(I.value.mapValue),Xt.exists(!0)))}return u.mutationQueue.addMutationBatch(A,d,k,a)}).next(V=>{m=V;const k=V.applyToLocalDocumentSet(g,R);return u.documentOverlayCache.saveOverlays(A,V.batchId,k)})}).then(()=>({batchId:m.batchId,changes:Cv(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,a,u){let d=l.Vu[l.currentUser.toKey()];d||(d=new gt(ne)),d=d.insert(a,u),l.Vu[l.currentUser.toKey()]=d}(r,s.batchId,n),await da(r,s.changes),await ha(r.remoteStore)}catch(s){const i=Gv(s,"Failed to persist write");n.reject(i)}}function um(t,e,n){const r=ae(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,l)=>{const a=l.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(l,a){const u=ae(l);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(const m of g.Sa)m.va(a)&&(d=!0)}),d&&aT(u)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dT(t,e){const n=ae(t),r=e.batch.batchId;try{const s=await zS(n.localStore,e);qv(n,r,null),Qv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await da(n,s)}catch(s){await bh(s)}}async function fT(t,e,n){const r=ae(t);try{const s=await function(l,a){const u=ae(l);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Te(g!==null,37113),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);qv(r,e,n),Qv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await da(r,s)}catch(s){await bh(s)}}function Qv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qv(t,e,n){const r=ae(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}async function da(t,e,n){const r=ae(t),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((a,u)=>{l.push(r.pu(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(u.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Qh.As(u.targetId,d);i.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(u,d){const p=ae(u);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,m=>L.forEach(m.Es,A=>p.persistence.referenceDelegate.addReference(g,m.targetId,A)).next(()=>L.forEach(m.ds,A=>p.persistence.referenceDelegate.removeReference(g,m.targetId,A)))))}catch(g){if(!Qi(g))throw g;H(MS,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const A=p.Ms.get(m),N=A.snapshotVersion,R=A.withLastLimboFreeSnapshotVersion(N);p.Ms=p.Ms.insert(m,R)}}}(r.localStore,i))}async function pT(t,e){const n=ae(t);if(!n.currentUser.isEqual(e)){H(uT,"User change. New user:",e.toKey());const r=await Uv(n.localStore,e);n.currentUser=e,function(i,l){i.mu.forEach(a=>{a.forEach(u=>{u.reject(new W(O.CANCELLED,l))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await da(n,r.Ls)}}function mT(t){const e=ae(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fT.bind(null,e),e}class Ol{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ua(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return OS(this.persistence,new VS,e.initialUser,this.serializer)}Cu(e){return new Fv(Gh.mi,this.serializer)}Du(e){return new BS}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ol.provider={build:()=>new Ol};class gT extends Ol{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Ll,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xS(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ct.withCacheSize(this.cacheSizeBytes):ct.DEFAULT;return new Fv(r=>Ll.mi(r,n),this.serializer)}}class Nc{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>um(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pT.bind(null,this.syncEngine),await oT(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lT}()}createDatastore(e){const n=ua(e.databaseInfo.databaseId),r=function(i){return new GS(i)}(e.databaseInfo);return function(i,l,a,u){return new YS(i,l,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,a){return new ZS(r,s,i,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>um(this.syncEngine,n,0),function(){return rm.v()?new rm:new $S}())}createSyncEngine(e,n){return function(s,i,l,a,u,d,p){const g=new cT(s,i,l,a,u,d);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ae(s);H(Xi,"RemoteStore shutting down."),i.Ea.add(5),await Yi(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Nc.provider={build:()=>new Nc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="FirestoreClient";class yT{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Je.UNAUTHENTICATED,this.clientId=jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{H(Gn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(H(Gn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gu(t,e){t.asyncQueue.verifyOperationInProgress(),H(Gn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Uv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vT(t);H(Gn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>im(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>im(e.remoteStore,s)),t._onlineComponents=e}async function vT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Gn,"Using user provided OfflineComponentProvider");try{await gu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await gu(t,new Ol)}}else H(Gn,"Using default OfflineComponentProvider"),await gu(t,new gT(void 0));return t._offlineComponents}async function _T(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Gn,"Using user provided OnlineComponentProvider"),await cm(t,t._uninitializedComponentsProvider._online)):(H(Gn,"Using default OnlineComponentProvider"),await cm(t,new Nc))),t._onlineComponents}function xT(t){return _T(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firestore.googleapis.com",dm=!0;class fm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yv,this.ssl=dm}else this.host=e.host,this.ssl=e.ssl??dm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vS)throw new W(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new W(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fa{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new W(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new W(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XE;switch(r.type){case"firstParty":return new e2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new W(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hm.get(n);r&&(H("ComponentProvider","Removing Datastore"),hm.delete(n),r.terminate())}(this),Promise.resolve()}}function wT(t,e,n,r={}){var d;t=Al(t,fa);const s=Ah(e),i=t._getSettings(),l={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(Sw(`https://${a}`),Cw("Firestore",!0)),i.host!==Yv&&i.host!==a&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u={...i,host:a,ssl:s,emulatorOptions:r};if(!kl(u,l)&&(t._setSettings(u),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Je.MOCK_USER;else{p=Tw(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new W(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Je(m)}t._authCredentials=new YE(new ov(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gi(n,He._jsonSchema))return new He(e,r||null,new Q(_e.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ae("string",He._jsonSchemaVersion),referencePath:Ae("string")};class Un extends Xh{constructor(e,n,r){super(e,n,D2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new Q(e))}withConverter(e){return new Un(this.firestore,e,this._path)}}function ET(t,e,...n){if(t=ji(t),lv("collection","path",e),t instanceof fa){const r=_e.fromString(e,...n);return Vp(r),new Un(t,null,r)}{if(!(t instanceof He||t instanceof Un))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return Vp(r),new Un(t.firestore,null,r)}}function Zi(t,e,...n){if(t=ji(t),arguments.length===1&&(e=jh.newId()),lv("doc","path",e),t instanceof fa){const r=_e.fromString(e,...n);return bp(r),new He(t,null,new Q(r))}{if(!(t instanceof He||t instanceof Un))throw new W(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(_e.fromString(e,...n));return bp(r),new He(t.firestore,t instanceof Un?t.converter:null,new Q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="AsyncQueue";class mm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bv(this,"async_queue_retry"),this._c=()=>{const r=mu();r&&H(pm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qi(e))throw e;H(pm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Sr("INTERNAL UNHANDLED ERROR: ",gm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qh.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&X(47125,{Pc:gm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yh extends fa{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mm,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,await e}}}function ST(t,e){const n=typeof t=="object"?t:LE(),r=typeof t=="string"?t:Pl,s=jE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ww("firestore");i&&wT(s,...i)}return s}function TT(t){if(t._terminated)throw new W(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||kT(t),t._firestoreClient}function kT(t){var r,s,i;const e=t._freezeSettings(),n=function(a,u,d,p){return new v2(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yT(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const u=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lt(Yt.fromBase64String(e))}catch(n){throw new W(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lt(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gi(e,Lt._jsonSchema))return Lt.fromBase64String(e.bytes)}}Lt._jsonSchemaVersion="firestore/bytes/1.0",Lt._jsonSchema={type:Ae("string",Lt._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new W(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new W(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new W(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return ne(this._lat,e._lat)||ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ln._jsonSchemaVersion}}static fromJSON(e){if(Gi(e,ln._jsonSchema))return new ln(e.latitude,e.longitude)}}ln._jsonSchemaVersion="firestore/geoPoint/1.0",ln._jsonSchema={type:Ae("string",ln._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:an._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gi(e,an._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new an(e.vectorValues);throw new W(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}an._jsonSchemaVersion="firestore/vectorValue/1.0",an._jsonSchema={type:Ae("string",an._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT=/^__.*__$/;class CT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Nr(e,this.data,this.fieldMask,n,this.fieldTransforms):new qi(e,this.data,n,this.fieldTransforms)}}function Jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw X(40011,{Ac:t})}}class ed{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ed({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&IT.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class AT{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ua(e)}Cc(e,n,r,s=!1){return new ed({Ac:e,methodName:n,Dc:r,path:$e.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(t){const e=t._freezeSettings(),n=ua(t._databaseId);return new AT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e0(t,e,n,r,s,i={}){const l=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);s0("Data must be an object, but it was:",l,r);const a=n0(r,l);let u,d;if(i.merge)u=new Ot(l.fieldMask),d=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const m=NT(e,g,n);if(!l.contains(m))throw new W(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PT(p,m)||p.push(m)}u=new Ot(p),d=l.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=l.fieldTransforms;return new CT(new Mt(a),u,d)}class td extends Zh{_toFieldTransform(e){return new K2(e.path,new Li)}isEqual(e){return e instanceof td}}function t0(t,e){if(r0(t=ji(t)))return s0("Unsupported field value:",e,t),n0(t,e);if(t instanceof Zh)return function(r,s){if(!Jv(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const a of r){let u=t0(a,s.wc(l));u==null&&(u={nullValue:"NULL_VALUE"}),i.push(u),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ji(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=me.fromDate(r);return{timestampValue:kc(s.serializer,i)}}if(r instanceof me){const i=new me(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kc(s.serializer,i)}}if(r instanceof ln)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lt)return{bytesValue:rS(s.serializer,r._byteString)};if(r instanceof He){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof an)return function(l,a){return{mapValue:{fields:{[mv]:{stringValue:gv},[xc]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Hh(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Dh(r)}`)}(t,e)}function n0(t,e){const n={};return cv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,s)=>{const i=t0(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function r0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof me||t instanceof ln||t instanceof Lt||t instanceof He||t instanceof Zh||t instanceof an)}function s0(t,e,n){if(!r0(n)||!av(n)){const r=Dh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function NT(t,e,n){if((e=ji(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return i0(t,e);throw zl("Field path arguments must be of type string or ",t,!1,void 0,n)}const RT=new RegExp("[~\\*/\\[\\]]");function i0(t,e,n){if(e.search(RT)>=0)throw zl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw zl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zl(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||l)&&(u+=" (found",i&&(u+=` in field ${r}`),l&&(u+=` in document ${s}`),u+=")"),new W(O.INVALID_ARGUMENT,a+t+u)}function PT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jT extends o0{data(){return super.data()}}function l0(t,e){return typeof e=="string"?i0(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends o0{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(l0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Ae("string",ns._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Jo extends ns{data(e={}){return super.data(e)}}class di{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jo(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new W(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(a=>{const u=new Jo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const u=new Jo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return a.type!==0&&(d=l.indexOf(a.doc.key),l=l.delete(a.doc.key)),a.type!==1&&(l=l.add(a.doc),p=l.indexOf(a.doc.key)),{type:DT(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return X(61501,{type:t})}}di._jsonSchemaVersion="firestore/querySnapshot/1.0",di._jsonSchema={type:Ae("string",di._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function pa(t,e,n){t=Al(t,He);const r=Al(t.firestore,Yh),s=a0(t.converter,e,n);return u0(r,[e0(Zv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xt.none())])}function bT(t,e){const n=Al(t.firestore,Yh),r=Zi(t),s=a0(t.converter,e);return u0(n,[e0(Zv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xt.exists(!1))]).then(()=>r)}function u0(t,e){return function(r,s){const i=new mr;return r.asyncQueue.enqueueAndForget(async()=>hT(await xT(r),s,i)),i.promise}(TT(t),e)}function Rn(){return new td("serverTimestamp")}(function(e,n=!0){(function(s){xs=s})(ME),Cl(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),a=new Yh(new JE(r.getProvider("auth-internal")),new t2(l,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new W(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(d.options.projectId,p)}(l,s),l);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),es(Rp,Pp,e),es(Rp,Pp,"esm2020")})();const VT={apiKey:"AIzaSyBIKyohpoENAAmXcWwu7Q8pOjonRvy5g_E",authDomain:"danny-redo.firebaseapp.com",projectId:"danny-redo",storageBucket:"danny-redo.firebasestorage.app",messagingSenderId:"861664122007",appId:"1:861664122007:web:75c78636338e2f9b4d05d2"},MT=Yy(VT),Fi=ST(MT),LT={userID:null,treatmentGroup:null,sessionActive:!1,sessionStartTime:null,setUserID:()=>{},setTreatmentGroup:()=>{},setSessionActive:()=>{}},c0=b.createContext(LT),at=()=>b.useContext(c0),OT=({children:t})=>{const[e,n]=b.useState(()=>typeof window<"u"&&sessionStorage.getItem("studyUserID")||null),[r,s]=b.useState(()=>{if(typeof window<"u"){const m=sessionStorage.getItem("treatmentGroup");return m==="treatment"||m==="control"?m:null}return null}),[i,l]=b.useState(()=>typeof window<"u"?!!sessionStorage.getItem("studyUserID"):!1),[a,u]=b.useState(()=>typeof window<"u"&&sessionStorage.getItem("sessionStartTime")||null);b.useEffect(()=>{if(typeof window>"u")return;const m=sessionStorage.getItem("studyUserID"),A=sessionStorage.getItem("treatmentGroup"),N=sessionStorage.getItem("sessionStartTime");m&&!e&&n(m),A&&!r&&(A==="treatment"||A==="control")&&s(A),N&&!a&&u(N),m&&!i&&l(!0)},[]);const d=m=>{n(m),m?sessionStorage.setItem("studyUserID",m):sessionStorage.removeItem("studyUserID")},p=m=>{s(m),m?sessionStorage.setItem("treatmentGroup",m):sessionStorage.removeItem("treatmentGroup")},g=m=>{if(l(m),m){const A=new Date().toISOString();u(A),sessionStorage.setItem("sessionStartTime",A)}else u(null),sessionStorage.removeItem("sessionStartTime")};return b.createElement(c0.Provider,{value:{userID:e,treatmentGroup:r,sessionActive:i,sessionStartTime:a,setUserID:d,setTreatmentGroup:p,setSessionActive:g}},t)};function zT(){const[t,e]=b.useState({age:"",gender:"",education:"",residence:"",healthcareQualification:""}),n=(u,d)=>{e(p=>({...p,[u]:d}))},r=u=>d=>{n(u,d.target.value)},s=ze(),i=at(),l=u=>{u.preventDefault(),(async()=>{try{console.log("Form data:",t);const{userID:d,treatmentGroup:p,randomizationSeed:g}=cw(),m={userID:d,treatmentGroup:p,randomizationSeed:g,sessionActive:!0,sessionStartTime:Rn(),currentPhase:"welcome",createdAt:Rn(),browserInfo:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,age:t.age,gender:t.gender,education:t.education,residence:t.residence,healthcareQualification:t.healthcareQualification,completionStatus:"in_progress"};await pa(Zi(Fi,"participants",d),m),i&&i.setUserID&&i.setUserID(d),i&&i.setTreatmentGroup&&i.setTreatmentGroup(p),i&&i.setSessionActive&&i.setSessionActive(!0),s("/DemographicForm/PersonalityLanding")}catch(d){console.error("Failed to start session:",d)}})()},a=Object.values(t).every(u=>u!=="");return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-bg",children:h.jsxs("div",{className:"max-w-2xl w-full p-6 sm:p-8 lg:p-12 bg-surface rounded-lg shadow-md",children:[h.jsx("h1",{className:"text-2xl sm:text-3xl mb-8 text-text font-bold text-center",children:"Demogrfiai adatok"}),h.jsxs("form",{onSubmit:l,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"age",className:"block text-base font-semibold text-text mb-2",children:"Kor"}),h.jsxs("select",{id:"age",value:t.age,onChange:r("age"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[h.jsx("option",{value:"",children:"Adja meg a kort"}),h.jsx("option",{value:"18-25",children:"18-25"}),h.jsx("option",{value:"26-35",children:"26-35"}),h.jsx("option",{value:"36-45",children:"36-45"}),h.jsx("option",{value:"46-55",children:"46-55"}),h.jsx("option",{value:"56-65",children:"56-65"}),h.jsx("option",{value:"66+",children:"66+"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"gender",className:"block text-base font-semibold text-text mb-2",children:"Nem"}),h.jsxs("select",{id:"gender",value:t.gender,onChange:r("gender"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[h.jsx("option",{value:"",children:"Vlassza ki a nemt"}),h.jsx("option",{value:"male",children:"Frfi"}),h.jsx("option",{value:"female",children:"N"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"education",className:"block text-base font-semibold text-text mb-2",children:"Iskola"}),h.jsxs("select",{id:"education",value:t.education,onChange:r("education"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[h.jsx("option",{value:"",children:"Legmagasabb iskolai vgzettsge"}),h.jsx("option",{value:"elementary",children:"ltalnos iskola"}),h.jsx("option",{value:"high-school",children:"Kzpiskola"}),h.jsx("option",{value:"bachelors",children:"Alapkpzs (BSc)"}),h.jsx("option",{value:"masters",children:"Mesterkpzs (MSc)"}),h.jsx("option",{value:"phd",children:"Doktori fokozat (PhD)"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"residence",className:"block text-base font-semibold text-text mb-2",children:"Lakhely"}),h.jsxs("select",{id:"residence",value:t.residence,onChange:r("residence"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[h.jsx("option",{value:"",children:"Adja meg lakhelyt"}),h.jsx("option",{value:"budapest",children:"Budapest"}),h.jsx("option",{value:"county-seat",children:"Megyeszkhely"}),h.jsx("option",{value:"city",children:"Vros"}),h.jsx("option",{value:"village",children:"Kzsg/Falu"})]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"healthcareQualification",className:"block text-base font-semibold text-text mb-2",children:"Egszsggyi vgzettsg"}),h.jsxs("select",{id:"healthcareQualification",value:t.healthcareQualification,onChange:r("healthcareQualification"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[h.jsx("option",{value:"",children:"Van egszsggyi vgzettsge?"}),h.jsx("option",{value:"none",children:"Nincs"}),h.jsx("option",{value:"nurse",children:"pol/Asszisztens"}),h.jsx("option",{value:"medical-student",children:"Orvostanhallgat"}),h.jsx("option",{value:"doctor",children:"Orvos"}),h.jsx("option",{value:"radiologist",children:"Radiolgus"}),h.jsx("option",{value:"other-healthcare",children:"Egyb egszsggyi"})]})]}),h.jsx("div",{className:"pt-4",children:h.jsx("button",{type:"submit",disabled:!a,className:"w-full px-6 py-3 bg-accent text-white font-semibold rounded-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Teszt kezdse"})})]})]})})}function FT(t){return-t[0]+t[10]+-t[20]+t[30]+-t[40]+t[50]+t[60]+-t[70]+t[80]+t[90]+14}function UT(t){return-t[1]+t[11]+t[21]+-t[31]+t[41]+-t[51]+-t[61]+t[71]+-t[81]+t[91]+20}function BT(t){return t[2]+-t[12]+-t[22]+-t[32]+-t[33]+t[42]+-t[52]+t[62]+t[72]+-t[82]+-t[92]+26}function $T(t){return t[3]+-t[13]+-t[23]+-t[33]+t[43]+-t[53]+-t[63]+t[73]+t[83]+t[93]+20}function HT(t){return t[4]+-t[14]+t[24]+t[34]+-t[44]+-t[54]+t[64]+t[74]+-t[84]+t[94]+14}function WT(t){return t[5]+-t[15]+t[25]+-t[35]+t[45]+-t[55]+t[65]+-t[75]+t[85]+t[95]+14}function KT(t){return t[6]+-t[16]+t[26]+-t[36]+t[46]+t[56]+-t[66]+-t[76]+-t[86]+t[96]+20}function GT(t){return-t[7]+t[17]+t[27]+t[37]+-t[47]+t[57]+-t[67]+-t[77]+-t[87]+t[97]+20}function QT(t){return t[8]+t[18]+-t[28]+t[38]+-t[48]+t[58]+t[68]+-t[78]+t[88]+-t[98]+14}function qT(t){return t[9]+t[19]+t[29]+t[39]+-t[49]+-t[59]+t[69]+-t[79]+-t[89]+t[99]+14}function XT(t){const e=t.map(k=>parseInt(k,10)),n=FT(e),r=UT(e),s=BT(e),i=$T(e),l=HT(e),a=WT(e),u=KT(e),d=GT(e),p=QT(e),g=qT(e),m=n+a,A=r+u,N=s+d,R=i+p;return{openness:l+g,conscientiousness:N,extroversion:R,agreeableness:A,neuroticism:m}}const yu=[["Ritkn vagyok szomor","Kznys vagyok msok problmi irnt","Megvalstom a terveimet","Knnyen bartkozom","Gyorsan megrtem a dolgokat","Knnyen kapok haragra","Tisztelem a hatalommal hatalmat","Szthagyom a cuccaimat","Kezembe veszem az irnytst","lvezem a termszet szpsgt"],["Gyakran ktelkedem a dolgokban","Knnyen tlem msok rzseit","Gyakran pazarlom az idmet","Nehz engem megismerni","Nehezen rtek meg absztrakt gondolatokat","Ritkn vagyok ingerlt","Gyakran gondolom, hogy jobb vagyok msoknl","Szeretem a rendet","Ers szemlyisgem van","Hiszek a mvszet fontossgban"],["Kellemes rzseim vannak magammal kapcsolatban","rdekldm ms emberek jltrl","Nehezem veszem r magamat, hogy nekilljak a dolgomnak","Tvolsgot tartok az msoktl","Knnyen kezelek sok informcit","Knnyen ki lehet hozni a sodrombl","Nem szeretek rmensnek tnni","Rendben tartom a dolgaimat","Nem vagyok meggyz","Szeretsz gondolkodni a dolgokon"],["Knnyen rzem magam veszlyben","Nem lehet megzavarni msok ignyeivel","Gyakran rontok el dolgokat","Kevs informcit osztok meg magamrl","Szeretek megoldani komplex problmkat","Knnyen kezelem az rzelmeimet","Kihasznlok msokat a sajt cljaimra","Idbeosztst kvetek","Tudom, hogy kell elvarzsolni az embereket","Nagyon el tudok veszek a zenben"],["Ritkn rzem magam depresszisnak","Szimpatizlok msok rzseivel","Befejezem, amit elkezdek","Knnyen megtallom msokkal a kzs hangot","Kerlm a filozofikus krdseket s inkbb csevegek","Knnyen vltozik a hangulatom","Nem szeretem a sajt akaratomat rvnyesteni","Nem zavarnak a rendetlen emberek","Nem vagyok vezet tpus","Nem rdekel a kltszet"],["Izguls vagyok","Nehezen helyezem bele magamat msok helyzetbe","Nehezen koncentrlok a feladatra, amit ppen vgzek","Ritkn robbanok szt az izgalomtl","Nem szeretek a nehz olvasmnyokat","Ritkn vesztem el a nyugalmamat","Nem helyezek msokat nyoms al","A tkletessgre trekszem","J vezetnek ltom magamat","Nem ltom az rzelmi httert egy festmnynek"],["Knnyel le lehet engem trni","Keveset foglalkozom msokkal","Gyorsan elintzem a dolgaimat","Nem vagyok nagyon beszdes","Nagyon sznes a szkincsem","Egy olyan ember vagyok, akinek kedve gyorsan megy fel s le","Megsrtek embereket","Nem zavar a rendetlensg","Knnyen rbeszlek embereket dolgokra","Szksgem van r, hogy szabadon engedjem a kreativitsomat"],["Nehz zavarba hozni","rdekldm msok lete irnt","Tudom, hogy mit csinlok","Kimutatom, ha boldog vagyok","Gyorsan gondolkodom","Nehezem lehet felidegesteni","Keresem a konfliktust","Nem szeretem a rutint","Nehezen mondom el a vlemnyemet","Ritkn veszem el a gondolataimban"],["Knnyen kiborulok esemnyektl","Nincsen puha oldalam","Halogatom el a dntseimet","Gyakran szrakozom","Lassan tanulok","Knnyen fel lehet zaklatni","Szeretek egy j vitt","Azt gondolom, hogy a szablyok csak tmutatk","n vagyok az els, aki cselekszik","Ritkn brndozom"],["Sok flelmem van","Szeretek msoknak segteni","Knnyen el lehet vonni a figyelmemet","Nagyon sokat nevetek","Gyorsan tudok j tletekkel elllni","Knny sszezavarni engem","Nem a sajt rdekeimet tartom eltrben","Minden egyes rszletre odafigyelek","Nem vagyok egy hatrozott szemly","Olyan dolgokat ltok szpnek, amiket msok nem vesznek szre"]],ym=3;function YT({assessmentId:t,onSubmit:e}){const[n,r]=b.useState(0),[s,i]=b.useState(Array(100).fill(null)),[l,a]=b.useState(!1),u=ze(),d=at(),p=(N,R)=>{const V=n*10+N,k=[...s];k[V]=R,i(k),a(!1)},g=()=>{const N=s.slice(n*10,(n+1)*10);if(!N.every(k=>k!==null)){a(!0);const k=N.findIndex(x=>x===null);if(k!==-1){const x=document.getElementById(`statement-${k}-1`);x&&x.scrollIntoView({behavior:"smooth",block:"center"})}return}a(!1);const V=yu.slice(0,ym);if(n<V.length-1)r(n+1),window.scrollTo({top:0,behavior:"smooth"});else{const k=s.map(I=>I||"");e&&e(k);const x=XT(k);(async()=>{try{if(!d||!d.userID){console.warn("No active participant in context; skipping personality save"),u("/DemographicForm/CognitiveLanding",{state:{personalityResponses:k}});return}const I=Zi(Fi,"participants",d.userID),j={userID:d.userID,personality:{big5:{openness:x.openness,conscientiousness:x.conscientiousness,extroversion:x.extroversion,agreeableness:x.agreeableness,neuroticism:x.neuroticism},responses:{},savedAt:Rn()}};k.forEach((M,z)=>{j.personality.responses[`q${z+1}`]=M}),await pa(I,j,{merge:!0})}catch(I){console.error("Failed to save personality results to participant_results:",I)}finally{u("/DemographicForm/CognitiveLanding",{state:{personalityResponses:k}})}})()}},m=()=>s.slice(n*10,(n+1)*10).filter(R=>R===null).length,A=yu.slice(0,ym);return h.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:h.jsxs("div",{className:"w-full max-w-xl p-8 md:p-12 shadow-md border border-muted bg-surface rounded-3xl",children:[h.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center",children:"Szemlyisgteszt"}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("p",{className:"text-base text-center mb-3",children:[n+1," / ",A.length]}),h.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${(n+1)/A.length*100}%`}})})]}),A[n].map((N,R)=>{const V=n*10+R,k=s[V]!==null;return h.jsxs("div",{id:`statement-${R}`,className:`mb-5 p-5 rounded-xl transition-all duration-200 ${!k&&l?"border-2 border-red-400":""}`,style:{background:"linear-gradient(135deg, rgba(37,99,235,0.04), rgba(255,255,255,1))"},children:[h.jsx("p",{className:"mb-4 text-base leading-relaxed",children:N}),h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsxs("div",{className:"flex justify-between w-full mb-3",children:[h.jsx("span",{className:"text-sm font-semibold",children:"Nem jellemz rm"}),h.jsx("span",{className:"text-sm font-semibold",children:"Jellemz rm"})]}),h.jsx("div",{className:"flex justify-between w-full max-w-xs md:max-w-md",children:[1,2,3,4,5].map(x=>h.jsxs("label",{className:"flex flex-col items-center cursor-pointer select-none",children:[h.jsx("span",{className:"text-sm text-gray-600 mb-1",children:x}),h.jsx("input",{type:"radio",name:`q-${V}`,value:x,checked:s[V]===x.toString(),onChange:()=>p(R,x.toString()),id:`statement-${R}-${x}`,className:"w-5 h-5 border-2 border-gray-300 rounded-full accent-accent"})]},x))})]})]},R)}),h.jsxs("div",{className:"flex flex-col items-center mt-8",children:[l&&h.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-md flex items-center",children:[h.jsxs("svg",{className:"h-5 w-5 text-red-600 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[h.jsx("path",{d:"M12 9v4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("path",{d:"M12 17h.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),h.jsxs("span",{className:"text-sm font-medium",children:["Krjk, vlaszolj minden krdsre (",m()," megvlaszolatlan)"]})]}),h.jsx("button",{onClick:g,className:"w-full py-3 px-6 text-lg font-semibold text-white rounded-lg shadow bg-accent hover:opacity-95 transition transform",children:n===yu.length-1?"Bekld":"Kvetkez"})]})]})})}function JT({assessmentId:t,personalityResponses:e,onComplete:n,isSubmittingFinal:r=!1}){const[s,i]=b.useState(1),[l,a]=b.useState(null),[u,d]=b.useState(60),[p,g]=b.useState(0),[m,A]=b.useState(!1),[N,R]=b.useState({});sa();const V=ze(),k=at();b.useEffect(()=>{d(60);const M=setInterval(()=>{d(z=>z<=1?(clearInterval(M),I(null),60):z-1)},1e3);return()=>clearInterval(M)},[s]);const x=M=>{a(M+1)},I=M=>{const z=`q${s}`,E={...N,[z]:M===null?0:M};R(E),M!==null&&g(v=>v+1),a(null),d(60),s<10?i(v=>v+1):A(!0)},j=()=>{n&&n(N,p),(async()=>{try{if(!k||!k.userID){console.warn("No active participant; skipping IQ save"),V("/pretest");return}const M={q1:1,q2:2,q3:3,q4:5,q5:1,q6:6,q7:4,q8:3,q9:6,q10:3};let z=0;for(let S=1;S<=10;S++){const _=`q${S}`,w=N[_];w!=null&&w===M[_]&&z++}const E=Zi(Fi,"participants",k.userID),v={userID:k.userID,cognitive:{responses:{},score:z,savedAt:Rn()}};for(let S=1;S<=10;S++)v.cognitive.responses[`q${S}`]=N[`q${S}`]??null;await pa(E,v,{merge:!0})}catch(M){console.error("Failed to save IQ score",M)}finally{const M=k&&String(k.userID||"").startsWith("1")?"experimental":"control";V(`/baseline/${M}-landing`)}})()};return m?h.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:h.jsxs("div",{className:"w-full max-w-md bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted text-center",children:[h.jsx("div",{className:"text-center mb-8",children:h.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-4 text-text",children:"Siker!"})}),h.jsxs("div",{className:"space-y-4 text-lg text-text",children:[h.jsx("p",{children:"Ksznjk a rszvtelt!"}),h.jsx("p",{children:"Kldd be neknk a tesztet"})]}),h.jsx("button",{className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",onClick:j,disabled:r,children:r?"Beklds...":"Bekld"})]})}):h.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:h.jsxs("div",{className:"w-full max-w-3xl bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted relative",children:[h.jsxs("div",{className:"pb-6 flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:["Krds ",s," / 10"]}),h.jsx("p",{className:"text-lg text-text",children:"Vlaszd ki azt a kpet amelyik a legjobban beleillik a fenti kpbe"})]}),h.jsxs("div",{className:"w-28 h-20 shrink-0 bg-muted p-3 rounded-xl shadow-sm mt-6 sm:mt-0",children:[h.jsx("h3",{className:"text-xs font-semibold text-center text-text mb-1",children:"Htralv id"}),h.jsx("div",{className:"w-full bg-accent-2/10 rounded-full h-2 mb-1",children:h.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-100 ease-linear",style:{width:`${u/60*100}%`}})}),h.jsxs("p",{className:"text-sm font-medium text-center text-text",children:[u," mp"]})]})]}),h.jsxs("div",{className:"space-y-8 mt-8",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"w-full overflow-hidden rounded-xl shadow-lg border border-muted",children:h.jsx("img",{src:`/cognitivePics/${s}.png`,alt:`Question ${s}`,className:"w-full h-auto object-contain mx-auto",style:{maxHeight:"45vh"}})})}),h.jsx("div",{className:"grid grid-cols-3 gap-3 md:gap-4 w-full max-w-lg mx-auto",children:[1,2,3,4,5,6].map(M=>h.jsx("button",{onClick:()=>x(M-1),className:`rounded-xl shadow-md overflow-hidden relative transition-all duration-200 transform hover:scale-105 ${l===M?"ring-4 ring-accent border-2 border-white":"border-2 border-transparent"}`,children:h.jsxs("div",{className:"w-full pt-[60%] relative",children:[h.jsx("img",{src:`/cognitivePics/${s}.${M}.png`,alt:`Option ${M}`,className:"absolute inset-0 w-full h-full object-contain"}),l===M&&h.jsx("div",{className:"absolute inset-0 bg-accent opacity-20"})]})},M))}),h.jsx("button",{onClick:()=>I(l),disabled:l===null,className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",children:s<10?"Kvetkez":"Mehet"})]})]})})}const ZT=()=>{const t=ze(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=be.colors,r=be.shadows,s=be.radii;return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:h.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[h.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[h.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Szemlyisg krdv"}),h.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("span",{children:"5 perc"})]}),h.jsx("div",{className:"opacity-50",children:"|"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),h.jsx("span",{children:"44 krds"})]})]})]}),h.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi kvetkezik?"}),h.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rvid szemlyisgteszt, amely t alapvet szemlyisgdimenzit mr. Nincsenek j vagy rossz vlaszok  csak az szmt, hogy szintn vlaszolj."})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mirt fontos ez a teszt?"}),h.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutats azt vizsglja, hogy a szemlyisgbeli klnbsgek befolysoljk-e a tanulst s a teljestmnyt orvosi kpek rtkelsben. Az eredmnyek segtenek megrteni, ki hogyan tanul s dolgozik mestersges intelligencia segtsgvel."})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 text-3xl",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),h.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:'Vlaszolj szintn  nincs elvrt vagy "helyes" vlasz'})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Olvasd el figyelmesen a krdseket"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Az els vlaszod ltalban a legjobb"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"A teszt ~5 percet vesz ignybe"})]})]})]})]})}),h.jsx("div",{className:"flex justify-center pt-4",children:h.jsx("button",{onClick:()=>t("/DemographicForm/Personality"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovbb a teszthez "})})]})]})})},ek=()=>{const t=ze(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=be.colors,r=be.shadows,s=be.radii;return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:h.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[h.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[h.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Kognitv kpessgek teszt"}),h.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.jsx("span",{children:"10 perc"})]}),h.jsx("div",{className:"opacity-50",children:"|"}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),h.jsx("span",{children:"10 krds"})]})]})]}),h.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi kvetkezik?"}),h.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rvid intelligenciatesztet fogsz kitlteni, amely logikai gondolkodst, mintafelismerst s problmamegoldst mr. Ne aggdj  a feladatok nehezednek, de senki sem oldja meg mindet."})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:h.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mirt fontos ez a teszt?"}),h.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutats azt vizsglja, hogy a kognitv kpessgek befolysoljk-e a tanulsi sebessget s a teljestmnyt a radiolgiai feladatban. Az eredmnyek segtenek megrteni, hogyan lehet optimalizlni az AI-asszisztlt kprtkelst."})]})]})}),h.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"flex-shrink-0 text-3xl",children:""}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),h.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Dolgozz csendben, hasznlj paprt s ceruzt szmolshoz"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Ne hasznlj szmolgpet vagy internetet"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Nem baj, ha nem tudsz minden feladatot megoldani"})]}),h.jsxs("li",{className:"flex items-start gap-3",children:[h.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:h.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),h.jsx("span",{children:"Koncentrlj, de ne stresszelj  add meg a legtbbet, amire kpes vagy"})]})]})]})]})}),h.jsx("div",{className:"flex justify-center pt-4",children:h.jsx("button",{onClick:()=>t("/DemographicForm/Cognitive"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovbb a teszthez "})})]})]})})};function tk(){var V,k,x;let t=null;const[e,n]=b.useState(0),[r,s]=b.useState(!1),[i,l]=b.useState(!1),a=ze(),u=at(),d=I=>{t=I},p=()=>{const I=t;if(!I)return;const j=I.currentTime/Math.max(I.duration,1)*100;n(Math.floor(j))},g=()=>{s(!0),n(100)},m=()=>{if(!r)return;if(!(sessionStorage.getItem("studyUserID")||u&&u.userID)){a("/DemographicForm/Demographics");return}const M=u&&String(u.userID||"").startsWith("1")?"experimental":"control";a(`/baseline/${M}-landing`)},A=(V=be==null?void 0:be.colors)==null?void 0:V.accent,N=(k=be==null?void 0:be.colors)==null?void 0:k.muted,R=(x=be==null?void 0:be.colors)==null?void 0:x.surface;return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",children:h.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:R},children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bevezet vide"}),h.jsx("div",{className:"mb-6 flex justify-center",children:h.jsx("div",{className:"w-full",style:{maxWidth:1100},children:h.jsx("video",{ref:d,src:"/video.mp4",controls:!0,onTimeUpdate:p,onEnded:g,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})}),h.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[r&&h.jsxs("label",{className:"flex items-center gap-3",children:[h.jsx("input",{type:"checkbox",checked:i,onChange:I=>l(I.target.checked),className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"Megnztem a teljes videt s megrtettem a feladatot"})]}),h.jsx("button",{disabled:!r||!i,onClick:m,"aria-disabled":!r||!i,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:r&&i?A:N},children:"Tovbb a tesztre"})]})]})})}function Rc({onSelect:t,onClose:e}){const[n,r]=b.useState(null);return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:h.jsxs("div",{className:"bg-white rounded p-6 w-96",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mennyire vagy biztos a dntsedben?"}),h.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[h.jsx("span",{children:"bizonytalan"}),h.jsx("span",{children:"biztos"})]}),h.jsx("div",{className:"flex justify-between items-center mb-4",children:[1,2,3,4,5,6,7].map(s=>h.jsx("button",{onClick:()=>r(s),className:`px-3 py-2 rounded border ${n===s?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:s},s))}),h.jsx("div",{className:"flex justify-end gap-2",children:h.jsx("button",{onClick:()=>n&&t(n),disabled:!n,className:`px-3 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Tovbb"})})]})})}function nk({imageSrc:t,onComplete:e}){const[n,r]=b.useState(null),[s,i]=b.useState(!1),l=b.useRef(null);b.useEffect(()=>{l.current=Date.now(),r(null),i(!1)},[t]);const a=()=>{i(!0)},u=d=>{const p=Date.now(),g=l.current,m=g?(p-g)/1e3:0;i(!1),e({response:n,confidence:d,time_sec:m}),r(null),i(!1)};return h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("div",{className:"mb-4",children:h.jsx("img",{src:t,alt:"stim",className:"w-full h-72 object-contain rounded border"})}),h.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[h.jsx("button",{type:"button",onClick:()=>r("igen"),className:`px-4 py-2 rounded border ${n==="igen"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"igen"}),h.jsx("button",{type:"button",onClick:()=>r("nem"),className:`px-4 py-2 rounded border ${n==="nem"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"nem"})]}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{disabled:!n,onClick:a,className:`px-6 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Continue"})}),s&&h.jsx(Rc,{onSelect:u,onClose:()=>i(!1)})]})})}function rk({src:t,onChange:e,overlayBox:n,imgRef:r,enabled:s=!0}){const i=r||b.useRef(null),l=b.useRef(null),a=b.useRef(null),[u,d]=b.useState(!1),[p,g]=b.useState(null),[m,A]=b.useState(null),N=_=>{if(!_)return null;if(typeof _.clientX=="number"&&typeof _.clientY=="number")return{clientX:_.clientX,clientY:_.clientY};const w=_.touches&&_.touches[0]?_.touches[0]:_.changedTouches&&_.changedTouches[0]?_.changedTouches[0]:null;return w?{clientX:w.clientX,clientY:w.clientY}:null},R=(_,w)=>{const C=i.current;if(!C)return null;const T=C.getBoundingClientRect(),J=Math.max(0,Math.min(T.width,_-T.left)),ge=Math.max(0,Math.min(T.height,w-T.top));return{x:J,y:ge,rect:T}},V=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),T=w.naturalWidth/C.width,J=w.naturalHeight/C.height;return{x:Math.round(_.x*T),y:Math.round(_.y*J),width:Math.round(_.width*T),height:Math.round(_.height*J)}},k=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),T=C.width/w.naturalWidth,J=C.height/w.naturalHeight;return{x:_.x*T,y:_.y*J,width:_.width*T,height:_.height*J}},x=()=>{const _=i.current,w=l.current;if(!_||!w)return;const C=_.getBoundingClientRect();w.width=Math.round(C.width),w.height=Math.round(C.height),w.style.width=`${Math.round(C.width)}px`,w.style.height=`${Math.round(C.height)}px`;try{a&&a.current&&(a.current.style.width=`${Math.round(C.width)}px`,a.current.style.height=`${Math.round(C.height)}px`)}catch{}E()};b.useEffect(()=>(window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)),[]),b.useEffect(()=>{if(n){const _=k(n);A(_)}else A(null)},[n]);const I=_=>{if(!s)return;const w=N(_);if(!w)return;const C=R(w.clientX,w.clientY);C&&(g({x:C.x,y:C.y}),d(!0))},j=_=>{if(!s||!u||!p)return;const w=N(_);if(!w)return;const C=R(w.clientX,w.clientY);if(!C)return;const T=Math.min(p.x,C.x),J=Math.min(p.y,C.y),ge=Math.abs(C.x-p.x),de=Math.abs(C.y-p.y);A({x:T,y:J,width:ge,height:de}),E()},M=_=>{if(!m){d(!1),g(null);return}try{_&&_.preventDefault&&_.preventDefault()}catch{}const w=V(m);e(w),d(!1),g(null)},z=()=>{A(null),e(null),E()},E=()=>{const _=l.current;if(!_)return;const w=_.getContext("2d");w&&(w.clearRect(0,0,_.width,_.height),m&&(w.strokeStyle="rgba(16,185,129,0.95)",w.lineWidth=2,w.setLineDash([6,4]),w.strokeRect(m.x,m.y,m.width,m.height),w.fillStyle="rgba(16,185,129,0.12)",w.fillRect(m.x,m.y,m.width,m.height)))},v=_=>{if(!m)return;const w=R(_.clientX,_.clientY);if(!w)return;const C=m.x+m.width-10,T=m.y+10,J=w.x-C,ge=w.y-T;J*J+ge*ge<=10*10&&z()};return b.useEffect(()=>{const _=i.current;if(!_)return;const w=()=>{x()};try{_.addEventListener&&_.addEventListener("load",w)}catch{}x();const C=l.current,T=de=>{de.preventDefault&&de.preventDefault(),j(de)},J=de=>{de.preventDefault&&de.preventDefault(),I(de)},ge=de=>{de.preventDefault&&de.preventDefault(),M(de)};try{C&&C.addEventListener&&(C.addEventListener("touchstart",J,{passive:!1}),C.addEventListener("touchmove",T,{passive:!1}),C.addEventListener("touchend",ge,{passive:!1}),C.addEventListener("touchcancel",ge,{passive:!1}))}catch{}return()=>{try{_.removeEventListener&&_.removeEventListener("load",w),C&&C.removeEventListener&&(C.removeEventListener("touchstart",J),C.removeEventListener("touchmove",T),C.removeEventListener("touchend",ge),C.removeEventListener("touchcancel",ge))}catch{}}},[t]),b.useEffect(()=>{E()},[m,n]),!r?h.jsxs("div",{className:"w-full",ref:a,children:[h.jsxs("div",{className:"relative w-full border rounded-md overflow-hidden",style:{height:"18rem"},children:[h.jsx("img",{ref:i,src:t,alt:"annotation",className:"w-full h-full object-contain block",draggable:!1}),h.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:M,onClick:v,style:{position:"absolute",left:0,top:0,pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}})]}),h.jsx("div",{className:"mt-2 flex gap-2",children:h.jsx("button",{className:"px-3 py-1 bg-gray-100 rounded",onClick:z,children:"Clear box"})})]}):h.jsxs("div",{ref:a,style:{position:"absolute",inset:0,pointerEvents:"none"},children:[h.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:M,onClick:v,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}}),m&&h.jsx("button",{onClick:z,style:{position:"absolute",left:m.x+m.width-12,top:m.y-12,width:24,height:24,borderRadius:12,background:"white",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",cursor:"pointer"},title:"Clear box",children:""})]})}function sk({imageSrc:t,userBox:e,aiBox:n,aiPrediction:r,aiConfidence:s,iouPercent:i,initialDecision:l,onRevise:a,onContinue:u}){const[d,p]=b.useState(l??r),g=b.useRef(null),m=b.useRef(null);return b.useEffect(()=>{const A=g.current,N=m.current;if(!A||!N)return;const R=N.getContext("2d");if(!R)return;const V=()=>{N.width=A.clientWidth,N.height=A.clientHeight,R.clearRect(0,0,N.width,N.height);const x=(I,j,M)=>{if(!I)return;const z=A.naturalWidth,E=A.naturalHeight,v=A.clientWidth/z,S=A.clientHeight/E,_=I.x*v,w=I.y*S,C=I.width*v,T=I.height*S;R.strokeStyle=j,R.lineWidth=2,R.strokeRect(_,w,C,T),R.fillStyle=j,R.font="12px sans-serif",R.fillText(M,_+4,w+12)};x(n,"rgba(220,20,60,0.9)","AI"),x(e,"rgba(30,144,255,0.9)","You")};A.complete&&V();const k=()=>V();return window.addEventListener("resize",V),A.addEventListener("load",k),()=>{window.removeEventListener("resize",V),A.removeEventListener("load",k)}},[t,e,n]),h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:h.jsxs("div",{className:"bg-white rounded p-4 max-w-3xl w-full",children:[h.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI eredmny"}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("div",{className:"w-2/3",children:[h.jsxs("div",{className:"relative border rounded",children:[h.jsx("img",{ref:g,src:t,alt:"stim",className:"w-full h-72 object-contain"}),h.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-none"})]}),h.jsxs("p",{className:"mt-2 text-sm",children:["DoBoV overlap: ",h.jsxs("strong",{children:[Math.round(i),"%"]})]})]}),h.jsxs("div",{className:"w-1/3",children:[h.jsxs("p",{className:"mb-2",children:["AI predikci: ",h.jsx("strong",{children:r})]}),h.jsxs("p",{className:"mb-2",children:["AI biztonsg: ",h.jsxs("strong",{children:[Math.round(s*100),"%"]})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block mb-1",children:"Javtsd a dntsed (ha szksges):"}),h.jsxs("select",{className:"w-full p-2 border rounded",value:d,onChange:A=>p(A.target.value),children:[h.jsx("option",{value:"yes",children:"Igen"}),h.jsx("option",{value:"no",children:"Nem"})]})]}),h.jsx("div",{className:"flex justify-end gap-2",children:h.jsx("button",{onClick:()=>{a(d),u()},className:"px-3 py-2 rounded bg-accent text-white",children:"Mehet"})})]})]})]})})}function vm(t,e){const n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),s=Math.min(t.x+t.width,e.x+e.width),i=Math.min(t.y+t.height,e.y+e.height),l=Math.max(0,s-n)*Math.max(0,i-r),a=t.width*t.height,u=e.width*e.height,d=a+u-l;return d<=0?0:l/d}function ik({imageSrc:t,onComplete:e,aiPrediction:n,aiBox:r,aiConfidence:s}){const[i,l]=b.useState(null),[a,u]=b.useState(null),[d,p]=b.useState(null),[g,m]=b.useState(!1),[A,N]=b.useState(!1),[R,V]=b.useState(!1),[k,x]=b.useState(!1),I=b.useRef(null),[j,M]=b.useState(null),[z,E]=b.useState(null),[v,S]=b.useState(null);b.useEffect(()=>{I.current=Date.now(),l(null),u(null),p(null),m(!1),N(!1),V(!1),x(!1),M(null),E(null),S(null)},[t]);const _=a==="tnet"||a==="bizonytalan",w=!!a&&(a==="nincsen tnet"||a==="bizonytalan"||a==="tnet"&&!!d),C=w&&!!i,T=()=>m(K=>!K),J=()=>{V(!0)},ge=K=>{M(K)},de=()=>{N(!1),x(!0)},Jn=K=>{E(K),V(!1),N(!0)},B=K=>{S(K),x(!1);const re=Date.now(),ye=I.current?(re-I.current)/1e3:0,en=j||i,ut=d&&r?vm(d,r):null;e({initial_decision:i,dropdown_choice:a,user_box:d,ai_box:r,ai_prediction:n,ai_confidence:s,bbox_iou:ut,decision_revised_after_ai:!!j,final_decision:en,initial_confidence:z,post_ai_confidence:K,time_sec:ye})},G=b.useRef(null);return h.jsx("div",{className:"w-full",children:h.jsxs("div",{className:"max-w-3xl mx-auto",children:[h.jsx("div",{className:"mb-4",children:h.jsxs("div",{className:"relative border rounded-md overflow-hidden",style:{height:"18rem"},children:[h.jsx("img",{ref:G,src:t,alt:"stim",className:"w-full h-full object-contain block",draggable:!1}),h.jsx("div",{className:"absolute left-4 top-4 bg-white/60 px-2 py-1 rounded text-sm",children:"baseline (AI)"}),h.jsx(rk,{imgRef:G,onChange:K=>{p(K)},overlayBox:d,enabled:g&&_})]})}),h.jsxs("div",{className:"flex justify-center mb-4",children:[h.jsxs("select",{value:a||"",onChange:K=>{const re=K.target.value;u(re),m(re==="tnet")},className:"p-2 border rounded",children:[h.jsx("option",{value:"",children:"Vlassz opcit"}),h.jsx("option",{value:"tnet",children:"tnet"}),h.jsx("option",{value:"bizonytalan",children:"bizonytalan"}),h.jsx("option",{value:"nincsen tnet",children:"nincsen tnet"})]}),h.jsx("button",{onClick:T,disabled:!_,className:`ml-2 px-3 py-2 rounded ${g?"bg-green-500 text-white":"bg-gray-100"} disabled:opacity-50`,children:"Rajzols"})]}),h.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[h.jsx("button",{onClick:()=>w&&l("yes"),disabled:!w,className:`px-4 py-2 rounded border ${i==="yes"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"igen"}),h.jsx("button",{onClick:()=>w&&l("no"),disabled:!w,className:`px-4 py-2 rounded border ${i==="no"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"nem"})]}),h.jsx("div",{className:"mb-4"}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{disabled:!C,onClick:J,className:`px-6 py-2 rounded ${C?"bg-accent text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Kvetkez"})}),A&&h.jsx(sk,{imageSrc:t,userBox:d,aiBox:r,aiPrediction:n,aiConfidence:s,iouPercent:d&&r?vm(d,r)*100:0,initialDecision:i,onRevise:ge,onContinue:de}),R&&h.jsx(Rc,{onSelect:Jn,onClose:()=>V(!1)}),k&&h.jsx(Rc,{onSelect:B,onClose:()=>x(!1)})]})})}function Zt({phase:t,mode:e,poolFolder:n,trialsCount:r=10,onFinish:s}){const i=at(),l=By(),a=ze(),[u,d]=b.useState(0),[p,g]=b.useState([]),m=t||l.phase||"baseline",A=n||m;b.useEffect(()=>{const I=[];for(let j=1;j<=r;j++)I.push(`/annotation/${A}/${j}.png`);g(I)},[A,r]);const N=e||(()=>{if(!i||!i.treatmentGroup||m==="baseline"||m==="screening")return"noai";const I=String(i.treatmentGroup||"");return I==="treatment"||I==="1"||I.startsWith("1")?"ai":"noai"})(),R=p[u%p.length],V=async I=>{if(!i||!i.userID){console.warn("No userID, skipping save");return}const j={userID:i.userID,participantID:i.userID,phase:m,trialNum:u+1,trialType:m,trialIndex:u+1,imageID:R,timestamp:Rn(),treatmentGroup:i.treatmentGroup,...I};try{await bT(ET(Fi,"trials"),j);const M={userID:i.userID,sessionActive:!0,currentPhase:m,lastTrialAt:Rn(),[`${m}_trial_${u+1}`]:{image:R,trialType:m,trialIndex:u+1,...I,savedAt:Rn()},trials_map:{[`${m}_${u+1}`]:{image:R,trialType:m,trialIndex:u+1,...I,savedAt:Rn()}}};await pa(Zi(Fi,"participants",i.userID),M,{merge:!0})}catch(M){console.error("Failed to save trial",M)}},k=async I=>{if(await V(I),u+1>=r)if(s)s();else{const j=["baseline","experiment","posttest","done"],M=j.indexOf(m),z=M>=0&&M<j.length-1?j[M+1]:"done";if(z==="done")a("/done");else{const E=i&&String(i.userID||"").startsWith("1")?"experimental":"control";a(`/${z}/${E}-landing`)}}else d(u+1)},x={aiPrediction:"yes",aiBox:{x:120,y:80,width:200,height:150},aiConfidence:.72};return h.jsx("div",{className:"min-h-screen p-6 bg-bg",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("h2",{className:"text-xl font-bold mb-4",children:[m," (",N==="ai"?"AI":"No AI",")"]}),N==="noai"?h.jsx(nk,{imageSrc:R,onComplete:k},`trial-${u}`):h.jsx(ik,{imageSrc:R,onComplete:k,aiPrediction:x.aiPrediction,aiBox:x.aiBox,aiConfidence:x.aiConfidence},`trial-${u}`)]})})}function ok(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test control (id starting with 0)"}),h.jsx("p",{className:"mb-6",children:"This is the landing page for control participants (userID starts with 0). Press start to begin the pre-test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/pretest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (control)"})})]})})}function lk(){return h.jsx(Zt,{phase:"pretest",mode:"noai",poolFolder:"screening",trialsCount:5})}function ak(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test experimental (id starting with 1)"}),h.jsx("p",{className:"mb-6",children:"This is the landing page for experimental participants (userID starts with 1). Press start to begin the pre-test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/pretest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (experimental)"})})]})})}function uk(){return h.jsx(Zt,{phase:"pretest",mode:"ai",poolFolder:"screening",trialsCount:5})}function ck(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"baseline control (id starting with 0)"}),h.jsx("p",{className:"mb-6",children:"Landing page for control group before baseline test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/baseline/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start baseline (control)"})})]})})}function hk(){return h.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function dk(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"baseline experimental (id starting with 1)"}),h.jsx("p",{className:"mb-6",children:"Landing page for experimental group before baseline test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/baseline/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start baseline (experimental)"})})]})})}function fk(){return h.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function pk(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment control (id starting with 0)"}),h.jsx("p",{className:"mb-6",children:"Landing page for control group before experiment test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/experiment/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start experiment (control)"})})]})})}function mk(){return h.jsx(Zt,{phase:"experiment",mode:"noai",poolFolder:"experiment",trialsCount:5})}function gk(){const t=ze(),e=at();return b.useEffect(()=>{const n=sessionStorage.getItem("studyUserID")||e&&e.userID;console.debug("ExperimentExperimentalLanding effect, session uid=",sessionStorage.getItem("studyUserID"),"app.userID=",e&&e.userID),e&&(n||(console.warn("No user id found in app or sessionStorage  redirecting to demographics"),t("/DemographicForm/Demographics")))},[e,t]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment experimental (id starting with 1)"}),h.jsx("p",{className:"mb-6",children:"Landing page for experimental group before experiment test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/experiment/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start experiment (experimental)"})}),h.jsxs("div",{className:"mt-6 text-left bg-white border p-3 rounded",children:[h.jsx("h4",{className:"font-semibold mb-2",children:"Debug / session info"}),h.jsxs("p",{className:"text-sm",children:["sessionStorage.studyUserID:"," ",h.jsx("code",{children:sessionStorage.getItem("studyUserID")||"null"})]}),h.jsxs("p",{className:"text-sm",children:["app.userID: ",h.jsx("code",{children:e&&e.userID||"null"})]}),h.jsxs("p",{className:"text-sm",children:["app.treatmentGroup: ",h.jsx("code",{children:e&&e.treatmentGroup||"null"})]}),h.jsxs("div",{className:"mt-2",children:[h.jsx("button",{onClick:()=>t("/experiment/experimental"),className:"px-3 py-1 bg-gray-200 rounded mr-2",children:"Continue anyway"}),h.jsx("button",{onClick:()=>{sessionStorage.removeItem("studyUserID"),t("/DemographicForm/Demographics")},className:"px-3 py-1 bg-red-100 rounded",children:"Clear session and restart"})]})]})]})})}function yk(){return h.jsx(Zt,{phase:"experiment",mode:"ai",poolFolder:"experiment",trialsCount:5})}function vk(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"post-test control (id starting with 0)"}),h.jsx("p",{className:"mb-6",children:"Landing page for control group before post-test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/posttest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start post-test (control)"})})]})})}function _k(){return h.jsx(Zt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function xk(){const t=ze(),e=at();return b.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-2xl font-bold mb-4",children:"post-test experimental (id starting with 1)"}),h.jsx("p",{className:"mb-6",children:"Landing page for experimental group before post-test."}),h.jsx("div",{className:"flex justify-center",children:h.jsx("button",{onClick:()=>t("/posttest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start post-test (experimental)"})})]})})}function wk(){return h.jsx(Zt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function Ek(){const t=By(),e=ze();return b.useEffect(()=>{const n=t.rest||"";e(`/posttest/${n}`,{replace:!0})},[t,e]),null}function Sk(){return h.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:h.jsxs("div",{className:"max-w-2xl w-full text-center",children:[h.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Ksznjk!"}),h.jsx("p",{className:"mb-6",children:"A ksrlet befejezdtt. Ksznjk a rszvtelt!"})]})})}function Tk(){return h.jsxs(nw,{children:[h.jsx(se,{path:"/",element:h.jsx(uw,{})}),h.jsx(se,{path:"/DemographicForm/Demographics",element:h.jsx(zT,{})}),h.jsx(se,{path:"/DemographicForm/PersonalityLanding",element:h.jsx(ZT,{})}),h.jsx(se,{path:"/DemographicForm/Personality",element:h.jsx(YT,{})}),h.jsx(se,{path:"/test/baseline",element:h.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline"})}),h.jsx(se,{path:"/test/:phase",element:h.jsx(Zt,{phase:void 0,mode:"noai",poolFolder:"baseline"})}),h.jsx(se,{path:"/pretest",element:h.jsx(ew,{to:"/baseline/control-landing",replace:!0})}),h.jsx(se,{path:"/pretest/control-landing",element:h.jsx(ok,{})}),h.jsx(se,{path:"/pretest/control",element:h.jsx(lk,{})}),h.jsx(se,{path:"/pretest/experimental-landing",element:h.jsx(ak,{})}),h.jsx(se,{path:"/pretest/experimental",element:h.jsx(uk,{})}),h.jsx(se,{path:"/baseline/control-landing",element:h.jsx(ck,{})}),h.jsx(se,{path:"/baseline/control",element:h.jsx(hk,{})}),h.jsx(se,{path:"/baseline/experimental-landing",element:h.jsx(dk,{})}),h.jsx(se,{path:"/baseline/experimental",element:h.jsx(fk,{})}),h.jsx(se,{path:"/experiment/control-landing",element:h.jsx(pk,{})}),h.jsx(se,{path:"/experiment/control",element:h.jsx(mk,{})}),h.jsx(se,{path:"/experiment/experimental-landing",element:h.jsx(gk,{})}),h.jsx(se,{path:"/experiment/experimental",element:h.jsx(yk,{})}),h.jsx(se,{path:"/posttest/control-landing",element:h.jsx(vk,{})}),h.jsx(se,{path:"/posttest/control",element:h.jsx(_k,{})}),h.jsx(se,{path:"/posttest/experimental-landing",element:h.jsx(xk,{})}),h.jsx(se,{path:"/posttest/experimental",element:h.jsx(wk,{})}),h.jsx(se,{path:"/post_experiment/:rest",element:h.jsx(Ek,{})}),h.jsx(se,{path:"/done",element:h.jsx(Sk,{})}),h.jsx(se,{path:"/DemographicForm/CognitiveLanding",element:h.jsx(ek,{})}),h.jsx(se,{path:"/DemographicForm/Cognitive",element:h.jsx(JT,{})}),h.jsx(se,{path:"/InstructionsPage/InstructionsPage",element:h.jsx(tk,{})})]})}const kk=jy(document.getElementById("root"));kk.render(h.jsx(b.StrictMode,{children:h.jsx(sw,{children:h.jsx(OT,{children:h.jsx(Tk,{})})})}));
