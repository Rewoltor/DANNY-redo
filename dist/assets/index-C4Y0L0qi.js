function F0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function U0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _m={exports:{}},Fl={},xm={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ui=Symbol.for("react.element"),B0=Symbol.for("react.portal"),$0=Symbol.for("react.fragment"),H0=Symbol.for("react.strict_mode"),W0=Symbol.for("react.profiler"),K0=Symbol.for("react.provider"),G0=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),q0=Symbol.for("react.suspense"),X0=Symbol.for("react.memo"),Y0=Symbol.for("react.lazy"),ef=Symbol.iterator;function J0(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var wm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Em=Object.assign,km={};function ms(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||wm}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sm(){}Sm.prototype=ms.prototype;function Pc(t,e,n){this.props=t,this.context=e,this.refs=km,this.updater=n||wm}var jc=Pc.prototype=new Sm;jc.constructor=Pc;Em(jc,ms.prototype);jc.isPureReactComponent=!0;var tf=Array.isArray,Tm=Object.prototype.hasOwnProperty,Dc={current:null},Im={key:!0,ref:!0,__self:!0,__source:!0};function Cm(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Tm.call(e,r)&&!Im.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Ui,type:t,key:i,ref:l,props:s,_owner:Dc.current}}function Z0(t,e){return{$$typeof:Ui,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ui}function e1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function Ma(t,e){return typeof t=="object"&&t!==null&&t.key!=null?e1(""+t.key):e.toString(36)}function Mo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ui:case B0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Ma(l,0):r,tf(s)?(n="",t!=null&&(n=t.replace(nf,"$&/")+"/"),Mo(s,e,n,"",function(d){return d})):s!=null&&(bc(s)&&(s=Z0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nf,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",tf(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Ma(i,a);l+=Mo(i,e,n,c,s)}else if(c=J0(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Ma(i,a++),l+=Mo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function fo(t,e,n){if(t==null)return t;var r=[],s=0;return Mo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function t1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Lo={transition:null},n1={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Lo,ReactCurrentOwner:Dc};J.Children={map:fo,forEach:function(t,e,n){fo(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return fo(t,function(){e++}),e},toArray:function(t){return fo(t,function(e){return e})||[]},only:function(t){if(!bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};J.Component=ms;J.Fragment=$0;J.Profiler=W0;J.PureComponent=Pc;J.StrictMode=H0;J.Suspense=q0;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n1;J.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Em({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Dc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Tm.call(e,c)&&!Im.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Ui,type:t.type,key:s,ref:i,props:r,_owner:l}};J.createContext=function(t){return t={$$typeof:G0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:K0,_context:t},t.Consumer=t};J.createElement=Cm;J.createFactory=function(t){var e=Cm.bind(null,t);return e.type=t,e};J.createRef=function(){return{current:null}};J.forwardRef=function(t){return{$$typeof:Q0,render:t}};J.isValidElement=bc;J.lazy=function(t){return{$$typeof:Y0,_payload:{_status:-1,_result:t},_init:t1}};J.memo=function(t,e){return{$$typeof:X0,type:t,compare:e===void 0?null:e}};J.startTransition=function(t){var e=Lo.transition;Lo.transition={};try{t()}finally{Lo.transition=e}};J.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};J.useCallback=function(t,e){return ot.current.useCallback(t,e)};J.useContext=function(t){return ot.current.useContext(t)};J.useDebugValue=function(){};J.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};J.useEffect=function(t,e){return ot.current.useEffect(t,e)};J.useId=function(){return ot.current.useId()};J.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};J.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};J.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};J.useMemo=function(t,e){return ot.current.useMemo(t,e)};J.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};J.useRef=function(t){return ot.current.useRef(t)};J.useState=function(t){return ot.current.useState(t)};J.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};J.useTransition=function(){return ot.current.useTransition()};J.version="18.2.0";xm.exports=J;var V=xm.exports;const r1=U0(V),s1=F0({__proto__:null,default:r1},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i1=V,o1=Symbol.for("react.element"),l1=Symbol.for("react.fragment"),a1=Object.prototype.hasOwnProperty,u1=i1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c1={key:!0,ref:!0,__self:!0,__source:!0};function Nm(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)a1.call(e,r)&&!c1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:o1,type:t,key:i,ref:l,props:s,_owner:u1.current}}Fl.Fragment=l1;Fl.jsx=Nm;Fl.jsxs=Nm;_m.exports=Fl;var u=_m.exports,Am={exports:{}},Et={},Rm={exports:{}},Pm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var G=$.length;$.push(Q);e:for(;0<G;){var se=G-1>>>1,ve=$[se];if(0<s(ve,Q))$[se]=Q,$[G]=ve,G=se;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],G=$.pop();if(G!==Q){$[0]=G;e:for(var se=0,ve=$.length,en=ve>>>1;se<en;){var ut=2*(se+1)-1,Zn=$[ut],Rt=ut+1,mn=$[Rt];if(0>s(Zn,G))Rt<ve&&0>s(mn,Zn)?($[se]=mn,$[Rt]=G,se=Rt):($[se]=Zn,$[ut]=G,se=ut);else if(Rt<ve&&0>s(mn,G))$[se]=mn,$[Rt]=G,se=Rt;else break e}}return Q}function s($,Q){var G=$.sortIndex-Q.sortIndex;return G!==0?G:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],p=1,g=null,m=3,N=!1,A=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=$)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function j($){if(R=!1,I($),!A)if(n(c)!==null)A=!0,fe(D);else{var Q=n(d);Q!==null&&Jn(j,Q.startTime-$)}}function D($,Q){A=!1,R&&(R=!1,T(v),v=-1),N=!0;var G=m;try{for(I(Q),g=n(c);g!==null&&(!(g.expirationTime>Q)||$&&!w());){var se=g.callback;if(typeof se=="function"){g.callback=null,m=g.priorityLevel;var ve=se(g.expirationTime<=Q);Q=t.unstable_now(),typeof ve=="function"?g.callback=ve:g===n(c)&&r(c),I(Q)}else r(c);g=n(c)}if(g!==null)var en=!0;else{var ut=n(d);ut!==null&&Jn(j,ut.startTime-Q),en=!1}return en}finally{g=null,m=G,N=!1}}var O=!1,E=null,v=-1,k=5,_=-1;function w(){return!(t.unstable_now()-_<k)}function C(){if(E!==null){var $=t.unstable_now();_=$;var Q=!0;try{Q=E(!0,$)}finally{Q?S():(O=!1,E=null)}}else O=!1}var S;if(typeof x=="function")S=function(){x(C)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ye=Z.port2;Z.port1.onmessage=C,S=function(){ye.postMessage(null)}}else S=function(){M(C,0)};function fe($){E=$,O||(O=!0,S())}function Jn($,Q){v=M(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){A||N||(A=!0,fe(D))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var G=m;m=Q;try{return $()}finally{m=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var G=m;m=$;try{return Q()}finally{m=G}},t.unstable_scheduleCallback=function($,Q,G){var se=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?se+G:se):G=se,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=G+ve,$={id:p++,callback:Q,priorityLevel:$,startTime:G,expirationTime:ve,sortIndex:-1},G>se?($.sortIndex=G,e(d,$),n(c)===null&&$===n(d)&&(R?(T(v),v=-1):R=!0,Jn(j,G-se))):($.sortIndex=ve,e(c,$),A||N||(A=!0,fe(D))),$},t.unstable_shouldYield=w,t.unstable_wrapCallback=function($){var Q=m;return function(){var G=m;m=Q;try{return $.apply(this,arguments)}finally{m=G}}}})(Pm);Rm.exports=Pm;var h1=Rm.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jm=V,wt=h1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Dm=new Set,fi={};function Ir(t,e){rs(t,e),rs(t+"Capture",e)}function rs(t,e){for(fi[t]=e,t=0;t<e.length;t++)Dm.add(e[t])}var un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vu=Object.prototype.hasOwnProperty,d1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},sf={};function f1(t){return vu.call(sf,t)?!0:vu.call(rf,t)?!1:d1.test(t)?sf[t]=!0:(rf[t]=!0,!1)}function p1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function m1(t,e,n,r){if(e===null||typeof e>"u"||p1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Ge={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ge[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ge[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ge[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ge[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ge[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ge[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ge[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ge[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ge[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Mc);Ge[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ge[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ge.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ge[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function Lc(t,e,n,r){var s=Ge.hasOwnProperty(e)?Ge[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(m1(e,n,s,r)&&(n=null),r||s===null?f1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pn=jm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,po=Symbol.for("react.element"),Mr=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),zc=Symbol.for("react.strict_mode"),_u=Symbol.for("react.profiler"),bm=Symbol.for("react.provider"),Vm=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),xu=Symbol.for("react.suspense"),wu=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Mm=Symbol.for("react.offscreen"),of=Symbol.iterator;function zs(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var Ee=Object.assign,La;function Gs(t){if(La===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);La=e&&e[1]||""}return`
`+La+t}var za=!1;function Oa(t,e){if(!t||za)return"";za=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{za=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function g1(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=Oa(t.type,!1),t;case 11:return t=Oa(t.type.render,!1),t;case 1:return t=Oa(t.type,!0),t;default:return""}}function Eu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case Mr:return"Portal";case _u:return"Profiler";case zc:return"StrictMode";case xu:return"Suspense";case wu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vm:return(t.displayName||"Context")+".Consumer";case bm:return(t._context.displayName||"Context")+".Provider";case Oc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fc:return e=t.displayName||null,e!==null?e:Eu(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return Eu(t(e))}catch{}}return null}function y1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eu(e);case 8:return e===zc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Lm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function v1(t){var e=Lm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mo(t){t._valueTracker||(t._valueTracker=v1(t))}function zm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Lm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Zo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ku(t,e){var n=e.checked;return Ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Om(t,e){e=e.checked,e!=null&&Lc(t,"checked",e,!1)}function Su(t,e){Om(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Tu(t,e.type,n):e.hasOwnProperty("defaultValue")&&Tu(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Tu(t,e,n){(e!=="number"||Zo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qs=Array.isArray;function Qr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Iu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Qs(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Fm(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Um(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Cu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Um(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var go,Bm=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(go=go||document.createElement("div"),go.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=go.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_1=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){_1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function $m(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function Hm(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$m(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var x1=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nu(t,e){if(e){if(x1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Au(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ru=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pu=null,qr=null,Xr=null;function hf(t){if(t=Hi(t)){if(typeof Pu!="function")throw Error(F(280));var e=t.stateNode;e&&(e=Wl(e),Pu(t.stateNode,t.type,e))}}function Wm(t){qr?Xr?Xr.push(t):Xr=[t]:qr=t}function Km(){if(qr){var t=qr,e=Xr;if(Xr=qr=null,hf(t),e)for(t=0;t<e.length;t++)hf(e[t])}}function Gm(t,e){return t(e)}function Qm(){}var Fa=!1;function qm(t,e,n){if(Fa)return t(e,n);Fa=!0;try{return Gm(t,e,n)}finally{Fa=!1,(qr!==null||Xr!==null)&&(Qm(),Km())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=Wl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var ju=!1;if(un)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){ju=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{ju=!1}function w1(t,e,n,r,s,i,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Zs=!1,el=null,tl=!1,Du=null,E1={onError:function(t){Zs=!0,el=t}};function k1(t,e,n,r,s,i,l,a,c){Zs=!1,el=null,w1.apply(E1,arguments)}function S1(t,e,n,r,s,i,l,a,c){if(k1.apply(this,arguments),Zs){if(Zs){var d=el;Zs=!1,el=null}else throw Error(F(198));tl||(tl=!0,Du=d)}}function Cr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Xm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(Cr(t)!==t)throw Error(F(188))}function T1(t){var e=t.alternate;if(!e){if(e=Cr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return df(s),t;if(i===r)return df(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Ym(t){return t=T1(t),t!==null?Jm(t):null}function Jm(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Jm(t);if(e!==null)return e;t=t.sibling}return null}var Zm=wt.unstable_scheduleCallback,ff=wt.unstable_cancelCallback,I1=wt.unstable_shouldYield,C1=wt.unstable_requestPaint,Ie=wt.unstable_now,N1=wt.unstable_getCurrentPriorityLevel,Bc=wt.unstable_ImmediatePriority,eg=wt.unstable_UserBlockingPriority,nl=wt.unstable_NormalPriority,A1=wt.unstable_LowPriority,tg=wt.unstable_IdlePriority,Ul=null,Qt=null;function R1(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ul,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:D1,P1=Math.log,j1=Math.LN2;function D1(t){return t>>>=0,t===0?32:31-(P1(t)/j1|0)|0}var yo=64,vo=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function rl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=qs(a):(i&=l,i!==0&&(r=qs(i)))}else l=n&~s,l!==0?r=qs(l):i!==0&&(r=qs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),s=1<<n,r|=t[n],e&=~s;return r}function b1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function V1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Ot(i),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=b1(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function bu(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ng(){var t=yo;return yo<<=1,!(yo&4194240)&&(yo=64),t}function Ua(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Bi(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function M1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $c(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var oe=0;function rg(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var sg,Hc,ig,og,lg,Vu=!1,_o=[],Pn=null,jn=null,Dn=null,gi=new Map,yi=new Map,Tn=[],L1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":Pn=null;break;case"dragenter":case"dragleave":jn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Fs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Hi(e),e!==null&&Hc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function z1(t,e,n,r,s){switch(e){case"focusin":return Pn=Fs(Pn,t,e,n,r,s),!0;case"dragenter":return jn=Fs(jn,t,e,n,r,s),!0;case"mouseover":return Dn=Fs(Dn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Fs(gi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Fs(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function ag(t){var e=ar(t.target);if(e!==null){var n=Cr(e);if(n!==null){if(e=n.tag,e===13){if(e=Xm(n),e!==null){t.blockedOn=e,lg(t.priority,function(){ig(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Mu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ru=r,n.target.dispatchEvent(r),Ru=null}else return e=Hi(n),e!==null&&Hc(e),t.blockedOn=n,!1;e.shift()}return!0}function mf(t,e,n){zo(t)&&n.delete(e)}function O1(){Vu=!1,Pn!==null&&zo(Pn)&&(Pn=null),jn!==null&&zo(jn)&&(jn=null),Dn!==null&&zo(Dn)&&(Dn=null),gi.forEach(mf),yi.forEach(mf)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,Vu||(Vu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,O1)))}function vi(t){function e(s){return Us(s,t)}if(0<_o.length){Us(_o[0],t);for(var n=1;n<_o.length;n++){var r=_o[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Pn!==null&&Us(Pn,t),jn!==null&&Us(jn,t),Dn!==null&&Us(Dn,t),gi.forEach(e),yi.forEach(e),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)ag(n),n.blockedOn===null&&Tn.shift()}var Yr=pn.ReactCurrentBatchConfig,sl=!0;function F1(t,e,n,r){var s=oe,i=Yr.transition;Yr.transition=null;try{oe=1,Wc(t,e,n,r)}finally{oe=s,Yr.transition=i}}function U1(t,e,n,r){var s=oe,i=Yr.transition;Yr.transition=null;try{oe=4,Wc(t,e,n,r)}finally{oe=s,Yr.transition=i}}function Wc(t,e,n,r){if(sl){var s=Mu(t,e,n,r);if(s===null)Ya(t,e,r,il,n),pf(t,r);else if(z1(s,t,e,n,r))r.stopPropagation();else if(pf(t,r),e&4&&-1<L1.indexOf(t)){for(;s!==null;){var i=Hi(s);if(i!==null&&sg(i),i=Mu(t,e,n,r),i===null&&Ya(t,e,r,il,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var il=null;function Mu(t,e,n,r){if(il=null,t=Uc(r),t=ar(t),t!==null)if(e=Cr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Xm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return il=t,null}function ug(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(N1()){case Bc:return 1;case eg:return 4;case nl:case A1:return 16;case tg:return 536870912;default:return 16}default:return 16}}var Cn=null,Kc=null,Oo=null;function cg(){if(Oo)return Oo;var t,e=Kc,n=e.length,r,s="value"in Cn?Cn.value:Cn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return Oo=s.slice(t,1<r?1-r:void 0)}function Fo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xo(){return!0}function gf(){return!1}function kt(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?xo:gf,this.isPropagationStopped=gf,this}return Ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=xo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=xo)},persist:function(){},isPersistent:xo}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=kt(gs),$i=Ee({},gs,{view:0,detail:0}),B1=kt($i),Ba,$a,Bs,Bl=Ee({},$i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(Ba=t.screenX-Bs.screenX,$a=t.screenY-Bs.screenY):$a=Ba=0,Bs=t),Ba)},movementY:function(t){return"movementY"in t?t.movementY:$a}}),yf=kt(Bl),$1=Ee({},Bl,{dataTransfer:0}),H1=kt($1),W1=Ee({},$i,{relatedTarget:0}),Ha=kt(W1),K1=Ee({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),G1=kt(K1),Q1=Ee({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),q1=kt(Q1),X1=Ee({},gs,{data:0}),vf=kt(X1),Y1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},J1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Z1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e_(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Z1[t])?!!e[t]:!1}function Qc(){return e_}var t_=Ee({},$i,{key:function(t){if(t.key){var e=Y1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Fo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?J1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?Fo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Fo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n_=kt(t_),r_=Ee({},Bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=kt(r_),s_=Ee({},$i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),i_=kt(s_),o_=Ee({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),l_=kt(o_),a_=Ee({},Bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u_=kt(a_),c_=[9,13,27,32],qc=un&&"CompositionEvent"in window,ei=null;un&&"documentMode"in document&&(ei=document.documentMode);var h_=un&&"TextEvent"in window&&!ei,hg=un&&(!qc||ei&&8<ei&&11>=ei),xf=" ",wf=!1;function dg(t,e){switch(t){case"keyup":return c_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function d_(t,e){switch(t){case"compositionend":return fg(e);case"keypress":return e.which!==32?null:(wf=!0,xf);case"textInput":return t=e.data,t===xf&&wf?null:t;default:return null}}function f_(t,e){if(zr)return t==="compositionend"||!qc&&dg(t,e)?(t=cg(),Oo=Kc=Cn=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hg&&e.locale!=="ko"?null:e.data;default:return null}}var p_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p_[t.type]:e==="textarea"}function pg(t,e,n,r){Wm(r),e=ol(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ti=null,_i=null;function m_(t){Tg(t,0)}function $l(t){var e=Ur(t);if(zm(e))return t}function g_(t,e){if(t==="change")return e}var mg=!1;if(un){var Wa;if(un){var Ka="oninput"in document;if(!Ka){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Ka=typeof kf.oninput=="function"}Wa=Ka}else Wa=!1;mg=Wa&&(!document.documentMode||9<document.documentMode)}function Sf(){ti&&(ti.detachEvent("onpropertychange",gg),_i=ti=null)}function gg(t){if(t.propertyName==="value"&&$l(_i)){var e=[];pg(e,_i,t,Uc(t)),qm(m_,e)}}function y_(t,e,n){t==="focusin"?(Sf(),ti=e,_i=n,ti.attachEvent("onpropertychange",gg)):t==="focusout"&&Sf()}function v_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return $l(_i)}function __(t,e){if(t==="click")return $l(e)}function x_(t,e){if(t==="input"||t==="change")return $l(e)}function w_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:w_;function xi(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!vu.call(e,s)||!Ut(t[s],e[s]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var n=Tf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tf(n)}}function yg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?yg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function vg(){for(var t=window,e=Zo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Zo(t.document)}return e}function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function E_(t){var e=vg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&yg(n.ownerDocument.documentElement,n)){if(r!==null&&Xc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=If(n,i);var l=If(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k_=un&&"documentMode"in document&&11>=document.documentMode,Or=null,Lu=null,ni=null,zu=!1;function Cf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Or==null||Or!==Zo(r)||(r=Or,"selectionStart"in r&&Xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&xi(ni,r)||(ni=r,r=ol(Lu,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Or)))}function wo(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Fr={animationend:wo("Animation","AnimationEnd"),animationiteration:wo("Animation","AnimationIteration"),animationstart:wo("Animation","AnimationStart"),transitionend:wo("Transition","TransitionEnd")},Ga={},_g={};un&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete Fr.animationend.animation,delete Fr.animationiteration.animation,delete Fr.animationstart.animation),"TransitionEvent"in window||delete Fr.transitionend.transition);function Hl(t){if(Ga[t])return Ga[t];if(!Fr[t])return t;var e=Fr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in _g)return Ga[t]=e[n];return t}var xg=Hl("animationend"),wg=Hl("animationiteration"),Eg=Hl("animationstart"),kg=Hl("transitionend"),Sg=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){Sg.set(t,e),Ir(e,[t])}for(var Qa=0;Qa<Nf.length;Qa++){var qa=Nf[Qa],S_=qa.toLowerCase(),T_=qa[0].toUpperCase()+qa.slice(1);Qn(S_,"on"+T_)}Qn(xg,"onAnimationEnd");Qn(wg,"onAnimationIteration");Qn(Eg,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(kg,"onTransitionEnd");rs("onMouseEnter",["mouseout","mouseover"]);rs("onMouseLeave",["mouseout","mouseover"]);rs("onPointerEnter",["pointerout","pointerover"]);rs("onPointerLeave",["pointerout","pointerover"]);Ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ir("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),I_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Af(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,S1(r,e,void 0,t),t.currentTarget=null}function Tg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Af(s,a,d),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Af(s,a,d),i=c}}}if(tl)throw t=Du,tl=!1,Du=null,t}function he(t,e){var n=e[$u];n===void 0&&(n=e[$u]=new Set);var r=t+"__bubble";n.has(r)||(Ig(e,t,2,!1),n.add(r))}function Xa(t,e,n){var r=0;e&&(r|=4),Ig(n,t,r,e)}var Eo="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[Eo]){t[Eo]=!0,Dm.forEach(function(n){n!=="selectionchange"&&(I_.has(n)||Xa(n,!1,t),Xa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Eo]||(e[Eo]=!0,Xa("selectionchange",!1,e))}}function Ig(t,e,n,r){switch(ug(e)){case 1:var s=F1;break;case 4:s=U1;break;default:s=Wc}n=s.bind(null,e,n,t),s=void 0,!ju||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=ar(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}qm(function(){var d=i,p=Uc(n),g=[];e:{var m=Sg.get(t);if(m!==void 0){var N=Gc,A=t;switch(t){case"keypress":if(Fo(n)===0)break e;case"keydown":case"keyup":N=n_;break;case"focusin":A="focus",N=Ha;break;case"focusout":A="blur",N=Ha;break;case"beforeblur":case"afterblur":N=Ha;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=H1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=i_;break;case xg:case wg:case Eg:N=G1;break;case kg:N=l_;break;case"scroll":N=B1;break;case"wheel":N=u_;break;case"copy":case"cut":case"paste":N=q1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=_f}var R=(e&4)!==0,M=!R&&t==="scroll",T=R?m!==null?m+"Capture":null:m;R=[];for(var x=d,I;x!==null;){I=x;var j=I.stateNode;if(I.tag===5&&j!==null&&(I=j,T!==null&&(j=mi(x,T),j!=null&&R.push(Ei(x,j,I)))),M)break;x=x.return}0<R.length&&(m=new N(m,A,null,n,p),g.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",m&&n!==Ru&&(A=n.relatedTarget||n.fromElement)&&(ar(A)||A[cn]))break e;if((N||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,N?(A=n.relatedTarget||n.toElement,N=d,A=A?ar(A):null,A!==null&&(M=Cr(A),A!==M||A.tag!==5&&A.tag!==6)&&(A=null)):(N=null,A=d),N!==A)){if(R=yf,j="onMouseLeave",T="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(R=_f,j="onPointerLeave",T="onPointerEnter",x="pointer"),M=N==null?m:Ur(N),I=A==null?m:Ur(A),m=new R(j,x+"leave",N,n,p),m.target=M,m.relatedTarget=I,j=null,ar(p)===d&&(R=new R(T,x+"enter",A,n,p),R.target=I,R.relatedTarget=M,j=R),M=j,N&&A)t:{for(R=N,T=A,x=0,I=R;I;I=Dr(I))x++;for(I=0,j=T;j;j=Dr(j))I++;for(;0<x-I;)R=Dr(R),x--;for(;0<I-x;)T=Dr(T),I--;for(;x--;){if(R===T||T!==null&&R===T.alternate)break t;R=Dr(R),T=Dr(T)}R=null}else R=null;N!==null&&Rf(g,m,N,R,!1),A!==null&&M!==null&&Rf(g,M,A,R,!0)}}e:{if(m=d?Ur(d):window,N=m.nodeName&&m.nodeName.toLowerCase(),N==="select"||N==="input"&&m.type==="file")var D=g_;else if(Ef(m))if(mg)D=x_;else{D=v_;var O=y_}else(N=m.nodeName)&&N.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(D=__);if(D&&(D=D(t,d))){pg(g,D,n,p);break e}O&&O(t,m,d),t==="focusout"&&(O=m._wrapperState)&&O.controlled&&m.type==="number"&&Tu(m,"number",m.value)}switch(O=d?Ur(d):window,t){case"focusin":(Ef(O)||O.contentEditable==="true")&&(Or=O,Lu=d,ni=null);break;case"focusout":ni=Lu=Or=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Cf(g,n,p);break;case"selectionchange":if(k_)break;case"keydown":case"keyup":Cf(g,n,p)}var E;if(qc)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zr?dg(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(hg&&n.locale!=="ko"&&(zr||v!=="onCompositionStart"?v==="onCompositionEnd"&&zr&&(E=cg()):(Cn=p,Kc="value"in Cn?Cn.value:Cn.textContent,zr=!0)),O=ol(d,v),0<O.length&&(v=new vf(v,t,null,n,p),g.push({event:v,listeners:O}),E?v.data=E:(E=fg(n),E!==null&&(v.data=E)))),(E=h_?d_(t,n):f_(t,n))&&(d=ol(d,"onBeforeInput"),0<d.length&&(p=new vf("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=E))}Tg(g,e)})}function Ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ol(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,n),i!=null&&r.unshift(Ei(t,i,s)),i=mi(t,e),i!=null&&r.push(Ei(t,i,s))),t=t.return}return r}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=mi(n,i),c!=null&&l.unshift(Ei(n,c,a))):s||(c=mi(n,i),c!=null&&l.push(Ei(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var C_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(C_,`
`).replace(N_,"")}function ko(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(F(425))}function ll(){}var Ou=null,Fu=null;function Uu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Bu=typeof setTimeout=="function"?setTimeout:void 0,A_=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,R_=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(t){return jf.resolve(null).then(t).catch(P_)}:Bu;function P_(t){setTimeout(function(){throw t})}function Ja(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vi(e)}function bn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ys,ki="__reactProps$"+ys,cn="__reactContainer$"+ys,$u="__reactEvents$"+ys,j_="__reactListeners$"+ys,D_="__reactHandles$"+ys;function ar(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Gt])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function Hi(t){return t=t[Gt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ur(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function Wl(t){return t[ki]||null}var Hu=[],Br=-1;function qn(t){return{current:t}}function de(t){0>Br||(t.current=Hu[Br],Hu[Br]=null,Br--)}function ae(t,e){Br++,Hu[Br]=t.current,t.current=e}var $n={},tt=qn($n),ft=qn(!1),yr=$n;function ss(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function al(){de(ft),de(tt)}function bf(t,e,n){if(tt.current!==$n)throw Error(F(168));ae(tt,e),ae(ft,n)}function Cg(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,y1(t)||"Unknown",s));return Ee({},n,r)}function ul(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,yr=tt.current,ae(tt,t),ae(ft,ft.current),!0}function Vf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Cg(t,e,yr),r.__reactInternalMemoizedMergedChildContext=t,de(ft),de(tt),ae(tt,t)):de(ft),ae(ft,n)}var nn=null,Kl=!1,Za=!1;function Ng(t){nn===null?nn=[t]:nn.push(t)}function b_(t){Kl=!0,Ng(t)}function Xn(){if(!Za&&nn!==null){Za=!0;var t=0,e=oe;try{var n=nn;for(oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}nn=null,Kl=!1}catch(s){throw nn!==null&&(nn=nn.slice(t+1)),Zm(Bc,Xn),s}finally{oe=e,Za=!1}}return null}var $r=[],Hr=0,cl=null,hl=0,St=[],Tt=0,vr=null,rn=1,sn="";function ir(t,e){$r[Hr++]=hl,$r[Hr++]=cl,cl=t,hl=e}function Ag(t,e,n){St[Tt++]=rn,St[Tt++]=sn,St[Tt++]=vr,vr=t;var r=rn;t=sn;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,rn=1<<32-Ot(e)+s|n<<s|r,sn=i+t}else rn=1<<i|n<<s|r,sn=t}function Yc(t){t.return!==null&&(ir(t,1),Ag(t,1,0))}function Jc(t){for(;t===cl;)cl=$r[--Hr],$r[Hr]=null,hl=$r[--Hr],$r[Hr]=null;for(;t===vr;)vr=St[--Tt],St[Tt]=null,sn=St[--Tt],St[Tt]=null,rn=St[--Tt],St[Tt]=null}var xt=null,_t=null,me=!1,bt=null;function Rg(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,_t=bn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vr!==null?{id:rn,overflow:sn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,_t=null,!0):!1;default:return!1}}function Wu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ku(t){if(me){var e=_t;if(e){var n=e;if(!Mf(t,e)){if(Wu(t))throw Error(F(418));e=bn(n.nextSibling);var r=xt;e&&Mf(t,e)?Rg(r,n):(t.flags=t.flags&-4097|2,me=!1,xt=t)}}else{if(Wu(t))throw Error(F(418));t.flags=t.flags&-4097|2,me=!1,xt=t}}}function Lf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function So(t){if(t!==xt)return!1;if(!me)return Lf(t),me=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Uu(t.type,t.memoizedProps)),e&&(e=_t)){if(Wu(t))throw Pg(),Error(F(418));for(;e;)Rg(t,e),e=bn(e.nextSibling)}if(Lf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=bn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=xt?bn(t.stateNode.nextSibling):null;return!0}function Pg(){for(var t=_t;t;)t=bn(t.nextSibling)}function is(){_t=xt=null,me=!1}function Zc(t){bt===null?bt=[t]:bt.push(t)}var V_=pn.ReactCurrentBatchConfig;function jt(t,e){if(t&&t.defaultProps){e=Ee({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var dl=qn(null),fl=null,Wr=null,eh=null;function th(){eh=Wr=fl=null}function nh(t){var e=dl.current;de(dl),t._currentValue=e}function Gu(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jr(t,e){fl=t,eh=Wr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},Wr===null){if(fl===null)throw Error(F(308));Wr=t,fl.dependencies={lanes:0,firstContext:t}}else Wr=Wr.next=t;return e}var ur=null;function rh(t){ur===null?ur=[t]:ur.push(t)}function jg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rh(e)):(n.next=s.next,s.next=n),e.interleaved=n,hn(t,r)}function hn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Sn=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function on(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Vn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,hn(t,n)}return s=r.interleaved,s===null?(e.next=e,rh(r)):(e.next=s.next,s.next=e),r.interleaved=e,hn(t,n)}function Uo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}function zf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function pl(t,e,n,r){var s=t.updateQueue;Sn=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;l=0,p=d=c=null,a=i;do{var m=a.lane,N=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:N,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,R=a;switch(m=e,N=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){g=A.call(N,g,m);break e}g=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,m=typeof A=="function"?A.call(N,g,m):A,m==null)break e;g=Ee({},g,m);break e;case 2:Sn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else N={eventTime:N,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=N,c=g):p=p.next=N,l|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xr|=l,t.lanes=l,t.memoizedState=g}}function Of(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var bg=new jm.Component().refs;function Qu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ee({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Gl={isMounted:function(t){return(t=t._reactInternals)?Cr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=on(r,s);i.payload=e,n!=null&&(i.callback=n),e=Vn(t,i,s),e!==null&&(Ft(e,t,s,r),Uo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=on(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Vn(t,i,s),e!==null&&(Ft(e,t,s,r),Uo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Ln(t),s=on(n,r);s.tag=2,e!=null&&(s.callback=e),e=Vn(t,s,r),e!==null&&(Ft(e,t,r,n),Uo(e,t,r))}};function Ff(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!xi(n,r)||!xi(s,i):!0}function Vg(t,e,n){var r=!1,s=$n,i=e.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=pt(e)?yr:tt.current,r=e.contextTypes,i=(r=r!=null)?ss(t,s):$n),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Gl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Gl.enqueueReplaceState(e,e.state,null)}function qu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=bg,sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=pt(e)?yr:tt.current,s.context=ss(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Qu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Gl.enqueueReplaceState(s,s.state,null),pl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;a===bg&&(a=s.refs={}),l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function To(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bf(t){var e=t._init;return e(t._payload)}function Mg(t){function e(T,x){if(t){var I=T.deletions;I===null?(T.deletions=[x],T.flags|=16):I.push(x)}}function n(T,x){if(!t)return null;for(;x!==null;)e(T,x),x=x.sibling;return null}function r(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function s(T,x){return T=zn(T,x),T.index=0,T.sibling=null,T}function i(T,x,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<x?(T.flags|=2,x):I):(T.flags|=2,x)):(T.flags|=1048576,x)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,x,I,j){return x===null||x.tag!==6?(x=ou(I,T.mode,j),x.return=T,x):(x=s(x,I),x.return=T,x)}function c(T,x,I,j){var D=I.type;return D===Lr?p(T,x,I.props.children,j,I.key):x!==null&&(x.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kn&&Bf(D)===x.type)?(j=s(x,I.props),j.ref=$s(T,x,I),j.return=T,j):(j=Go(I.type,I.key,I.props,null,T.mode,j),j.ref=$s(T,x,I),j.return=T,j)}function d(T,x,I,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=lu(I,T.mode,j),x.return=T,x):(x=s(x,I.children||[]),x.return=T,x)}function p(T,x,I,j,D){return x===null||x.tag!==7?(x=fr(I,T.mode,j,D),x.return=T,x):(x=s(x,I),x.return=T,x)}function g(T,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return x=ou(""+x,T.mode,I),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case po:return I=Go(x.type,x.key,x.props,null,T.mode,I),I.ref=$s(T,null,x),I.return=T,I;case Mr:return x=lu(x,T.mode,I),x.return=T,x;case kn:var j=x._init;return g(T,j(x._payload),I)}if(Qs(x)||zs(x))return x=fr(x,T.mode,I,null),x.return=T,x;To(T,x)}return null}function m(T,x,I,j){var D=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(T,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case po:return I.key===D?c(T,x,I,j):null;case Mr:return I.key===D?d(T,x,I,j):null;case kn:return D=I._init,m(T,x,D(I._payload),j)}if(Qs(I)||zs(I))return D!==null?null:p(T,x,I,j,null);To(T,I)}return null}function N(T,x,I,j,D){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(I)||null,a(x,T,""+j,D);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case po:return T=T.get(j.key===null?I:j.key)||null,c(x,T,j,D);case Mr:return T=T.get(j.key===null?I:j.key)||null,d(x,T,j,D);case kn:var O=j._init;return N(T,x,I,O(j._payload),D)}if(Qs(j)||zs(j))return T=T.get(I)||null,p(x,T,j,D,null);To(x,j)}return null}function A(T,x,I,j){for(var D=null,O=null,E=x,v=x=0,k=null;E!==null&&v<I.length;v++){E.index>v?(k=E,E=null):k=E.sibling;var _=m(T,E,I[v],j);if(_===null){E===null&&(E=k);break}t&&E&&_.alternate===null&&e(T,E),x=i(_,x,v),O===null?D=_:O.sibling=_,O=_,E=k}if(v===I.length)return n(T,E),me&&ir(T,v),D;if(E===null){for(;v<I.length;v++)E=g(T,I[v],j),E!==null&&(x=i(E,x,v),O===null?D=E:O.sibling=E,O=E);return me&&ir(T,v),D}for(E=r(T,E);v<I.length;v++)k=N(E,T,v,I[v],j),k!==null&&(t&&k.alternate!==null&&E.delete(k.key===null?v:k.key),x=i(k,x,v),O===null?D=k:O.sibling=k,O=k);return t&&E.forEach(function(w){return e(T,w)}),me&&ir(T,v),D}function R(T,x,I,j){var D=zs(I);if(typeof D!="function")throw Error(F(150));if(I=D.call(I),I==null)throw Error(F(151));for(var O=D=null,E=x,v=x=0,k=null,_=I.next();E!==null&&!_.done;v++,_=I.next()){E.index>v?(k=E,E=null):k=E.sibling;var w=m(T,E,_.value,j);if(w===null){E===null&&(E=k);break}t&&E&&w.alternate===null&&e(T,E),x=i(w,x,v),O===null?D=w:O.sibling=w,O=w,E=k}if(_.done)return n(T,E),me&&ir(T,v),D;if(E===null){for(;!_.done;v++,_=I.next())_=g(T,_.value,j),_!==null&&(x=i(_,x,v),O===null?D=_:O.sibling=_,O=_);return me&&ir(T,v),D}for(E=r(T,E);!_.done;v++,_=I.next())_=N(E,T,v,_.value,j),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?v:_.key),x=i(_,x,v),O===null?D=_:O.sibling=_,O=_);return t&&E.forEach(function(C){return e(T,C)}),me&&ir(T,v),D}function M(T,x,I,j){if(typeof I=="object"&&I!==null&&I.type===Lr&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case po:e:{for(var D=I.key,O=x;O!==null;){if(O.key===D){if(D=I.type,D===Lr){if(O.tag===7){n(T,O.sibling),x=s(O,I.props.children),x.return=T,T=x;break e}}else if(O.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===kn&&Bf(D)===O.type){n(T,O.sibling),x=s(O,I.props),x.ref=$s(T,O,I),x.return=T,T=x;break e}n(T,O);break}else e(T,O);O=O.sibling}I.type===Lr?(x=fr(I.props.children,T.mode,j,I.key),x.return=T,T=x):(j=Go(I.type,I.key,I.props,null,T.mode,j),j.ref=$s(T,x,I),j.return=T,T=j)}return l(T);case Mr:e:{for(O=I.key;x!==null;){if(x.key===O)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){n(T,x.sibling),x=s(x,I.children||[]),x.return=T,T=x;break e}else{n(T,x);break}else e(T,x);x=x.sibling}x=lu(I,T.mode,j),x.return=T,T=x}return l(T);case kn:return O=I._init,M(T,x,O(I._payload),j)}if(Qs(I))return A(T,x,I,j);if(zs(I))return R(T,x,I,j);To(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,x!==null&&x.tag===6?(n(T,x.sibling),x=s(x,I),x.return=T,T=x):(n(T,x),x=ou(I,T.mode,j),x.return=T,T=x),l(T)):n(T,x)}return M}var os=Mg(!0),Lg=Mg(!1),Wi={},qt=qn(Wi),Si=qn(Wi),Ti=qn(Wi);function cr(t){if(t===Wi)throw Error(F(174));return t}function ih(t,e){switch(ae(Ti,e),ae(Si,t),ae(qt,Wi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Cu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Cu(e,t)}de(qt),ae(qt,e)}function ls(){de(qt),de(Si),de(Ti)}function zg(t){cr(Ti.current);var e=cr(qt.current),n=Cu(e,t.type);e!==n&&(ae(Si,t),ae(qt,n))}function oh(t){Si.current===t&&(de(qt),de(Si))}var _e=qn(0);function ml(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var eu=[];function lh(){for(var t=0;t<eu.length;t++)eu[t]._workInProgressVersionPrimary=null;eu.length=0}var Bo=pn.ReactCurrentDispatcher,tu=pn.ReactCurrentBatchConfig,_r=0,we=null,je=null,Me=null,gl=!1,ri=!1,Ii=0,M_=0;function qe(){throw Error(F(321))}function ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,s,i){if(_r=i,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bo.current=t===null||t.memoizedState===null?F_:U_,t=n(r,s),ri){i=0;do{if(ri=!1,Ii=0,25<=i)throw Error(F(301));i+=1,Me=je=null,e.updateQueue=null,Bo.current=B_,t=n(r,s)}while(ri)}if(Bo.current=yl,e=je!==null&&je.next!==null,_r=0,Me=je=we=null,gl=!1,e)throw Error(F(300));return t}function ch(){var t=Ii!==0;return Ii=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?we.memoizedState=Me=t:Me=Me.next=t,Me}function At(){if(je===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Me===null?we.memoizedState:Me.next;if(e!==null)Me=e,je=t;else{if(t===null)throw Error(F(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Me===null?we.memoizedState=Me=t:Me=Me.next=t}return Me}function Ci(t,e){return typeof e=="function"?e(t):e}function nu(t){var e=At(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,c=null,d=i;do{var p=d.lane;if((_r&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,l=r):c=c.next=g,we.lanes|=p,xr|=p}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=a,Ut(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,we.lanes|=i,xr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ru(t){var e=At(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Ut(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Og(){}function Fg(t,e){var n=we,r=At(),s=e(),i=!Ut(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,hh($g.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ni(9,Bg.bind(null,n,r,s,e),void 0,null),ze===null)throw Error(F(349));_r&30||Ug(n,e,s)}return s}function Ug(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Bg(t,e,n,r){e.value=n,e.getSnapshot=r,Hg(e)&&Wg(t)}function $g(t,e,n){return n(function(){Hg(e)&&Wg(t)})}function Hg(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function Wg(t){var e=hn(t,1);e!==null&&Ft(e,t,1,-1)}function $f(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e.queue=t,t=t.dispatch=O_.bind(null,we,t),[e.memoizedState,t]}function Ni(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Kg(){return At().memoizedState}function $o(t,e,n,r){var s=Wt();we.flags|=t,s.memoizedState=Ni(1|e,n,void 0,r===void 0?null:r)}function Ql(t,e,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(je!==null){var l=je.memoizedState;if(i=l.destroy,r!==null&&ah(r,l.deps)){s.memoizedState=Ni(e,n,i,r);return}}we.flags|=t,s.memoizedState=Ni(1|e,n,i,r)}function Hf(t,e){return $o(8390656,8,t,e)}function hh(t,e){return Ql(2048,8,t,e)}function Gg(t,e){return Ql(4,2,t,e)}function Qg(t,e){return Ql(4,4,t,e)}function qg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Xg(t,e,n){return n=n!=null?n.concat([t]):null,Ql(4,4,qg.bind(null,e,t),n)}function dh(){}function Yg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Jg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Zg(t,e,n){return _r&21?(Ut(n,e)||(n=ng(),we.lanes|=n,xr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function L_(t,e){var n=oe;oe=n!==0&&4>n?n:4,t(!0);var r=tu.transition;tu.transition={};try{t(!1),e()}finally{oe=n,tu.transition=r}}function ey(){return At().memoizedState}function z_(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ty(t))ny(e,n);else if(n=jg(t,e,n,r),n!==null){var s=it();Ft(n,t,r,s),ry(n,e,r)}}function O_(t,e,n){var r=Ln(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ty(t))ny(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,l)){var c=e.interleaved;c===null?(s.next=s,rh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=jg(t,e,s,r),n!==null&&(s=it(),Ft(n,t,r,s),ry(n,e,r))}}function ty(t){var e=t.alternate;return t===we||e!==null&&e===we}function ny(t,e){ri=gl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ry(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}var yl={readContext:Nt,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},F_={readContext:Nt,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,$o(4194308,4,qg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return $o(4194308,4,t,e)},useInsertionEffect:function(t,e){return $o(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=z_.bind(null,we,t),[r.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:$f,useDebugValue:dh,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=$f(!1),e=t[0];return t=L_.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=we,s=Wt();if(me){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),ze===null)throw Error(F(349));_r&30||Ug(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Hf($g.bind(null,r,i,t),[t]),r.flags|=2048,Ni(9,Bg.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Wt(),e=ze.identifierPrefix;if(me){var n=sn,r=rn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=M_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U_={readContext:Nt,useCallback:Yg,useContext:Nt,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:nu,useRef:Kg,useState:function(){return nu(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=At();return Zg(e,je.memoizedState,t)},useTransition:function(){var t=nu(Ci)[0],e=At().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Fg,useId:ey,unstable_isNewReconciler:!1},B_={readContext:Nt,useCallback:Yg,useContext:Nt,useEffect:hh,useImperativeHandle:Xg,useInsertionEffect:Gg,useLayoutEffect:Qg,useMemo:Jg,useReducer:ru,useRef:Kg,useState:function(){return ru(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=At();return je===null?e.memoizedState=t:Zg(e,je.memoizedState,t)},useTransition:function(){var t=ru(Ci)[0],e=At().memoizedState;return[t,e]},useMutableSource:Og,useSyncExternalStore:Fg,useId:ey,unstable_isNewReconciler:!1};function as(t,e){try{var n="",r=e;do n+=g1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function su(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Xu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $_=typeof WeakMap=="function"?WeakMap:Map;function sy(t,e,n){n=on(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_l||(_l=!0,oc=r),Xu(t,e)},n}function iy(t,e,n){n=on(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Xu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Xu(t,e),typeof r!="function"&&(Mn===null?Mn=new Set([this]):Mn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Wf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=rx.bind(null,t,e,n),e.then(t,t))}function Kf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=on(-1,1),e.tag=2,Vn(n,e,1))),n.lanes|=1),t)}var H_=pn.ReactCurrentOwner,dt=!1;function st(t,e,n,r){e.child=t===null?Lg(e,null,n,r):os(e,t.child,n,r)}function Qf(t,e,n,r,s){n=n.render;var i=e.ref;return Jr(e,s),r=uh(t,e,n,r,i,s),n=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):(me&&n&&Yc(e),e.flags|=1,st(t,e,r,s),e.child)}function qf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,oy(t,e,i,r,s)):(t=Go(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(l,r)&&t.ref===e.ref)return dn(t,e,s)}return e.flags|=1,t=zn(i,r),t.ref=e.ref,t.return=e,e.child=t}function oy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xi(i,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,dn(t,e,s)}return Yu(t,e,n,r,s)}function ly(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ae(Gr,vt),vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ae(Gr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ae(Gr,vt),vt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ae(Gr,vt),vt|=r;return st(t,e,s,n),e.child}function ay(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Yu(t,e,n,r,s){var i=pt(n)?yr:tt.current;return i=ss(e,i),Jr(e,s),n=uh(t,e,n,r,i,s),r=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,dn(t,e,s)):(me&&r&&Yc(e),e.flags|=1,st(t,e,n,s),e.child)}function Xf(t,e,n,r,s){if(pt(n)){var i=!0;ul(e)}else i=!1;if(Jr(e,s),e.stateNode===null)Ho(t,e),Vg(e,n,r),qu(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nt(d):(d=pt(n)?yr:tt.current,d=ss(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Uf(e,l,r,d),Sn=!1;var m=e.memoizedState;l.state=m,pl(e,r,l,s),c=e.memoizedState,a!==r||m!==c||ft.current||Sn?(typeof p=="function"&&(Qu(e,n,p,r),c=e.memoizedState),(a=Sn||Ff(e,n,a,r,m,c,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=d,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,Dg(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:jt(e.type,a),l.props=d,g=e.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=pt(n)?yr:tt.current,c=ss(e,c));var N=n.getDerivedStateFromProps;(p=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||m!==c)&&Uf(e,l,r,c),Sn=!1,m=e.memoizedState,l.state=m,pl(e,r,l,s);var A=e.memoizedState;a!==g||m!==A||ft.current||Sn?(typeof N=="function"&&(Qu(e,n,N,r),A=e.memoizedState),(d=Sn||Ff(e,n,d,r,m,A,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,A,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,A,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),l.props=r,l.state=A,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Ju(t,e,n,r,i,s)}function Ju(t,e,n,r,s,i){ay(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Vf(e,n,!1),dn(t,e,i);r=e.stateNode,H_.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=os(e,t.child,null,i),e.child=os(e,null,a,i)):st(t,e,a,i),e.memoizedState=r.state,s&&Vf(e,n,!0),e.child}function uy(t){var e=t.stateNode;e.pendingContext?bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bf(t,e.context,!1),ih(t,e.containerInfo)}function Yf(t,e,n,r,s){return is(),Zc(s),e.flags|=256,st(t,e,n,r),e.child}var Zu={dehydrated:null,treeContext:null,retryLane:0};function ec(t){return{baseLanes:t,cachePool:null,transitions:null}}function cy(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ae(_e,s&1),t===null)return Ku(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=Yl(l,r,0,null),t=fr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ec(n),e.memoizedState=Zu,t):fh(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return W_(t,e,l,r,a,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=zn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=zn(a,i):(i=fr(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?ec(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Zu,r}return i=t.child,t=i.sibling,r=zn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fh(t,e){return e=Yl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Io(t,e,n,r){return r!==null&&Zc(r),os(e,t.child,null,n),t=fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function W_(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=su(Error(F(422))),Io(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Yl({mode:"visible",children:r.children},s,0,null),i=fr(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&os(e,t.child,null,l),e.child.memoizedState=ec(l),e.memoizedState=Zu,i);if(!(e.mode&1))return Io(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=su(i,r,void 0),Io(t,e,l,r)}if(a=(l&t.childLanes)!==0,dt||a){if(r=ze,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,hn(t,s),Ft(r,t,s,-1))}return _h(),r=su(Error(F(421))),Io(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=sx.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_t=bn(s.nextSibling),xt=e,me=!0,bt=null,t!==null&&(St[Tt++]=rn,St[Tt++]=sn,St[Tt++]=vr,rn=t.id,sn=t.overflow,vr=e),e=fh(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Gu(t.return,e,n)}function iu(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function hy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(st(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ae(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ml(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),iu(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ml(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}iu(e,!0,n,null,i);break;case"together":iu(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ho(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=zn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=zn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function K_(t,e,n){switch(e.tag){case 3:uy(e),is();break;case 5:zg(e);break;case 1:pt(e.type)&&ul(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ae(dl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ae(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?cy(t,e,n):(ae(_e,_e.current&1),t=dn(t,e,n),t!==null?t.sibling:null);ae(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return hy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ae(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,n)}return dn(t,e,n)}var dy,tc,fy,py;dy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};tc=function(){};fy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,cr(qt.current);var i=null;switch(n){case"input":s=ku(t,s),r=ku(t,r),i=[];break;case"select":s=Ee({},s,{value:void 0}),r=Ee({},r,{value:void 0}),i=[];break;case"textarea":s=Iu(t,s),r=Iu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ll)}Nu(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&he("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};py=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hs(t,e){if(!me)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Xe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function G_(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xe(e),null;case 1:return pt(e.type)&&al(),Xe(e),null;case 3:return r=e.stateNode,ls(),de(ft),de(tt),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(So(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(uc(bt),bt=null))),tc(t,e),Xe(e),null;case 5:oh(e);var s=cr(Ti.current);if(n=e.type,t!==null&&e.stateNode!=null)fy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return Xe(e),null}if(t=cr(qt.current),So(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gt]=e,r[ki]=i,t=(e.mode&1)!==0,n){case"dialog":he("cancel",r),he("close",r);break;case"iframe":case"object":case"embed":he("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)he(Xs[s],r);break;case"source":he("error",r);break;case"img":case"image":case"link":he("error",r),he("load",r);break;case"details":he("toggle",r);break;case"input":lf(r,i),he("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},he("invalid",r);break;case"textarea":uf(r,i),he("invalid",r)}Nu(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&ko(r.textContent,a,t),s=["children",""+a]):fi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&he("scroll",r)}switch(n){case"input":mo(r),af(r,i,!0);break;case"textarea":mo(r),cf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ll)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Um(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Gt]=e,t[ki]=r,dy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Au(n,r),n){case"dialog":he("cancel",t),he("close",t),s=r;break;case"iframe":case"object":case"embed":he("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)he(Xs[s],t);s=r;break;case"source":he("error",t),s=r;break;case"img":case"image":case"link":he("error",t),he("load",t),s=r;break;case"details":he("toggle",t),s=r;break;case"input":lf(t,r),s=ku(t,r),he("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Ee({},r,{value:void 0}),he("invalid",t);break;case"textarea":uf(t,r),s=Iu(t,r),he("invalid",t);break;default:s=r}Nu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?Hm(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Bm(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pi(t,c):typeof c=="number"&&pi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&he("scroll",t):c!=null&&Lc(t,i,c,l))}switch(n){case"input":mo(t),af(t,r,!1);break;case"textarea":mo(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Qr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Qr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ll)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Xe(e),null;case 6:if(t&&e.stateNode!=null)py(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=cr(Ti.current),cr(qt.current),So(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gt]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:ko(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ko(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=e,e.stateNode=r}return Xe(e),null;case 13:if(de(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(me&&_t!==null&&e.mode&1&&!(e.flags&128))Pg(),is(),e.flags|=98560,i=!1;else if(i=So(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Gt]=e}else is(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Xe(e),i=!1}else bt!==null&&(uc(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?De===0&&(De=3):_h())),e.updateQueue!==null&&(e.flags|=4),Xe(e),null);case 4:return ls(),tc(t,e),t===null&&wi(e.stateNode.containerInfo),Xe(e),null;case 10:return nh(e.type._context),Xe(e),null;case 17:return pt(e.type)&&al(),Xe(e),null;case 19:if(de(_e),i=e.memoizedState,i===null)return Xe(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Hs(i,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=ml(t),l!==null){for(e.flags|=128,Hs(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ae(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Ie()>us&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304)}else{if(!r)if(t=ml(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!me)return Xe(e),null}else 2*Ie()-i.renderingStartTime>us&&n!==1073741824&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Ie(),e.sibling=null,n=_e.current,ae(_e,r?n&1|2:n&1),e):(Xe(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(Xe(e),e.subtreeFlags&6&&(e.flags|=8192)):Xe(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function Q_(t,e){switch(Jc(e),e.tag){case 1:return pt(e.type)&&al(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ls(),de(ft),de(tt),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oh(e),null;case 13:if(de(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));is()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return de(_e),null;case 4:return ls(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var Co=!1,Ze=!1,q_=typeof WeakSet=="function"?WeakSet:Set,H=null;function Kr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Se(t,e,r)}else n.current=null}function nc(t,e,n){try{n()}catch(r){Se(t,e,r)}}var Zf=!1;function X_(t,e){if(Ou=sl,t=vg(),Xc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,d=0,p=0,g=t,m=null;t:for(;;){for(var N;g!==n||s!==0&&g.nodeType!==3||(a=l+s),g!==i||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(N=g.firstChild)!==null;)m=g,g=N;for(;;){if(g===t)break t;if(m===n&&++d===s&&(a=l),m===i&&++p===r&&(c=l),(N=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=N}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Fu={focusedElem:t,selectionRange:n},sl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,M=A.memoizedState,T=e.stateNode,x=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:jt(e.type,R),M);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){Se(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return A=Zf,Zf=!1,A}function si(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&nc(e,n,i)}s=s.next}while(s!==r)}}function ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function rc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function my(t){var e=t.alternate;e!==null&&(t.alternate=null,my(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[ki],delete e[$u],delete e[j_],delete e[D_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function gy(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||gy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ll));else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}function ic(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ic(t,e,n),t=t.sibling;t!==null;)ic(t,e,n),t=t.sibling}var Fe=null,Dt=!1;function En(t,e,n){for(n=n.child;n!==null;)yy(t,e,n),n=n.sibling}function yy(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ul,n)}catch{}switch(n.tag){case 5:Ze||Kr(n,e);case 6:var r=Fe,s=Dt;Fe=null,En(t,e,n),Fe=r,Dt=s,Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?Ja(t.parentNode,n):t.nodeType===1&&Ja(t,n),vi(t)):Ja(Fe,n.stateNode));break;case 4:r=Fe,s=Dt,Fe=n.stateNode.containerInfo,Dt=!0,En(t,e,n),Fe=r,Dt=s;break;case 0:case 11:case 14:case 15:if(!Ze&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&nc(n,e,l),s=s.next}while(s!==r)}En(t,e,n);break;case 1:if(!Ze&&(Kr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Se(n,e,a)}En(t,e,n);break;case 21:En(t,e,n);break;case 22:n.mode&1?(Ze=(r=Ze)||n.memoizedState!==null,En(t,e,n),Ze=r):En(t,e,n);break;default:En(t,e,n)}}function tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new q_),e.forEach(function(r){var s=ix.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Dt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Dt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Fe===null)throw Error(F(160));yy(i,l,s),Fe=null,Dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){Se(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)vy(e,t),e=e.sibling}function vy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Ht(t),r&4){try{si(3,t,t.return),ql(3,t)}catch(R){Se(t,t.return,R)}try{si(5,t,t.return)}catch(R){Se(t,t.return,R)}}break;case 1:Pt(e,t),Ht(t),r&512&&n!==null&&Kr(n,n.return);break;case 5:if(Pt(e,t),Ht(t),r&512&&n!==null&&Kr(n,n.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(R){Se(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Om(s,i),Au(a,l);var d=Au(a,i);for(l=0;l<c.length;l+=2){var p=c[l],g=c[l+1];p==="style"?Hm(s,g):p==="dangerouslySetInnerHTML"?Bm(s,g):p==="children"?pi(s,g):Lc(s,p,g,d)}switch(a){case"input":Su(s,i);break;case"textarea":Fm(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?Qr(s,!!i.multiple,N,!1):m!==!!i.multiple&&(i.defaultValue!=null?Qr(s,!!i.multiple,i.defaultValue,!0):Qr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ki]=i}catch(R){Se(t,t.return,R)}}break;case 6:if(Pt(e,t),Ht(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){Se(t,t.return,R)}}break;case 3:if(Pt(e,t),Ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(R){Se(t,t.return,R)}break;case 4:Pt(e,t),Ht(t);break;case 13:Pt(e,t),Ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gh=Ie())),r&4&&tp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Ze=(d=Ze)||p,Pt(e,t),Ze=d):Pt(e,t),Ht(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(H=t,p=t.child;p!==null;){for(g=H=p;H!==null;){switch(m=H,N=m.child,m.tag){case 0:case 11:case 14:case 15:si(4,m,m.return);break;case 1:Kr(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(R){Se(r,n,R)}}break;case 5:Kr(m,m.return);break;case 22:if(m.memoizedState!==null){rp(g);continue}}N!==null?(N.return=m,H=N):rp(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=$m("display",l))}catch(R){Se(t,t.return,R)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(R){Se(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Pt(e,t),Ht(t),r&4&&tp(t);break;case 21:break;default:Pt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(gy(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=ep(t);ic(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=ep(t);sc(t,a,l);break;default:throw Error(F(161))}}catch(c){Se(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Y_(t,e,n){H=t,_y(t)}function _y(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||Co;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Ze;a=Co;var d=Ze;if(Co=l,(Ze=c)&&!d)for(H=s;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?sp(s):c!==null?(c.return=l,H=c):sp(s);for(;i!==null;)H=i,_y(i),i=i.sibling;H=s,Co=a,Ze=d}np(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):np(t)}}function np(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ze||ql(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ze)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Of(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Of(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&vi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Ze||e.flags&512&&rc(e)}catch(m){Se(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function rp(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function sp(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ql(4,e)}catch(c){Se(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){Se(e,s,c)}}var i=e.return;try{rc(e)}catch(c){Se(e,i,c)}break;case 5:var l=e.return;try{rc(e)}catch(c){Se(e,l,c)}}}catch(c){Se(e,e.return,c)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var J_=Math.ceil,vl=pn.ReactCurrentDispatcher,ph=pn.ReactCurrentOwner,Ct=pn.ReactCurrentBatchConfig,ne=0,ze=null,Ne=null,We=0,vt=0,Gr=qn(0),De=0,Ai=null,xr=0,Xl=0,mh=0,ii=null,ht=null,gh=0,us=1/0,tn=null,_l=!1,oc=null,Mn=null,No=!1,Nn=null,xl=0,oi=0,lc=null,Wo=-1,Ko=0;function it(){return ne&6?Ie():Wo!==-1?Wo:Wo=Ie()}function Ln(t){return t.mode&1?ne&2&&We!==0?We&-We:V_.transition!==null?(Ko===0&&(Ko=ng()),Ko):(t=oe,t!==0||(t=window.event,t=t===void 0?16:ug(t.type)),t):1}function Ft(t,e,n,r){if(50<oi)throw oi=0,lc=null,Error(F(185));Bi(t,n,r),(!(ne&2)||t!==ze)&&(t===ze&&(!(ne&2)&&(Xl|=n),De===4&&In(t,We)),mt(t,r),n===1&&ne===0&&!(e.mode&1)&&(us=Ie()+500,Kl&&Xn()))}function mt(t,e){var n=t.callbackNode;V1(t,e);var r=rl(t,t===ze?We:0);if(r===0)n!==null&&ff(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ff(n),e===1)t.tag===0?b_(ip.bind(null,t)):Ng(ip.bind(null,t)),R_(function(){!(ne&6)&&Xn()}),n=null;else{switch(rg(r)){case 1:n=Bc;break;case 4:n=eg;break;case 16:n=nl;break;case 536870912:n=tg;break;default:n=nl}n=Cy(n,xy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function xy(t,e){if(Wo=-1,Ko=0,ne&6)throw Error(F(327));var n=t.callbackNode;if(Zr()&&t.callbackNode!==n)return null;var r=rl(t,t===ze?We:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wl(t,r);else{e=r;var s=ne;ne|=2;var i=Ey();(ze!==t||We!==e)&&(tn=null,us=Ie()+500,dr(t,e));do try{tx();break}catch(a){wy(t,a)}while(!0);th(),vl.current=i,ne=s,Ne!==null?e=0:(ze=null,We=0,e=De)}if(e!==0){if(e===2&&(s=bu(t),s!==0&&(r=s,e=ac(t,s))),e===1)throw n=Ai,dr(t,0),In(t,r),mt(t,Ie()),n;if(e===6)In(t,r);else{if(s=t.current.alternate,!(r&30)&&!Z_(s)&&(e=wl(t,r),e===2&&(i=bu(t),i!==0&&(r=i,e=ac(t,i))),e===1))throw n=Ai,dr(t,0),In(t,r),mt(t,Ie()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:or(t,ht,tn);break;case 3:if(In(t,r),(r&130023424)===r&&(e=gh+500-Ie(),10<e)){if(rl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Bu(or.bind(null,t,ht,tn),e);break}or(t,ht,tn);break;case 4:if(In(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Ot(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Ie()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*J_(r/1960))-r,10<r){t.timeoutHandle=Bu(or.bind(null,t,ht,tn),r);break}or(t,ht,tn);break;case 5:or(t,ht,tn);break;default:throw Error(F(329))}}}return mt(t,Ie()),t.callbackNode===n?xy.bind(null,t):null}function ac(t,e){var n=ii;return t.current.memoizedState.isDehydrated&&(dr(t,e).flags|=256),t=wl(t,e),t!==2&&(e=ht,ht=n,e!==null&&uc(e)),t}function uc(t){ht===null?ht=t:ht.push.apply(ht,t)}function Z_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function In(t,e){for(e&=~mh,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function ip(t){if(ne&6)throw Error(F(327));Zr();var e=rl(t,0);if(!(e&1))return mt(t,Ie()),null;var n=wl(t,e);if(t.tag!==0&&n===2){var r=bu(t);r!==0&&(e=r,n=ac(t,r))}if(n===1)throw n=Ai,dr(t,0),In(t,e),mt(t,Ie()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,or(t,ht,tn),mt(t,Ie()),null}function yh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(us=Ie()+500,Kl&&Xn())}}function wr(t){Nn!==null&&Nn.tag===0&&!(ne&6)&&Zr();var e=ne;ne|=1;var n=Ct.transition,r=oe;try{if(Ct.transition=null,oe=1,t)return t()}finally{oe=r,Ct.transition=n,ne=e,!(ne&6)&&Xn()}}function vh(){vt=Gr.current,de(Gr)}function dr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,A_(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&al();break;case 3:ls(),de(ft),de(tt),lh();break;case 5:oh(r);break;case 4:ls();break;case 13:de(_e);break;case 19:de(_e);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(ze=t,Ne=t=zn(t.current,null),We=vt=e,De=0,Ai=null,mh=Xl=xr=0,ht=ii=null,ur!==null){for(e=0;e<ur.length;e++)if(n=ur[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}ur=null}return t}function wy(t,e){do{var n=Ne;try{if(th(),Bo.current=yl,gl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}gl=!1}if(_r=0,Me=je=we=null,ri=!1,Ii=0,ph.current=null,n===null||n.return===null){De=1,Ai=e,Ne=null;break}e:{var i=t,l=n.return,a=n,c=e;if(e=We,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var N=Kf(l);if(N!==null){N.flags&=-257,Gf(N,l,a,i,e),N.mode&1&&Wf(i,d,e),e=N,c=d;var A=e.updateQueue;if(A===null){var R=new Set;R.add(c),e.updateQueue=R}else A.add(c);break e}else{if(!(e&1)){Wf(i,d,e),_h();break e}c=Error(F(426))}}else if(me&&a.mode&1){var M=Kf(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Gf(M,l,a,i,e),Zc(as(c,a));break e}}i=c=as(c,a),De!==4&&(De=2),ii===null?ii=[i]:ii.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=sy(i,c,e);zf(i,T);break e;case 1:a=c;var x=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(Mn===null||!Mn.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=iy(i,a,e);zf(i,j);break e}}i=i.return}while(i!==null)}Sy(n)}catch(D){e=D,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function Ey(){var t=vl.current;return vl.current=yl,t===null?yl:t}function _h(){(De===0||De===3||De===2)&&(De=4),ze===null||!(xr&268435455)&&!(Xl&268435455)||In(ze,We)}function wl(t,e){var n=ne;ne|=2;var r=Ey();(ze!==t||We!==e)&&(tn=null,dr(t,e));do try{ex();break}catch(s){wy(t,s)}while(!0);if(th(),ne=n,vl.current=r,Ne!==null)throw Error(F(261));return ze=null,We=0,De}function ex(){for(;Ne!==null;)ky(Ne)}function tx(){for(;Ne!==null&&!I1();)ky(Ne)}function ky(t){var e=Iy(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?Sy(t):Ne=e,ph.current=null}function Sy(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Q_(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ne=null;return}}else if(n=G_(n,e,vt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);De===0&&(De=5)}function or(t,e,n){var r=oe,s=Ct.transition;try{Ct.transition=null,oe=1,nx(t,e,n,r)}finally{Ct.transition=s,oe=r}return null}function nx(t,e,n,r){do Zr();while(Nn!==null);if(ne&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(M1(t,i),t===ze&&(Ne=ze=null,We=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||No||(No=!0,Cy(nl,function(){return Zr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var l=oe;oe=1;var a=ne;ne|=4,ph.current=null,X_(t,n),vy(n,t),E_(Fu),sl=!!Ou,Fu=Ou=null,t.current=n,Y_(n),C1(),ne=a,oe=l,Ct.transition=i}else t.current=n;if(No&&(No=!1,Nn=t,xl=s),i=t.pendingLanes,i===0&&(Mn=null),R1(n.stateNode),mt(t,Ie()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(_l)throw _l=!1,t=oc,oc=null,t;return xl&1&&t.tag!==0&&Zr(),i=t.pendingLanes,i&1?t===lc?oi++:(oi=0,lc=t):oi=0,Xn(),null}function Zr(){if(Nn!==null){var t=rg(xl),e=Ct.transition,n=oe;try{if(Ct.transition=null,oe=16>t?16:t,Nn===null)var r=!1;else{if(t=Nn,Nn=null,xl=0,ne&6)throw Error(F(331));var s=ne;for(ne|=4,H=t.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(H=d;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:si(8,p,i)}var g=p.child;if(g!==null)g.return=p,H=g;else for(;H!==null;){p=H;var m=p.sibling,N=p.return;if(my(p),p===d){H=null;break}if(m!==null){m.return=N,H=m;break}H=N}}}var A=i.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var M=R.sibling;R.sibling=null,R=M}while(R!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,H=T;break e}H=i.return}}var x=t.current;for(H=x;H!==null;){l=H;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,H=I;else e:for(l=x;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ql(9,a)}}catch(D){Se(a,a.return,D)}if(a===l){H=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,H=j;break e}H=a.return}}if(ne=s,Xn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ul,t)}catch{}r=!0}return r}finally{oe=n,Ct.transition=e}}return!1}function op(t,e,n){e=as(n,e),e=sy(t,e,1),t=Vn(t,e,1),e=it(),t!==null&&(Bi(t,1,e),mt(t,e))}function Se(t,e,n){if(t.tag===3)op(t,t,n);else for(;e!==null;){if(e.tag===3){op(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Mn===null||!Mn.has(r))){t=as(n,t),t=iy(e,t,1),e=Vn(e,t,1),t=it(),e!==null&&(Bi(e,1,t),mt(e,t));break}}e=e.return}}function rx(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,ze===t&&(We&n)===n&&(De===4||De===3&&(We&130023424)===We&&500>Ie()-gh?dr(t,0):mh|=n),mt(t,e)}function Ty(t,e){e===0&&(t.mode&1?(e=vo,vo<<=1,!(vo&130023424)&&(vo=4194304)):e=1);var n=it();t=hn(t,e),t!==null&&(Bi(t,e,n),mt(t,n))}function sx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ty(t,n)}function ix(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Ty(t,n)}var Iy;Iy=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,K_(t,e,n);dt=!!(t.flags&131072)}else dt=!1,me&&e.flags&1048576&&Ag(e,hl,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ho(t,e),t=e.pendingProps;var s=ss(e,tt.current);Jr(e,n),s=uh(null,e,r,t,s,n);var i=ch();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(i=!0,ul(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sh(e),s.updater=Gl,e.stateNode=s,s._reactInternals=e,qu(e,r,t,n),e=Ju(null,e,r,!0,i,n)):(e.tag=0,me&&i&&Yc(e),st(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ho(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=lx(r),t=jt(r,t),s){case 0:e=Yu(null,e,r,t,n);break e;case 1:e=Xf(null,e,r,t,n);break e;case 11:e=Qf(null,e,r,t,n);break e;case 14:e=qf(null,e,r,jt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Yu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Xf(t,e,r,s,n);case 3:e:{if(uy(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Dg(t,e),pl(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=as(Error(F(423)),e),e=Yf(t,e,r,n,s);break e}else if(r!==s){s=as(Error(F(424)),e),e=Yf(t,e,r,n,s);break e}else for(_t=bn(e.stateNode.containerInfo.firstChild),xt=e,me=!0,bt=null,n=Lg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(is(),r===s){e=dn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return zg(e),t===null&&Ku(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Uu(r,s)?l=null:i!==null&&Uu(r,i)&&(e.flags|=32),ay(t,e),st(t,e,l,n),e.child;case 6:return t===null&&Ku(e),null;case 13:return cy(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=os(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Qf(t,e,r,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,ae(dl,r._currentValue),r._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===s.children&&!ft.current){e=dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=on(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Gu(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(F(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Gu(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Jr(e,n),s=Nt(s),r=r(s),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,s=jt(r,e.pendingProps),s=jt(r.type,s),qf(t,e,r,s,n);case 15:return oy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Ho(t,e),e.tag=1,pt(r)?(t=!0,ul(e)):t=!1,Jr(e,n),Vg(e,r,s),qu(e,r,s,n),Ju(null,e,r,!0,t,n);case 19:return hy(t,e,n);case 22:return ly(t,e,n)}throw Error(F(156,e.tag))};function Cy(t,e){return Zm(t,e)}function ox(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new ox(t,e,n,r)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function lx(t){if(typeof t=="function")return xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oc)return 11;if(t===Fc)return 14}return 2}function zn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Go(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")xh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Lr:return fr(n.children,s,i,e);case zc:l=8,s|=8;break;case _u:return t=It(12,n,e,s|2),t.elementType=_u,t.lanes=i,t;case xu:return t=It(13,n,e,s),t.elementType=xu,t.lanes=i,t;case wu:return t=It(19,n,e,s),t.elementType=wu,t.lanes=i,t;case Mm:return Yl(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case bm:l=10;break e;case Vm:l=9;break e;case Oc:l=11;break e;case Fc:l=14;break e;case kn:l=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=It(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function fr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Yl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Mm,t.lanes=n,t.stateNode={isHidden:!1},t}function ou(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function lu(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ax(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ua(0),this.expirationTimes=Ua(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ua(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wh(t,e,n,r,s,i,l,a,c){return t=new ax(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(i),t}function ux(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Ny(t){if(!t)return $n;t=t._reactInternals;e:{if(Cr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(pt(n))return Cg(t,n,e)}return e}function Ay(t,e,n,r,s,i,l,a,c){return t=wh(n,r,!0,t,s,i,l,a,c),t.context=Ny(null),n=t.current,r=it(),s=Ln(n),i=on(r,s),i.callback=e??null,Vn(n,i,s),t.current.lanes=s,Bi(t,s,r),mt(t,r),t}function Jl(t,e,n,r){var s=e.current,i=it(),l=Ln(s);return n=Ny(n),e.context===null?e.context=n:e.pendingContext=n,e=on(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Vn(s,e,l),t!==null&&(Ft(t,s,l,i),Uo(t,s,l)),l}function El(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eh(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function cx(){return null}var Ry=typeof reportError=="function"?reportError:function(t){console.error(t)};function kh(t){this._internalRoot=t}Zl.prototype.render=kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Jl(t,e,null,null)};Zl.prototype.unmount=kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wr(function(){Jl(null,t,null,null)}),e[cn]=null}};function Zl(t){this._internalRoot=t}Zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=og();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tn.length&&e!==0&&e<Tn[n].priority;n++);Tn.splice(n,0,t),n===0&&ag(t)}};function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ea(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function hx(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=El(l);i.call(d)}}var l=Ay(e,r,t,0,null,!1,!1,"",ap);return t._reactRootContainer=l,t[cn]=l.current,wi(t.nodeType===8?t.parentNode:t),wr(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=El(c);a.call(d)}}var c=wh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=c,t[cn]=c.current,wi(t.nodeType===8?t.parentNode:t),wr(function(){Jl(e,c,n,r)}),c}function ta(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=El(l);a.call(c)}}Jl(e,l,t,s)}else l=hx(n,e,t,s,r);return El(l)}sg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qs(e.pendingLanes);n!==0&&($c(e,n|1),mt(e,Ie()),!(ne&6)&&(us=Ie()+500,Xn()))}break;case 13:wr(function(){var r=hn(t,1);if(r!==null){var s=it();Ft(r,t,1,s)}}),Eh(t,1)}};Hc=function(t){if(t.tag===13){var e=hn(t,134217728);if(e!==null){var n=it();Ft(e,t,134217728,n)}Eh(t,134217728)}};ig=function(t){if(t.tag===13){var e=Ln(t),n=hn(t,e);if(n!==null){var r=it();Ft(n,t,e,r)}Eh(t,e)}};og=function(){return oe};lg=function(t,e){var n=oe;try{return oe=t,e()}finally{oe=n}};Pu=function(t,e,n){switch(e){case"input":if(Su(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Wl(r);if(!s)throw Error(F(90));zm(r),Su(r,s)}}}break;case"textarea":Fm(t,n);break;case"select":e=n.value,e!=null&&Qr(t,!!n.multiple,e,!1)}};Gm=yh;Qm=wr;var dx={usingClientEntryPoint:!1,Events:[Hi,Ur,Wl,Wm,Km,yh]},Ws={findFiberByHostInstance:ar,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},fx={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ym(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||cx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ao=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ao.isDisabled&&Ao.supportsFiber)try{Ul=Ao.inject(fx),Qt=Ao}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dx;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(e))throw Error(F(200));return ux(t,e,null,n)};Et.createRoot=function(t,e){if(!Sh(t))throw Error(F(299));var n=!1,r="",s=Ry;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wh(t,1,!1,null,null,n,!1,r,s),t[cn]=e.current,wi(t.nodeType===8?t.parentNode:t),new kh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Ym(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return wr(t)};Et.hydrate=function(t,e,n){if(!ea(e))throw Error(F(200));return ta(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Sh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Ry;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Ay(e,null,t,1,n??null,s,!1,i,l),t[cn]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Zl(e)};Et.render=function(t,e,n){if(!ea(e))throw Error(F(200));return ta(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!ea(t))throw Error(F(40));return t._reactRootContainer?(wr(function(){ta(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};Et.unstable_batchedUpdates=yh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ea(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return ta(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";function Py(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Py)}catch(t){console.error(t)}}Py(),Am.exports=Et;var px=Am.exports,jy,up=px;jy=up.createRoot,up.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ri.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const cp="popstate";function mx(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:a}=r.location;return cc("",{pathname:i,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dy(s)}return yx(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Th(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gx(){return Math.random().toString(36).substr(2,8)}function hp(t,e){return{usr:t.state,key:t.key,idx:e}}function cc(t,e,n,r){return n===void 0&&(n=null),Ri({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||gx()})}function Dy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function yx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,a=An.Pop,c=null,d=p();d==null&&(d=0,l.replaceState(Ri({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function g(){a=An.Pop;let M=p(),T=M==null?null:M-d;d=M,c&&c({action:a,location:R.location,delta:T})}function m(M,T){a=An.Push;let x=cc(R.location,M,T);d=p()+1;let I=hp(x,d),j=R.createHref(x);try{l.pushState(I,"",j)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;s.location.assign(j)}i&&c&&c({action:a,location:R.location,delta:1})}function N(M,T){a=An.Replace;let x=cc(R.location,M,T);d=p();let I=hp(x,d),j=R.createHref(x);l.replaceState(I,"",j),i&&c&&c({action:a,location:R.location,delta:0})}function A(M){let T=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof M=="string"?M:Dy(M);return Re(T,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,T)}let R={get action(){return a},get location(){return t(s,l)},listen(M){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cp,g),c=M,()=>{s.removeEventListener(cp,g),c=null}},createHref(M){return e(s,M)},createURL:A,encodeLocation(M){let T=A(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:N,go(M){return l.go(M)}};return R}var dp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dp||(dp={}));function vx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,s=My(r.pathname||"/",n);if(s==null)return null;let i=by(t);_x(i);let l=null;for(let a=0;l==null&&a<i.length;++a)l=Nx(i[a],Px(s));return l}function by(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=pr([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),by(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:Ix(d,i.index),routesMeta:p})};return t.forEach((i,l)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,l);else for(let c of Vy(i.path))s(i,l,c)}),e}function Vy(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=Vy(r.join("/")),a=[];return a.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...l),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function _x(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Cx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const xx=/^:\w+$/,wx=3,Ex=2,kx=1,Sx=10,Tx=-2,fp=t=>t==="*";function Ix(t,e){let n=t.split("/"),r=n.length;return n.some(fp)&&(r+=Tx),e&&(r+=Ex),n.filter(s=>!fp(s)).reduce((s,i)=>s+(xx.test(i)?wx:i===""?kx:Sx),r)}function Cx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Nx(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let l=0;l<n.length;++l){let a=n[l],c=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Ax({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!p)return null;Object.assign(r,p.params);let g=a.route;i.push({params:r,pathname:pr([s,p.pathname]),pathnameBase:Vx(pr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=pr([s,p.pathnameBase]))}return i}function Ax(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Rx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{if(p==="*"){let m=a[g]||"";l=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return d[p]=jx(a[g]||"",p),d},{}),pathname:i,pathnameBase:l,pattern:t}}function Rx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Th(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Px(t){try{return decodeURI(t)}catch(e){return Th(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function jx(t,e){try{return decodeURIComponent(t)}catch(n){return Th(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function My(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Dx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:bx(n,e):e,search:Mx(r),hash:Lx(s)}}function bx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function au(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Ly(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vs(t):(s=Ri({},t),Re(!s.pathname||!s.pathname.includes("?"),au("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),au("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),au("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,a;if(r||l==null)a=n;else{let g=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?e[g]:"/"}let c=Dx(s,a),d=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const pr=t=>t.join("/").replace(/\/\/+/g,"/"),Vx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Mx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Lx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function zx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Oy=["post","put","patch","delete"];new Set(Oy);const Ox=["get",...Oy];new Set(Ox);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kl(){return kl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kl.apply(this,arguments)}const Ih=V.createContext(null),Fx=V.createContext(null),na=V.createContext(null),ra=V.createContext(null),Yn=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=V.createContext(null);function Ki(){return V.useContext(ra)!=null}function sa(){return Ki()||Re(!1),V.useContext(ra).location}function Uy(t){V.useContext(na).static||V.useLayoutEffect(t)}function Oe(){let{isDataRoute:t}=V.useContext(Yn);return t?Zx():Ux()}function Ux(){Ki()||Re(!1);let t=V.useContext(Ih),{basename:e,navigator:n}=V.useContext(na),{matches:r}=V.useContext(Yn),{pathname:s}=sa(),i=JSON.stringify(Ly(r).map(c=>c.pathnameBase)),l=V.useRef(!1);return Uy(()=>{l.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=zy(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:pr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,i,s,t])}function By(){let{matches:t}=V.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function Bx(t,e){return $x(t,e)}function $x(t,e,n){Ki()||Re(!1);let{navigator:r}=V.useContext(na),{matches:s}=V.useContext(Yn),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let c=sa(),d;if(e){var p;let R=typeof e=="string"?vs(e):e;a==="/"||(p=R.pathname)!=null&&p.startsWith(a)||Re(!1),d=R}else d=c;let g=d.pathname||"/",m=a==="/"?g:g.slice(a.length)||"/",N=vx(t,{pathname:m}),A=Qx(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:pr([a,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?a:pr([a,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n);return e&&A?V.createElement(ra.Provider,{value:{location:kl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:An.Pop}},A):A}function Hx(){let t=Jx(),e=zx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const Wx=V.createElement(Hx,null);class Kx extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?V.createElement(Yn.Provider,{value:this.props.routeContext},V.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gx(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext(Ih);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Yn.Provider,{value:e},r)}function Qx(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let a=i.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id]));a>=0||Re(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,c,d)=>{let p=c.route.id?l==null?void 0:l[c.route.id]:null,g=null;n&&(g=c.route.errorElement||Wx);let m=e.concat(i.slice(0,d+1)),N=()=>{let A;return p?A=g:c.route.Component?A=V.createElement(c.route.Component,null):c.route.element?A=c.route.element:A=a,V.createElement(Gx,{match:c,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:A})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?V.createElement(Kx,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:N(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):N()},null)}var hc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(hc||(hc={}));var Pi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Pi||(Pi={}));function qx(t){let e=V.useContext(Ih);return e||Re(!1),e}function Xx(t){let e=V.useContext(Fx);return e||Re(!1),e}function Yx(t){let e=V.useContext(Yn);return e||Re(!1),e}function $y(t){let e=Yx(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function Jx(){var t;let e=V.useContext(Fy),n=Xx(Pi.UseRouteError),r=$y(Pi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Zx(){let{router:t}=qx(hc.UseNavigateStable),e=$y(Pi.UseNavigateStable),n=V.useRef(!1);return Uy(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,kl({fromRouteId:e},i)))},[t,e])}function ew(t){let{to:e,replace:n,state:r,relative:s}=t;Ki()||Re(!1);let{matches:i}=V.useContext(Yn),{pathname:l}=sa(),a=Oe(),c=zy(e,Ly(i).map(p=>p.pathnameBase),l,s==="path"),d=JSON.stringify(c);return V.useEffect(()=>a(JSON.parse(d),{replace:n,state:r,relative:s}),[a,d,s,n,r]),null}function ie(t){Re(!1)}function tw(t){let{basename:e="/",children:n=null,location:r,navigationType:s=An.Pop,navigator:i,static:l=!1}=t;Ki()&&Re(!1);let a=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:a,navigator:i,static:l}),[a,i,l]);typeof r=="string"&&(r=vs(r));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:N="default"}=r,A=V.useMemo(()=>{let R=My(d,a);return R==null?null:{location:{pathname:R,search:p,hash:g,state:m,key:N},navigationType:s}},[a,d,p,g,m,N,s]);return A==null?null:V.createElement(na.Provider,{value:c},V.createElement(ra.Provider,{children:n,value:A}))}function nw(t){let{children:e,location:n}=t;return Bx(dc(e),n)}var pp;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(pp||(pp={}));new Promise(()=>{});function dc(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){n.push.apply(n,dc(r.props.children,i));return}r.type!==ie&&Re(!1),!r.props.index||!r.props.children||Re(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=dc(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const rw="startTransition",mp=s1[rw];function sw(t){let{basename:e,children:n,future:r,window:s}=t,i=V.useRef();i.current==null&&(i.current=mx({window:s,v5Compat:!0}));let l=i.current,[a,c]=V.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=V.useCallback(g=>{d&&mp?mp(()=>c(g)):c(g)},[c,d]);return V.useLayoutEffect(()=>l.listen(p),[l,p]),V.createElement(tw,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:l})}var gp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(gp||(gp={}));var yp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yp||(yp={}));const iw={bg:"#ffffff",surface:"#f8fafc",muted:"#f1f5f9",text:"#0f172a",accent:"#2563eb","accent-2":"#8b5cf6"},ow={xl:"1.5rem"},lw={md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},U={colors:iw,radii:ow,shadows:lw},aw=V.useState;function uw(){const t=Oe(),[e,n]=aw(!1),r=()=>{e&&t("/DemographicForm/Demographics")},s=U.colors,i=U.shadows,l=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${s.bg} 0%, ${s.surface} 100%)`},children:u.jsxs("div",{className:"max-w-5xl w-full",style:{backgroundColor:s.bg,borderRadius:l.xl,boxShadow:i.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-16 text-center",style:{background:`linear-gradient(135deg, ${s.accent} 0%, ${s["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("div",{className:"inline-block px-4 py-2 mb-4 rounded-full text-xs uppercase tracking-widest font-semibold",style:{backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"},children:"Kutatásban való részvétel"}),u.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 leading-tight",style:{color:"#ffffff"},children:["Orvosi képek értékelése",u.jsx("br",{}),"mesterséges intelligencia támogatással"]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Kutató:"})," Baltay Márton, MSc hallgató"]})]}),u.jsx("div",{className:"hidden sm:block opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Egyetem:"})," Pázmány Péter Katolikus Egyetem"]})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mi a feladat?"}),u.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Radiológiai képeken artritisz jelenlétének felismerése – eldönti, van-e artritisz, és megjelöli a gyanús területet."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mennyi idő?"}),u.jsx("p",{className:"mb-4",style:{color:s.text,opacity:.8},children:u.jsx("strong",{children:"90-120 perc összesen:"})}),u.jsxs("ul",{className:"space-y-2",style:{color:s.text},children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Bevezető előadás (20-30 perc)"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"5 gyakorló kép"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Több értékelési szakasz (~30 kép/szakasz)"})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",style:{color:"#92400e"},children:"Fontos feltételek"}),u.jsx("p",{className:"mb-3 font-semibold",style:{color:"#78350f"},children:"A tesztet egyetlen ülésben, megszakítás nélkül kell elvégezni!"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Napközben végezze, amikor pihent"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Biztosítson zavartalan környezetet"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Nem lehet szünetet tartani vagy kilépni"})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Adatkezelés"}),u.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Adatai anonimizálva, kizárólag kutatási célra kerülnek felhasználásra."})]})]})}),u.jsxs("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`2px solid ${s.muted}`},children:[u.jsx("p",{className:"mb-4 font-semibold",style:{color:s.text},children:"A továbblépéssel kijelentem, hogy:"}),u.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",checked:e,onChange:a=>n(a.target.checked),className:"mt-1 w-5 h-5 cursor-pointer",style:{accentColor:s.accent}}),u.jsx("span",{className:"flex-1 leading-relaxed group-hover:opacity-80 transition-opacity",style:{color:s.text},children:"Elolvastam a tájékoztatót és megértettem a kutatás célját, menetét és feltételeit. Önként vállalom a részvételt."})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 pt-8 border-t-2",style:{borderTopColor:s.muted},children:[u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:s.text},children:"Kérdése van?"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("a",{href:"mailto:baltay.marton@gmail.com",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"baltay.marton@gmail.com"}),u.jsx("a",{href:"tel:+36203971061",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"+36 20 397 1061"})]})]}),u.jsx("button",{onClick:r,disabled:!e,className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed shadow-lg disabled:shadow-none",style:{backgroundColor:e?s.accent:s.muted,color:e?"#ffffff":s.text,opacity:e?1:.5},children:"Kezdés →"})]})]})]})})}function cw(){const t=Math.random()<.5,e=t?"1":"0",n="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<9;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return{userID:e+r,treatmentGroup:t?"treatment":"control",randomizationSeed:Math.floor(Math.random()*1e6)}}const hw=()=>{};var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},dw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},Wy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,a=l?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,N=d&63;c||(N=64,l||(m=64)),r.push(n[p],n[g],n[m],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Hy(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):dw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||g==null)throw new fw;const m=i<<2|a>>4;if(r.push(m),d!==64){const N=a<<4&240|d>>2;if(r.push(N),g!==64){const A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class fw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pw=function(t){const e=Hy(t);return Wy.encodeByteArray(e,!0)},Sl=function(t){return pw(t).replace(/\./g,"")},mw=function(t){try{return Wy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw=()=>gw().__FIREBASE_DEFAULTS__,vw=()=>{if(typeof process>"u"||typeof vp>"u")return;const t=vp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},_w=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mw(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return hw()||yw()||vw()||_w()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xw=t=>{var e,n;return(n=(e=Ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ww=t=>{const e=xw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Ky=()=>{var t;return(t=Ch())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function kw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Sl(JSON.stringify(n)),Sl(JSON.stringify(l)),""].join(".")}const li={};function Tw(){const t={prod:[],emulator:[]};for(const e of Object.keys(li))li[e]?t.emulator.push(e):t.prod.push(e);return t}function Iw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _p=!1;function Cw(t,e){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||li[t]===e||li[t]||_p)return;li[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=Tw().prod.length>0;function l(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,N){m.setAttribute("width","24"),m.setAttribute("id",N),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_p=!0,l()},m}function p(m,N){m.setAttribute("id",N),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=Iw(r),N=n("text"),A=document.getElementById(N)||document.createElement("span"),R=n("learnmore"),M=document.getElementById(R)||document.createElement("a"),T=n("preprendIcon"),x=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),p(M,R);const j=d();c(x,T),I.append(x,A,M,j),document.body.appendChild(I)}i?(A.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Aw(){var e;const t=(e=Ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Rw(){return!Aw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Pw(){try{return typeof indexedDB=="object"}catch{return!1}}function jw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Dw,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gy.prototype.create)}}class Gy{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?bw(i,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new _s(s,a,r)}}function bw(t,e){return t.replace(Vw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Vw=/\{\$([^}]+)}/g;function Tl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(xp(i)&&xp(l)){if(!Tl(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ji(t){return t&&t._delegate?t._delegate:t}class Di{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Ew;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zw(e))try{this.getOrInitializeService({instanceIdentifier:lr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lr){return this.instances.has(e)}getOptions(e=lr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Lw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lr){return this.component?this.component.multipleInstances?e:lr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Lw(t){return t===lr?void 0:t}function zw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ow{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Mw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const Fw={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Uw=te.INFO,Bw={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},$w=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=Bw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Qy{constructor(e){this.name=e,this._logLevel=Uw,this._logHandler=$w,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Fw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const Hw=(t,e)=>e.some(n=>t instanceof n);let wp,Ep;function Ww(){return wp||(wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Kw(){return Ep||(Ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qy=new WeakMap,fc=new WeakMap,Xy=new WeakMap,uu=new WeakMap,Ah=new WeakMap;function Gw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(On(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&qy.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function Qw(t){if(fc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});fc.set(t,e)}let pc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return fc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Xy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return On(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function qw(t){pc=t(pc)}function Xw(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(cu(this),e,...n);return Xy.set(r,e.sort?e.sort():[e]),On(r)}:Kw().includes(t)?function(...e){return t.apply(cu(this),e),On(qy.get(this))}:function(...e){return On(t.apply(cu(this),e))}}function Yw(t){return typeof t=="function"?Xw(t):(t instanceof IDBTransaction&&Qw(t),Hw(t,Ww())?new Proxy(t,pc):t)}function On(t){if(t instanceof IDBRequest)return Gw(t);if(uu.has(t))return uu.get(t);const e=Yw(t);return e!==t&&(uu.set(t,e),Ah.set(e,t)),e}const cu=t=>Ah.get(t);function Jw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),a=On(l);return r&&l.addEventListener("upgradeneeded",c=>{r(On(l.result),c.oldVersion,c.newVersion,On(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const Zw=["get","getKey","getAll","getAllKeys","count"],eE=["put","add","delete","clear"],hu=new Map;function kp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(hu.get(e))return hu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=eE.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Zw.includes(n)))return;const i=async function(l,...a){const c=this.transaction(l,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return hu.set(e,i),i}qw(t=>({...t,get:(e,n,r)=>kp(e,n)||t.get(e,n,r),has:(e,n)=>!!kp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(nE(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function nE(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const mc="@firebase/app",Sp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fn=new Qy("@firebase/app"),rE="@firebase/app-compat",sE="@firebase/analytics-compat",iE="@firebase/analytics",oE="@firebase/app-check-compat",lE="@firebase/app-check",aE="@firebase/auth",uE="@firebase/auth-compat",cE="@firebase/database",hE="@firebase/data-connect",dE="@firebase/database-compat",fE="@firebase/functions",pE="@firebase/functions-compat",mE="@firebase/installations",gE="@firebase/installations-compat",yE="@firebase/messaging",vE="@firebase/messaging-compat",_E="@firebase/performance",xE="@firebase/performance-compat",wE="@firebase/remote-config",EE="@firebase/remote-config-compat",kE="@firebase/storage",SE="@firebase/storage-compat",TE="@firebase/firestore",IE="@firebase/ai",CE="@firebase/firestore-compat",NE="firebase",AE="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gc="[DEFAULT]",RE={[mc]:"fire-core",[rE]:"fire-core-compat",[iE]:"fire-analytics",[sE]:"fire-analytics-compat",[lE]:"fire-app-check",[oE]:"fire-app-check-compat",[aE]:"fire-auth",[uE]:"fire-auth-compat",[cE]:"fire-rtdb",[hE]:"fire-data-connect",[dE]:"fire-rtdb-compat",[fE]:"fire-fn",[pE]:"fire-fn-compat",[mE]:"fire-iid",[gE]:"fire-iid-compat",[yE]:"fire-fcm",[vE]:"fire-fcm-compat",[_E]:"fire-perf",[xE]:"fire-perf-compat",[wE]:"fire-rc",[EE]:"fire-rc-compat",[kE]:"fire-gcs",[SE]:"fire-gcs-compat",[TE]:"fire-fst",[CE]:"fire-fst-compat",[IE]:"fire-vertex","fire-js":"fire-js",[NE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new Map,PE=new Map,yc=new Map;function Tp(t,e){try{t.container.addComponent(e)}catch(n){fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Cl(t){const e=t.name;if(yc.has(e))return fn.debug(`There were multiple attempts to register component ${e}.`),!1;yc.set(e,t);for(const n of Il.values())Tp(n,t);for(const n of PE.values())Tp(n,t);return!0}function jE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function DE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fn=new Gy("app","Firebase",bE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=AE;function Yy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:gc,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Fn.create("bad-app-name",{appName:String(s)});if(n||(n=Ky()),!n)throw Fn.create("no-options");const i=Il.get(s);if(i){if(Tl(n,i.options)&&Tl(r,i.config))return i;throw Fn.create("duplicate-app",{appName:s})}const l=new Ow(s);for(const c of yc.values())l.addComponent(c);const a=new VE(n,r,l);return Il.set(s,a),a}function LE(t=gc){const e=Il.get(t);if(!e&&t===gc&&Ky())return Yy();if(!e)throw Fn.create("no-app",{appName:t});return e}function es(t,e,n){let r=RE[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fn.warn(l.join(" "));return}Cl(new Di(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firebase-heartbeat-database",OE=1,bi="firebase-heartbeat-store";let du=null;function Jy(){return du||(du=Jw(zE,OE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(bi)}catch(n){console.warn(n)}}}}).catch(t=>{throw Fn.create("idb-open",{originalErrorMessage:t.message})})),du}async function FE(t){try{const n=(await Jy()).transaction(bi),r=await n.objectStore(bi).get(Zy(t));return await n.done,r}catch(e){if(e instanceof _s)fn.warn(e.message);else{const n=Fn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fn.warn(n.message)}}}async function Ip(t,e){try{const r=(await Jy()).transaction(bi,"readwrite");await r.objectStore(bi).put(e,Zy(t)),await r.done}catch(n){if(n instanceof _s)fn.warn(n.message);else{const r=Fn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fn.warn(r.message)}}}function Zy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE=1024,BE=30;class $E{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>BE){const l=KE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){fn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cp(),{heartbeatsToSend:r,unsentEntries:s}=HE(this._heartbeatsCache.heartbeats),i=Sl(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return fn.warn(n),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function HE(t,e=UE){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Np(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Np(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class WE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Pw()?jw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await FE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Np(t){return Sl(JSON.stringify({version:2,heartbeats:t})).length}function KE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){Cl(new Di("platform-logger",e=>new tE(e),"PRIVATE")),Cl(new Di("heartbeat",e=>new $E(e),"PRIVATE")),es(mc,Sp,t),es(mc,Sp,"esm2020"),es("fire-js","")}GE("");var QE="firebase",qE="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(QE,qE,"app");var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function k(){}k.prototype=v.prototype,E.F=v.prototype,E.prototype=new k,E.prototype.constructor=E,E.D=function(_,w,C){for(var S=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)S[Z-2]=arguments[Z];return v.prototype[w].apply(_,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,v,k){k||(k=0);const _=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)_[w]=v.charCodeAt(k++)|v.charCodeAt(k++)<<8|v.charCodeAt(k++)<<16|v.charCodeAt(k++)<<24;else for(w=0;w<16;++w)_[w]=v[k++]|v[k++]<<8|v[k++]<<16|v[k++]<<24;v=E.g[0],k=E.g[1],w=E.g[2];let C=E.g[3],S;S=v+(C^k&(w^C))+_[0]+3614090360&4294967295,v=k+(S<<7&4294967295|S>>>25),S=C+(w^v&(k^w))+_[1]+3905402710&4294967295,C=v+(S<<12&4294967295|S>>>20),S=w+(k^C&(v^k))+_[2]+606105819&4294967295,w=C+(S<<17&4294967295|S>>>15),S=k+(v^w&(C^v))+_[3]+3250441966&4294967295,k=w+(S<<22&4294967295|S>>>10),S=v+(C^k&(w^C))+_[4]+4118548399&4294967295,v=k+(S<<7&4294967295|S>>>25),S=C+(w^v&(k^w))+_[5]+1200080426&4294967295,C=v+(S<<12&4294967295|S>>>20),S=w+(k^C&(v^k))+_[6]+2821735955&4294967295,w=C+(S<<17&4294967295|S>>>15),S=k+(v^w&(C^v))+_[7]+4249261313&4294967295,k=w+(S<<22&4294967295|S>>>10),S=v+(C^k&(w^C))+_[8]+1770035416&4294967295,v=k+(S<<7&4294967295|S>>>25),S=C+(w^v&(k^w))+_[9]+2336552879&4294967295,C=v+(S<<12&4294967295|S>>>20),S=w+(k^C&(v^k))+_[10]+4294925233&4294967295,w=C+(S<<17&4294967295|S>>>15),S=k+(v^w&(C^v))+_[11]+2304563134&4294967295,k=w+(S<<22&4294967295|S>>>10),S=v+(C^k&(w^C))+_[12]+1804603682&4294967295,v=k+(S<<7&4294967295|S>>>25),S=C+(w^v&(k^w))+_[13]+4254626195&4294967295,C=v+(S<<12&4294967295|S>>>20),S=w+(k^C&(v^k))+_[14]+2792965006&4294967295,w=C+(S<<17&4294967295|S>>>15),S=k+(v^w&(C^v))+_[15]+1236535329&4294967295,k=w+(S<<22&4294967295|S>>>10),S=v+(w^C&(k^w))+_[1]+4129170786&4294967295,v=k+(S<<5&4294967295|S>>>27),S=C+(k^w&(v^k))+_[6]+3225465664&4294967295,C=v+(S<<9&4294967295|S>>>23),S=w+(v^k&(C^v))+_[11]+643717713&4294967295,w=C+(S<<14&4294967295|S>>>18),S=k+(C^v&(w^C))+_[0]+3921069994&4294967295,k=w+(S<<20&4294967295|S>>>12),S=v+(w^C&(k^w))+_[5]+3593408605&4294967295,v=k+(S<<5&4294967295|S>>>27),S=C+(k^w&(v^k))+_[10]+38016083&4294967295,C=v+(S<<9&4294967295|S>>>23),S=w+(v^k&(C^v))+_[15]+3634488961&4294967295,w=C+(S<<14&4294967295|S>>>18),S=k+(C^v&(w^C))+_[4]+3889429448&4294967295,k=w+(S<<20&4294967295|S>>>12),S=v+(w^C&(k^w))+_[9]+568446438&4294967295,v=k+(S<<5&4294967295|S>>>27),S=C+(k^w&(v^k))+_[14]+3275163606&4294967295,C=v+(S<<9&4294967295|S>>>23),S=w+(v^k&(C^v))+_[3]+4107603335&4294967295,w=C+(S<<14&4294967295|S>>>18),S=k+(C^v&(w^C))+_[8]+1163531501&4294967295,k=w+(S<<20&4294967295|S>>>12),S=v+(w^C&(k^w))+_[13]+2850285829&4294967295,v=k+(S<<5&4294967295|S>>>27),S=C+(k^w&(v^k))+_[2]+4243563512&4294967295,C=v+(S<<9&4294967295|S>>>23),S=w+(v^k&(C^v))+_[7]+1735328473&4294967295,w=C+(S<<14&4294967295|S>>>18),S=k+(C^v&(w^C))+_[12]+2368359562&4294967295,k=w+(S<<20&4294967295|S>>>12),S=v+(k^w^C)+_[5]+4294588738&4294967295,v=k+(S<<4&4294967295|S>>>28),S=C+(v^k^w)+_[8]+2272392833&4294967295,C=v+(S<<11&4294967295|S>>>21),S=w+(C^v^k)+_[11]+1839030562&4294967295,w=C+(S<<16&4294967295|S>>>16),S=k+(w^C^v)+_[14]+4259657740&4294967295,k=w+(S<<23&4294967295|S>>>9),S=v+(k^w^C)+_[1]+2763975236&4294967295,v=k+(S<<4&4294967295|S>>>28),S=C+(v^k^w)+_[4]+1272893353&4294967295,C=v+(S<<11&4294967295|S>>>21),S=w+(C^v^k)+_[7]+4139469664&4294967295,w=C+(S<<16&4294967295|S>>>16),S=k+(w^C^v)+_[10]+3200236656&4294967295,k=w+(S<<23&4294967295|S>>>9),S=v+(k^w^C)+_[13]+681279174&4294967295,v=k+(S<<4&4294967295|S>>>28),S=C+(v^k^w)+_[0]+3936430074&4294967295,C=v+(S<<11&4294967295|S>>>21),S=w+(C^v^k)+_[3]+3572445317&4294967295,w=C+(S<<16&4294967295|S>>>16),S=k+(w^C^v)+_[6]+76029189&4294967295,k=w+(S<<23&4294967295|S>>>9),S=v+(k^w^C)+_[9]+3654602809&4294967295,v=k+(S<<4&4294967295|S>>>28),S=C+(v^k^w)+_[12]+3873151461&4294967295,C=v+(S<<11&4294967295|S>>>21),S=w+(C^v^k)+_[15]+530742520&4294967295,w=C+(S<<16&4294967295|S>>>16),S=k+(w^C^v)+_[2]+3299628645&4294967295,k=w+(S<<23&4294967295|S>>>9),S=v+(w^(k|~C))+_[0]+4096336452&4294967295,v=k+(S<<6&4294967295|S>>>26),S=C+(k^(v|~w))+_[7]+1126891415&4294967295,C=v+(S<<10&4294967295|S>>>22),S=w+(v^(C|~k))+_[14]+2878612391&4294967295,w=C+(S<<15&4294967295|S>>>17),S=k+(C^(w|~v))+_[5]+4237533241&4294967295,k=w+(S<<21&4294967295|S>>>11),S=v+(w^(k|~C))+_[12]+1700485571&4294967295,v=k+(S<<6&4294967295|S>>>26),S=C+(k^(v|~w))+_[3]+2399980690&4294967295,C=v+(S<<10&4294967295|S>>>22),S=w+(v^(C|~k))+_[10]+4293915773&4294967295,w=C+(S<<15&4294967295|S>>>17),S=k+(C^(w|~v))+_[1]+2240044497&4294967295,k=w+(S<<21&4294967295|S>>>11),S=v+(w^(k|~C))+_[8]+1873313359&4294967295,v=k+(S<<6&4294967295|S>>>26),S=C+(k^(v|~w))+_[15]+4264355552&4294967295,C=v+(S<<10&4294967295|S>>>22),S=w+(v^(C|~k))+_[6]+2734768916&4294967295,w=C+(S<<15&4294967295|S>>>17),S=k+(C^(w|~v))+_[13]+1309151649&4294967295,k=w+(S<<21&4294967295|S>>>11),S=v+(w^(k|~C))+_[4]+4149444226&4294967295,v=k+(S<<6&4294967295|S>>>26),S=C+(k^(v|~w))+_[11]+3174756917&4294967295,C=v+(S<<10&4294967295|S>>>22),S=w+(v^(C|~k))+_[2]+718787259&4294967295,w=C+(S<<15&4294967295|S>>>17),S=k+(C^(w|~v))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(w+(S<<21&4294967295|S>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const k=v-this.blockSize,_=this.C;let w=this.h,C=0;for(;C<v;){if(w==0)for(;C<=k;)s(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(_[w++]=E.charCodeAt(C++),w==this.blockSize){s(this,_),w=0;break}}else for(;C<v;)if(_[w++]=E[C++],w==this.blockSize){s(this,_),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var k=E.length-8;k<E.length;++k)E[k]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,k=0;k<4;++k)for(let _=0;_<32;_+=8)E[v++]=this.g[k]>>>_&255;return E};function i(E,v){var k=a;return Object.prototype.hasOwnProperty.call(k,E)?k[E]:k[E]=v(E)}function l(E,v){this.h=v;const k=[];let _=!0;for(let w=E.length-1;w>=0;w--){const C=E[w]|0;_&&C==v||(k[w]=C,_=!1)}this.g=k}var a={};function c(E){return-128<=E&&E<128?i(E,function(v){return new l([v|0],v<0?-1:0)}):new l([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return M(d(-E));const v=[];let k=1;for(let _=0;E>=k;_++)v[_]=E/k|0,k*=4294967296;return new l(v,0)}function p(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return M(p(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const k=d(Math.pow(v,8));let _=g;for(let C=0;C<E.length;C+=8){var w=Math.min(8,E.length-C);const S=parseInt(E.substring(C,C+w),v);w<8?(w=d(Math.pow(v,w)),_=_.j(w).add(d(S))):(_=_.j(k),_=_.add(d(S)))}return _}var g=c(0),m=c(1),N=c(16777216);t=l.prototype,t.m=function(){if(R(this))return-M(this).m();let E=0,v=1;for(let k=0;k<this.g.length;k++){const _=this.i(k);E+=(_>=0?_:4294967296+_)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+M(this).toString(E);const v=d(Math.pow(E,6));var k=this;let _="";for(;;){const w=j(k,v).g;k=T(k,w.j(v));let C=((k.g.length>0?k.g[0]:k.h)>>>0).toString(E);if(k=w,A(k))return C+_;for(;C.length<6;)C="0"+C;_=C+_}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=T(this,E),R(E)?-1:A(E)?0:1};function M(E){const v=E.g.length,k=[];for(let _=0;_<v;_++)k[_]=~E.g[_];return new l(k,~E.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),k=[];let _=0;for(let w=0;w<=v;w++){let C=_+(this.i(w)&65535)+(E.i(w)&65535),S=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);_=S>>>16,C&=65535,S&=65535,k[w]=S<<16|C}return new l(k,k[k.length-1]&-2147483648?-1:0)};function T(E,v){return E.add(M(v))}t.j=function(E){if(A(this)||A(E))return g;if(R(this))return R(E)?M(this).j(M(E)):M(M(this).j(E));if(R(E))return M(this.j(M(E)));if(this.l(N)<0&&E.l(N)<0)return d(this.m()*E.m());const v=this.g.length+E.g.length,k=[];for(var _=0;_<2*v;_++)k[_]=0;for(_=0;_<this.g.length;_++)for(let w=0;w<E.g.length;w++){const C=this.i(_)>>>16,S=this.i(_)&65535,Z=E.i(w)>>>16,ye=E.i(w)&65535;k[2*_+2*w]+=S*ye,x(k,2*_+2*w),k[2*_+2*w+1]+=C*ye,x(k,2*_+2*w+1),k[2*_+2*w+1]+=S*Z,x(k,2*_+2*w+1),k[2*_+2*w+2]+=C*Z,x(k,2*_+2*w+2)}for(E=0;E<v;E++)k[E]=k[2*E+1]<<16|k[2*E];for(E=v;E<2*v;E++)k[E]=0;return new l(k,0)};function x(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function I(E,v){this.g=E,this.h=v}function j(E,v){if(A(v))throw Error("division by zero");if(A(E))return new I(g,g);if(R(E))return v=j(M(E),v),new I(M(v.g),M(v.h));if(R(v))return v=j(E,M(v)),new I(M(v.g),v.h);if(E.g.length>30){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var k=m,_=v;_.l(E)<=0;)k=D(k),_=D(_);var w=O(k,1),C=O(_,1);for(_=O(_,2),k=O(k,2);!A(_);){var S=C.add(_);S.l(E)<=0&&(w=w.add(k),C=S),_=O(_,1),k=O(k,1)}return v=T(E,w.j(v)),new I(w,v)}for(w=g;E.l(v)>=0;){for(k=Math.max(1,Math.floor(E.m()/v.m())),_=Math.ceil(Math.log(k)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),C=d(k),S=C.j(v);R(S)||S.l(E)>0;)k-=_,C=d(k),S=C.j(v);A(C)&&(C=m),w=w.add(C),E=T(E,S)}return new I(w,E)}t.B=function(E){return j(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),k=[];for(let _=0;_<v;_++)k[_]=this.i(_)&E.i(_);return new l(k,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),k=[];for(let _=0;_<v;_++)k[_]=this.i(_)|E.i(_);return new l(k,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),k=[];for(let _=0;_<v;_++)k[_]=this.i(_)^E.i(_);return new l(k,this.h^E.h)};function D(E){const v=E.g.length+1,k=[];for(let _=0;_<v;_++)k[_]=E.i(_)<<1|E.i(_-1)>>>31;return new l(k,E.h)}function O(E,v){const k=v>>5;v%=32;const _=E.g.length-k,w=[];for(let C=0;C<_;C++)w[C]=v>0?E.i(C+k)>>>v|E.i(C+k+1)<<32-v:E.i(C+k);return new l(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,Rh=l}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});var Ro=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ev,Ys,tv,Qo,vc,nv,rv,sv;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ro=="object"&&Ro];for(var h=0;h<o.length;++h){var f=o[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,h){if(h)e:{var f=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var P=o[y];if(!(P in f))break e;f=f[P]}o=o[o.length-1],y=f[o],h=h(y),h!=y&&h!=null&&e(f,o,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(h){var f=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&f.push([y,h[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function a(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function c(o,h,f){return o.call.apply(o.bind,arguments)}function d(o,h,f){return d=c,d.apply(null,arguments)}function p(o,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function g(o,h){function f(){}f.prototype=h.prototype,o.Z=h.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,P,b){for(var B=Array(arguments.length-2),X=2;X<arguments.length;X++)B[X-2]=arguments[X];return h.prototype[P].apply(y,B)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function N(o){const h=o.length;if(h>0){const f=Array(h);for(let y=0;y<h;y++)f[y]=o[y];return f}return[]}function A(o,h){for(let y=1;y<arguments.length;y++){const P=arguments[y];var f=typeof P;if(f=f!="object"?f:P?Array.isArray(P)?"array":f:"null",f=="array"||f=="object"&&typeof P.length=="number"){f=o.length||0;const b=P.length||0;o.length=f+b;for(let B=0;B<b;B++)o[f+B]=P[B]}else o.push(P)}}class R{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(o){l.setTimeout(()=>{throw o},0)}function T(){var o=E;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class x{constructor(){this.h=this.g=null}add(h,f){const y=I.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var I=new R(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let D,O=!1,E=new x,v=()=>{const o=Promise.resolve(void 0);D=()=>{o.then(k)}};function k(){for(var o;o=T();){try{o.h.call(o.g)}catch(f){M(f)}var h=I;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}O=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return o}();function S(o){return/^[\s\xa0]*$/.test(o)}function Z(o,h){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}g(Z,w),Z.prototype.init=function(o,h){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(f=="mouseover"?h=o.fromElement:f=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&Z.Z.h.call(this)},Z.prototype.h=function(){Z.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ye="closure_listenable_"+(Math.random()*1e6|0),fe=0;function Jn(o,h,f,y,P){this.listener=o,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++fe,this.da=this.fa=!1}function $(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Q(o,h,f){for(const y in o)h.call(f,o[y],y,o)}function G(o,h){for(const f in o)h.call(void 0,o[f],f,o)}function se(o){const h={};for(const f in o)h[f]=o[f];return h}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(o,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)o[f]=y[f];for(let b=0;b<ve.length;b++)f=ve[b],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function ut(o){this.src=o,this.g={},this.h=0}ut.prototype.add=function(o,h,f,y,P){const b=o.toString();o=this.g[b],o||(o=this.g[b]=[],this.h++);const B=Rt(o,h,y,P);return B>-1?(h=o[B],f||(h.fa=!1)):(h=new Jn(h,this.src,b,!!y,P),h.fa=f,o.push(h)),h};function Zn(o,h){const f=h.type;if(f in o.g){var y=o.g[f],P=Array.prototype.indexOf.call(y,h,void 0),b;(b=P>=0)&&Array.prototype.splice.call(y,P,1),b&&($(h),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Rt(o,h,f,y){for(let P=0;P<o.length;++P){const b=o[P];if(!b.da&&b.listener==h&&b.capture==!!f&&b.ha==y)return P}return-1}var mn="closure_lm_"+(Math.random()*1e6|0),ma={};function nd(o,h,f,y,P){if(Array.isArray(h)){for(let b=0;b<h.length;b++)nd(o,h[b],f,y,P);return null}return f=id(f),o&&o[ye]?o.J(h,f,a(y)?!!y.capture:!1,P):h0(o,h,f,!1,y,P)}function h0(o,h,f,y,P,b){if(!h)throw Error("Invalid event type");const B=a(P)?!!P.capture:!!P;let X=ya(o);if(X||(o[mn]=X=new ut(o)),f=X.add(h,f,y,B,b),f.proxy)return f;if(y=d0(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)C||(P=B),P===void 0&&(P=!1),o.addEventListener(h.toString(),y,P);else if(o.attachEvent)o.attachEvent(sd(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function d0(){function o(f){return h.call(o.src,o.listener,f)}const h=f0;return o}function rd(o,h,f,y,P){if(Array.isArray(h))for(var b=0;b<h.length;b++)rd(o,h[b],f,y,P);else y=a(y)?!!y.capture:!!y,f=id(f),o&&o[ye]?(o=o.i,b=String(h).toString(),b in o.g&&(h=o.g[b],f=Rt(h,f,y,P),f>-1&&($(h[f]),Array.prototype.splice.call(h,f,1),h.length==0&&(delete o.g[b],o.h--)))):o&&(o=ya(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Rt(h,f,y,P)),(f=o>-1?h[o]:null)&&ga(f))}function ga(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ye])Zn(h.i,o);else{var f=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(f,y,o.capture):h.detachEvent?h.detachEvent(sd(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=ya(h))?(Zn(f,o),f.h==0&&(f.src=null,h[mn]=null)):$(o)}}}function sd(o){return o in ma?ma[o]:ma[o]="on"+o}function f0(o,h){if(o.da)o=!0;else{h=new Z(h,this);const f=o.listener,y=o.ha||o.src;o.fa&&ga(o),o=f.call(y,h)}return o}function ya(o){return o=o[mn],o instanceof ut?o:null}var va="__closure_events_fn_"+(Math.random()*1e9>>>0);function id(o){return typeof o=="function"?o:(o[va]||(o[va]=function(h){return o.handleEvent(h)}),o[va])}function Qe(){_.call(this),this.i=new ut(this),this.M=this,this.G=null}g(Qe,_),Qe.prototype[ye]=!0,Qe.prototype.removeEventListener=function(o,h,f,y){rd(this,o,h,f,y)};function nt(o,h){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new w(h,o);else if(h instanceof w)h.target=h.target||o;else{var P=h;h=new w(y,o),en(h,P)}P=!0;let b,B;if(f)for(B=f.length-1;B>=0;B--)b=h.g=f[B],P=eo(b,y,!0,h)&&P;if(b=h.g=o,P=eo(b,y,!0,h)&&P,P=eo(b,y,!1,h)&&P,f)for(B=0;B<f.length;B++)b=h.g=f[B],P=eo(b,y,!1,h)&&P}Qe.prototype.N=function(){if(Qe.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const f=o.g[h];for(let y=0;y<f.length;y++)$(f[y]);delete o.g[h],o.h--}}this.G=null},Qe.prototype.J=function(o,h,f,y){return this.i.add(String(o),h,!1,f,y)},Qe.prototype.K=function(o,h,f,y){return this.i.add(String(o),h,!0,f,y)};function eo(o,h,f,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let P=!0;for(let b=0;b<h.length;++b){const B=h[b];if(B&&!B.da&&B.capture==f){const X=B.listener,Pe=B.ha||B.src;B.fa&&Zn(o.i,B),P=X.call(Pe,y)!==!1&&P}}return P&&!y.defaultPrevented}function p0(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=d(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:l.setTimeout(o,h||0)}function od(o){o.g=p0(()=>{o.g=null,o.i&&(o.i=!1,od(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class m0 extends _{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:od(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(o){_.call(this),this.h=o,this.g={}}g(Es,_);var ld=[];function ad(o){Q(o.g,function(h,f){this.g.hasOwnProperty(f)&&ga(h)},o),o.g={}}Es.prototype.N=function(){Es.Z.N.call(this),ad(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _a=l.JSON.stringify,g0=l.JSON.parse,y0=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ud(){}function cd(){}var ks={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function xa(){w.call(this,"d")}g(xa,w);function wa(){w.call(this,"c")}g(wa,w);var er={},hd=null;function to(){return hd=hd||new Qe}er.Ia="serverreachability";function dd(o){w.call(this,er.Ia,o)}g(dd,w);function Ss(o){const h=to();nt(h,new dd(h))}er.STAT_EVENT="statevent";function fd(o,h){w.call(this,er.STAT_EVENT,o),this.stat=h}g(fd,w);function rt(o){const h=to();nt(h,new fd(h,o))}er.Ja="timingevent";function pd(o,h){w.call(this,er.Ja,o),this.size=h}g(pd,w);function Ts(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function Is(){this.g=!0}Is.prototype.ua=function(){this.g=!1};function v0(o,h,f,y,P,b){o.info(function(){if(o.g)if(b){var B="",X=b.split("&");for(let le=0;le<X.length;le++){var Pe=X[le].split("=");if(Pe.length>1){const be=Pe[0];Pe=Pe[1];const $t=be.split("_");B=$t.length>=2&&$t[1]=="type"?B+(be+"="+Pe+"&"):B+(be+"=redacted&")}}}else B=null;else B=b;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+B})}function _0(o,h,f,y,P,b,B){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+b+" "+B})}function Rr(o,h,f,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+w0(o,f)+(y?" "+y:"")})}function x0(o,h){o.info(function(){return"TIMEOUT: "+h})}Is.prototype.info=function(){};function w0(o,h){if(!o.g)return h;if(!h)return null;try{const b=JSON.parse(h);if(b){for(o=0;o<b.length;o++)if(Array.isArray(b[o])){var f=b[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var P=y[0];if(P!="noop"&&P!="stop"&&P!="close")for(let B=1;B<y.length;B++)y[B]=""}}}}return _a(b)}catch{return h}}var no={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},md={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gd;function Ea(){}g(Ea,ud),Ea.prototype.g=function(){return new XMLHttpRequest},gd=new Ea;function Cs(o){return encodeURIComponent(String(o))}function E0(o){var h=1;o=o.split(":");const f=[];for(;h>0&&o.length;)f.push(o.shift()),h--;return o.length&&f.push(o.join(":")),f}function gn(o,h,f,y){this.j=o,this.i=h,this.l=f,this.S=y||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var vd={},ka={};function Sa(o,h,f){o.M=1,o.A=so(Bt(h)),o.u=f,o.R=!0,_d(o,null)}function _d(o,h){o.F=Date.now(),ro(o),o.B=Bt(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),jd(f.i,"t",y),o.C=0,f=o.j.L,o.h=new yd,o.g=Xd(o.j,f?h:null,!o.u),o.P>0&&(o.O=new m0(d(o.Y,o,o.g),o.P)),h=o.V,f=o.g,y=o.ba;var P="readystatechange";Array.isArray(P)||(P&&(ld[0]=P.toString()),P=ld);for(let b=0;b<P.length;b++){const B=nd(f,P[b],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.J?se(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),Ss(),v0(o.i,o.v,o.B,o.l,o.S,o.u)}gn.prototype.ba=function(o){o=o.target;const h=this.O;h&&_n(o)==3?h.j():this.Y(o)},gn.prototype.Y=function(o){try{if(o==this.g)e:{const X=_n(this.g),Pe=this.g.ya(),le=this.g.ca();if(!(X<3)&&(X!=3||this.g&&(this.h.h||this.g.la()||Od(this.g)))){this.K||X!=4||Pe==7||(Pe==8||le<=0?Ss(3):Ss(2)),Ta(this);var h=this.g.ca();this.X=h;var f=k0(this);if(this.o=h==200,_0(this.i,this.v,this.B,this.l,this.S,X,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,P=this.g;if((y=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(y)){var b=y;break t}}b=null}if(o=b)Rr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ia(this,o);else{this.o=!1,this.m=3,rt(12),tr(this),Ns(this);break e}}if(this.R){o=!0;let be;for(;!this.K&&this.C<f.length;)if(be=S0(this,f),be==ka){X==4&&(this.m=4,rt(14),o=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(be==vd){this.m=4,rt(15),Rr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Rr(this.i,this.l,be,null),Ia(this,be);if(xd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),X!=4||f.length!=0||this.h.h||(this.m=1,rt(16),o=!1),this.o=this.o&&o,!o)Rr(this.i,this.l,f,"[Invalid Chunked Response]"),tr(this),Ns(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),ba(B),B.P=!0,rt(11))}}else Rr(this.i,this.l,f,null),Ia(this,f);X==4&&tr(this),this.o&&!this.K&&(X==4?Kd(this.j,this):(this.o=!1,ro(this)))}else z0(this.g),h==400&&f.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),tr(this),Ns(this)}}}catch{}finally{}};function k0(o){if(!xd(o))return o.g.la();const h=Od(o.g);if(h==="")return"";let f="";const y=h.length,P=_n(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return tr(o),Ns(o),"";o.h.i=new l.TextDecoder}for(let b=0;b<y;b++)o.h.h=!0,f+=o.h.i.decode(h[b],{stream:!(P&&b==y-1)});return h.length=0,o.h.g+=f,o.C=0,o.h.g}function xd(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function S0(o,h){var f=o.C,y=h.indexOf(`
`,f);return y==-1?ka:(f=Number(h.substring(f,y)),isNaN(f)?vd:(y+=1,y+f>h.length?ka:(h=h.slice(y,y+f),o.C=y+f,h)))}gn.prototype.cancel=function(){this.K=!0,tr(this)};function ro(o){o.T=Date.now()+o.H,wd(o,o.H)}function wd(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ts(d(o.aa,o),h)}function Ta(o){o.D&&(l.clearTimeout(o.D),o.D=null)}gn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(x0(this.i,this.B),this.M!=2&&(Ss(),rt(17)),tr(this),this.m=2,Ns(this)):wd(this,this.T-o)};function Ns(o){o.j.I==0||o.K||Kd(o.j,o)}function tr(o){Ta(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,ad(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Ia(o,h){try{var f=o.j;if(f.I!=0&&(f.g==o||Ca(f.h,o))){if(!o.L&&Ca(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)uo(f),lo(f);else break e;Da(f),rt(18)}}else f.xa=P[1],0<f.xa-f.K&&P[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ts(d(f.Va,f),6e3));Sd(f.h)<=1&&f.ta&&(f.ta=void 0)}else rr(f,11)}else if((o.L||f.g==o)&&uo(f),!S(h))for(P=f.Ba.g.parse(h),h=0;h<P.length;h++){let le=P[h];const be=le[0];if(!(be<=f.K))if(f.K=be,le=le[1],f.I==2)if(le[0]=="c"){f.M=le[1],f.ba=le[2];const $t=le[3];$t!=null&&(f.ka=$t,f.j.info("VER="+f.ka));const sr=le[4];sr!=null&&(f.za=sr,f.j.info("SVER="+f.za));const xn=le[5];xn!=null&&typeof xn=="number"&&xn>0&&(y=1.5*xn,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const wn=o.g;if(wn){const ho=wn.g?wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ho){var b=y.h;b.g||ho.indexOf("spdy")==-1&&ho.indexOf("quic")==-1&&ho.indexOf("h2")==-1||(b.j=b.l,b.g=new Set,b.h&&(Na(b,b.h),b.h=null))}if(y.G){const Va=wn.g?wn.g.getResponseHeader("X-HTTP-Session-Id"):null;Va&&(y.wa=Va,ce(y.J,y.G,Va))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var B=o;if(y.na=qd(y,y.L?y.ba:null,y.W),B.L){Td(y.h,B);var X=B,Pe=y.O;Pe&&(X.H=Pe),X.D&&(Ta(X),ro(X)),y.g=B}else Hd(y);f.i.length>0&&ao(f)}else le[0]!="stop"&&le[0]!="close"||rr(f,7);else f.I==3&&(le[0]=="stop"||le[0]=="close"?le[0]=="stop"?rr(f,7):ja(f):le[0]!="noop"&&f.l&&f.l.qa(le),f.A=0)}}Ss(4)}catch{}}var T0=class{constructor(o,h){this.g=o,this.map=h}};function Ed(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Sd(o){return o.h?1:o.g?o.g.size:0}function Ca(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Na(o,h){o.g?o.g.add(h):o.h=h}function Td(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Ed.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Id(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const f of o.g.values())h=h.concat(f.G);return h}return N(o.i)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function I0(o,h){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let P,b=null;y>=0?(P=o[f].substring(0,y),b=o[f].substring(y+1)):P=o[f],h(P,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function yn(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof yn?(this.l=o.l,As(this,o.j),this.o=o.o,this.g=o.g,Rs(this,o.u),this.h=o.h,Aa(this,Dd(o.i)),this.m=o.m):o&&(h=String(o).match(Cd))?(this.l=!1,As(this,h[1]||"",!0),this.o=Ps(h[2]||""),this.g=Ps(h[3]||"",!0),Rs(this,h[4]),this.h=Ps(h[5]||"",!0),Aa(this,h[6]||"",!0),this.m=Ps(h[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}yn.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(js(h,Nd,!0),":");var f=this.g;return(f||h=="file")&&(o.push("//"),(h=this.o)&&o.push(js(h,Nd,!0),"@"),o.push(Cs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(js(f,f.charAt(0)=="/"?A0:N0,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",js(f,P0)),o.join("")},yn.prototype.resolve=function(o){const h=Bt(this);let f=!!o.j;f?As(h,o.j):f=!!o.o,f?h.o=o.o:f=!!o.g,f?h.g=o.g:f=o.u!=null;var y=o.h;if(f)Rs(h,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var P=h.h.lastIndexOf("/");P!=-1&&(y=h.h.slice(0,P+1)+y)}if(P=y,P==".."||P==".")y="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){y=P.lastIndexOf("/",0)==0,P=P.split("/");const b=[];for(let B=0;B<P.length;){const X=P[B++];X=="."?y&&B==P.length&&b.push(""):X==".."?((b.length>1||b.length==1&&b[0]!="")&&b.pop(),y&&B==P.length&&b.push("")):(b.push(X),y=!0)}y=b.join("/")}else y=P}return f?h.h=y:f=o.i.toString()!=="",f?Aa(h,Dd(o.i)):f=!!o.m,f&&(h.m=o.m),h};function Bt(o){return new yn(o)}function As(o,h,f){o.j=f?Ps(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Rs(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Aa(o,h,f){h instanceof Ds?(o.i=h,j0(o.i,o.l)):(f||(h=js(h,R0)),o.i=new Ds(h,o.l))}function ce(o,h,f){o.i.set(h,f)}function so(o){return ce(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ps(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function js(o,h,f){return typeof o=="string"?(o=encodeURI(o).replace(h,C0),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function C0(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Nd=/[#\/\?@]/g,N0=/[#\?:]/g,A0=/[#\?]/g,R0=/[#\?@]/g,P0=/#/g;function Ds(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function nr(o){o.g||(o.g=new Map,o.h=0,o.i&&I0(o.i,function(h,f){o.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Ds.prototype,t.add=function(o,h){nr(this),this.i=null,o=Pr(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(h),this.h+=1,this};function Ad(o,h){nr(o),h=Pr(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Rd(o,h){return nr(o),h=Pr(o,h),o.g.has(h)}t.forEach=function(o,h){nr(this),this.g.forEach(function(f,y){f.forEach(function(P){o.call(h,P,y,this)},this)},this)};function Pd(o,h){nr(o);let f=[];if(typeof h=="string")Rd(o,h)&&(f=f.concat(o.g.get(Pr(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)f=f.concat(o[h]);return f}t.set=function(o,h){return nr(this),this.i=null,o=Pr(this,o),Rd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=Pd(this,o),o.length>0?String(o[0]):h):h};function jd(o,h,f){Ad(o,h),f.length>0&&(o.i=null,o.g.set(Pr(o,h),N(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var f=h[y];const P=Cs(f);f=Pd(this,f);for(let b=0;b<f.length;b++){let B=P;f[b]!==""&&(B+="="+Cs(f[b])),o.push(B)}}return this.i=o.join("&")};function Dd(o){const h=new Ds;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Pr(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function j0(o,h){h&&!o.j&&(nr(o),o.i=null,o.g.forEach(function(f,y){const P=y.toLowerCase();y!=P&&(Ad(this,y),jd(this,P,f))},o)),o.j=h}function D0(o,h){const f=new Is;if(l.Image){const y=new Image;y.onload=p(vn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=p(vn,f,"TestLoadImage: error",!1,h,y),y.onabort=p(vn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=p(vn,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function b0(o,h){const f=new Is,y=new AbortController,P=setTimeout(()=>{y.abort(),vn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(b=>{clearTimeout(P),b.ok?vn(f,"TestPingServer: ok",!0,h):vn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),vn(f,"TestPingServer: error",!1,h)})}function vn(o,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function V0(){this.g=new y0}function Ra(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Ra,ud),Ra.prototype.g=function(){return new io(this.i,this.h)};function io(o,h){Qe.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(io,Qe),t=io.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Vs(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||l).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bd(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function bd(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?bs(this):Vs(this),this.readyState==3&&bd(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,bs(this))},t.Na=function(o){this.g&&(this.response=o,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Vs(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=h.next();return o.join(`\r
`)};function Vs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(io.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Vd(o){let h="";return Q(o,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function Pa(o,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Vd(f),typeof o=="string"?f!=null&&Cs(f):ce(o,h,f))}function ke(o){Qe.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(ke,Qe);var M0=/^https?$/i,L0=["POST","PUT"];t=ke.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gd.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(b){Md(this,b);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const b of y.keys())f.set(b,y.get(b));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(b=>b.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(Array.prototype.indexOf.call(L0,h,void 0)>=0)||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[b,B]of f)this.g.setRequestHeader(b,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(b){Md(this,b)}};function Md(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,Ld(o),oo(o)}function Ld(o){o.A||(o.A=!0,nt(o,"complete"),nt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,nt(this,"complete"),nt(this,"abort"),oo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),oo(this,!0)),ke.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?zd(this):this.Xa())},t.Xa=function(){zd(this)};function zd(o){if(o.h&&typeof i<"u"){if(o.v&&_n(o)==4)setTimeout(o.Ca.bind(o),0);else if(nt(o,"readystatechange"),_n(o)==4){o.h=!1;try{const b=o.ca();e:switch(b){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=b===0){let B=String(o.D).match(Cd)[1]||null;!B&&l.self&&l.self.location&&(B=l.self.location.protocol.slice(0,-1)),y=!M0.test(B?B.toLowerCase():"")}f=y}if(f)nt(o,"complete"),nt(o,"success");else{o.o=6;try{var P=_n(o)>2?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.ca()+"]",Ld(o)}}finally{oo(o)}}}}function oo(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,h||nt(o,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function _n(o){return o.g?o.g.readyState:0}t.ca=function(){try{return _n(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),g0(h)}};function Od(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function z0(o){const h={};o=(o.g&&_n(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(S(o[y]))continue;var f=E0(o[y]);const P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const b=h[P]||[];h[P]=b,b.push(f)}G(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(o,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||h}function Fd(o){this.za=0,this.i=[],this.j=new Is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,o),this.Za=Ms("retryDelaySeedMs",1e4,o),this.Ta=Ms("forwardChannelMaxRetries",2,o),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ed(o&&o.concurrentRequestLimit),this.Ba=new V0,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fd.prototype,t.ka=8,t.I=1,t.connect=function(o,h,f,y){rt(0),this.W=o,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=qd(this,null,this.W),ao(this)};function ja(o){if(Ud(o),o.I==3){var h=o.V++,f=Bt(o.J);if(ce(f,"SID",o.M),ce(f,"RID",h),ce(f,"TYPE","terminate"),Ls(o,f),h=new gn(o,o.j,h),h.M=2,h.A=so(Bt(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.A.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.A,f=!0),f||(h.g=Xd(h.j,null),h.g.ea(h.A)),h.F=Date.now(),ro(h)}Qd(o)}function lo(o){o.g&&(ba(o),o.g.cancel(),o.g=null)}function Ud(o){lo(o),o.v&&(l.clearTimeout(o.v),o.v=null),uo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&l.clearTimeout(o.m),o.m=null)}function ao(o){if(!kd(o.h)&&!o.m){o.m=!0;var h=o.Ea;D||v(),O||(D(),O=!0),E.add(h,o),o.D=0}}function O0(o,h){return Sd(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ts(d(o.Ea,o,h),Gd(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const P=new gn(this,this.j,o);let b=this.o;if(this.U&&(b?(b=se(b),en(b,this.U)):b=this.U),this.u!==null||this.R||(P.J=b,b=null),this.S)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=$d(this,P,h),f=Bt(this.J),ce(f,"RID",o),ce(f,"CVER",22),this.G&&ce(f,"X-HTTP-Session-Id",this.G),Ls(this,f),b&&(this.R?h="headers="+Cs(Vd(b))+"&"+h:this.u&&Pa(f,this.u,b)),Na(this.h,P),this.Ra&&ce(f,"TYPE","init"),this.S?(ce(f,"$req",h),ce(f,"SID","null"),P.U=!0,Sa(P,f,null)):Sa(P,f,h),this.I=2}}else this.I==3&&(o?Bd(this,o):this.i.length==0||kd(this.h)||Bd(this))};function Bd(o,h){var f;h?f=h.l:f=o.V++;const y=Bt(o.J);ce(y,"SID",o.M),ce(y,"RID",f),ce(y,"AID",o.K),Ls(o,y),o.u&&o.o&&Pa(y,o.u,o.o),f=new gn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),h&&(o.i=h.G.concat(o.i)),h=$d(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Na(o.h,f),Sa(f,y,h)}function Ls(o,h){o.H&&Q(o.H,function(f,y){ce(h,y,f)}),o.l&&Q({},function(f,y){ce(h,y,f)})}function $d(o,h,f){f=Math.min(o.i.length,f);const y=o.l?d(o.l.Ka,o.l,o):null;e:{var P=o.i;let X=-1;for(;;){const Pe=["count="+f];X==-1?f>0?(X=P[0].g,Pe.push("ofs="+X)):X=0:Pe.push("ofs="+X);let le=!0;for(let be=0;be<f;be++){var b=P[be].g;const $t=P[be].map;if(b-=X,b<0)X=Math.max(0,P[be].g-100),le=!1;else try{b="req"+b+"_"||"";try{var B=$t instanceof Map?$t:Object.entries($t);for(const[sr,xn]of B){let wn=xn;a(xn)&&(wn=_a(xn)),Pe.push(b+sr+"="+encodeURIComponent(wn))}}catch(sr){throw Pe.push(b+"type="+encodeURIComponent("_badmap")),sr}}catch{y&&y($t)}}if(le){B=Pe.join("&");break e}}B=void 0}return o=o.i.splice(0,f),h.G=o,B}function Hd(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;D||v(),O||(D(),O=!0),E.add(h,o),o.A=0}}function Da(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ts(d(o.Da,o),Gd(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ts(d(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),lo(this),Wd(this))};function ba(o){o.B!=null&&(l.clearTimeout(o.B),o.B=null)}function Wd(o){o.g=new gn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=Bt(o.na);ce(h,"RID","rpc"),ce(h,"SID",o.M),ce(h,"AID",o.K),ce(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&ce(h,"TO",o.ia),ce(h,"TYPE","xmlhttp"),Ls(o,h),o.u&&o.o&&Pa(h,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=so(Bt(h)),f.u=null,f.R=!0,_d(f,o)}t.Va=function(){this.C!=null&&(this.C=null,lo(this),Da(this),rt(19))};function uo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Kd(o,h){var f=null;if(o.g==h){uo(o),ba(o),o.g=null;var y=2}else if(Ca(o.h,h))f=h.G,Td(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){f=h.u?h.u.length:0,h=Date.now()-h.F;var P=o.D;y=to(),nt(y,new pd(y,f)),ao(o)}else Hd(o);else if(P=h.m,P==3||P==0&&h.X>0||!(y==1&&O0(o,h)||y==2&&Da(o)))switch(f&&f.length>0&&(h=o.h,h.i=h.i.concat(f)),P){case 1:rr(o,5);break;case 4:rr(o,10);break;case 3:rr(o,6);break;default:rr(o,2)}}}function Gd(o,h){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*h}function rr(o,h){if(o.j.info("Error code "+h),h==2){var f=d(o.bb,o),y=o.Ua;const P=!y;y=new yn(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||As(y,"https"),so(y),P?D0(y.toString(),f):b0(y.toString(),f)}else rt(2);o.I=0,o.l&&o.l.pa(h),Qd(o),Ud(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Qd(o){if(o.I=0,o.ja=[],o.l){const h=Id(o.h);(h.length!=0||o.i.length!=0)&&(A(o.ja,h),A(o.ja,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.oa()}}function qd(o,h,f){var y=f instanceof yn?Bt(f):new yn(f);if(y.g!="")h&&(y.g=h+"."+y.g),Rs(y,y.u);else{var P=l.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;const b=new yn(null);y&&As(b,y),h&&(b.g=h),P&&Rs(b,P),f&&(b.h=f),y=b}return f=o.G,h=o.wa,f&&h&&ce(y,f,h),ce(y,"VER",o.ka),Ls(o,y),y}function Xd(o,h,f){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new ke(new Ra({ab:f})):new ke(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}t=Yd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function co(){}co.prototype.g=function(o,h){return new yt(o,h)};function yt(o,h){Qe.call(this),this.g=new Fd(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!S(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!S(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new jr(this)}g(yt,Qe),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){ja(this.g)},yt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=_a(o),o=f);h.i.push(new T0(h.Ya++,o)),h.I==3&&ao(h)},yt.prototype.N=function(){this.g.l=null,delete this.j,ja(this.g),delete this.g,yt.Z.N.call(this)};function Jd(o){xa.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const f in h){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}g(Jd,xa);function Zd(){wa.call(this),this.status=1}g(Zd,wa);function jr(o){this.g=o}g(jr,Yd),jr.prototype.ra=function(){nt(this.g,"a")},jr.prototype.qa=function(o){nt(this.g,new Jd(o))},jr.prototype.pa=function(o){nt(this.g,new Zd)},jr.prototype.oa=function(){nt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,sv=function(){return new co},rv=function(){return to()},nv=er,vc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},no.NO_ERROR=0,no.TIMEOUT=8,no.HTTP_ERROR=6,Qo=no,md.COMPLETE="complete",tv=md,cd.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",Qe.prototype.listen=Qe.prototype.J,Ys=cd,ke.prototype.listenOnce=ke.prototype.K,ke.prototype.getLastError=ke.prototype.Ha,ke.prototype.getLastErrorCode=ke.prototype.ya,ke.prototype.getStatus=ke.prototype.ca,ke.prototype.getResponseJson=ke.prototype.La,ke.prototype.getResponseText=ke.prototype.la,ke.prototype.send=ke.prototype.ea,ke.prototype.setWithCredentials=ke.prototype.Fa,ev=ke}).apply(typeof Ro<"u"?Ro:typeof self<"u"?self:typeof window<"u"?window:{});const Rp="@firebase/firestore",Pp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Je{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Qy("@firebase/firestore");function br(){return Er.logLevel}function W(t,...e){if(Er.logLevel<=te.DEBUG){const n=e.map(Ph);Er.debug(`Firestore (${xs}): ${t}`,...n)}}function kr(t,...e){if(Er.logLevel<=te.ERROR){const n=e.map(Ph);Er.error(`Firestore (${xs}): ${t}`,...n)}}function ia(t,...e){if(Er.logLevel<=te.WARN){const n=e.map(Ph);Er.warn(`Firestore (${xs}): ${t}`,...n)}}function Ph(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,iv(t,r,n)}function iv(t,e,n){let r=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw kr(r),new Error(r)}function Te(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||iv(e,s,r)}function ue(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Je.UNAUTHENTICATED))}shutdown(){}}class YE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class JE{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new mr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new mr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new mr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Te(typeof r.accessToken=="string",31837,{l:r}),new ov(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string",2055,{h:e}),new Je(e)}}class ZE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class e2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new ZE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class t2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,DE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Te(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=n2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function re(t,e){return t<e?-1:t>e?1:0}function _c(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return fu(s)===fu(i)?re(s,i):fu(s)?1:-1}return re(t.length,e.length)}const r2=55296,s2=57343;function fu(t){const e=t.charCodeAt(0);return e>=r2&&e<=s2}function cs(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="__name__";class Kt{constructor(e,n,r){n===void 0?n=0:n>e.length&&Y(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Y(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return re(e.length,n.length)}static compareSegments(e,n){const r=Kt.isNumericId(e),s=Kt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kt.extractNumericId(e).compare(Kt.extractNumericId(n)):_c(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rh.fromString(e.substring(4,e.length-2))}}class xe extends Kt{construct(e,n,r){return new xe(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new xe(n)}static emptyPath(){return new xe([])}}const i2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Kt{construct(e,n,r){return new $e(e,n,r)}static isValidIdentifier(e){return i2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dp}static keyField(){return new $e([Dp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new K(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(l=!l,s++):a!=="."||l?(r+=a,s++):(i(),s++)}if(i(),l)throw new K(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q{constructor(e){this.path=e}static fromPath(e){return new q(xe.fromString(e))}static fromName(e){return new q(xe.fromString(e).popFirst(5))}static empty(){return new q(xe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&xe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return xe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new q(new xe(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lv(t,e,n){if(!n)throw new K(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function o2(t,e,n,r){if(e===!0&&r===!0)throw new K(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bp(t){if(!q.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Vp(t){if(q.isDocumentKey(t))throw new K(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function av(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Y(12329,{type:typeof t})}function Nl(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new K(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e){const n={typeString:t};return e&&(n.value=e),n}function Gi(t,e){if(!av(t))throw new K(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new K(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mp=-62135596800,Lp=1e6;class ge{static now(){return ge.fromMillis(Date.now())}static fromDate(e){return ge.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Lp);return new ge(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Mp)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Lp}_compareTo(e){return this.seconds===e.seconds?re(this.nanoseconds,e.nanoseconds):re(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Gi(e,ge._jsonSchema))return new ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Mp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ge._jsonSchemaVersion="firestore/timestamp/1.0",ge._jsonSchema={type:Ae("string",ge._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pe{static fromTimestamp(e){return new pe(e)}static min(){return new pe(new ge(0,0))}static max(){return new pe(new ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=-1;function l2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=pe.fromTimestamp(r===1e9?new ge(n+1,0):new ge(n,r));return new Hn(s,q.empty(),e)}function a2(t){return new Hn(t.readTime,t.key,Vi)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(pe.min(),q.empty(),Vi)}static max(){return new Hn(pe.max(),q.empty(),Vi)}}function u2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=q.comparator(t.documentKey,e.documentKey),n!==0?n:re(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class h2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==c2)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Y(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let s=0,i=0,l=!1;e.forEach(a=>{++s,a.next(()=>{++i,l&&i===s&&n()},c=>r(c))}),l=!0,i===s&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(s=>s?L.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new L((r,s)=>{const i=e.length,l=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(p=>{l[d]=p,++a,a===i&&r(l)},p=>s(p))}})}static doWhile(e,n){return new L((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function d2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Qi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function Lh(t){return t==null}function Al(t){return t===0&&1/t==-1/0}function f2(t){return typeof t=="number"&&Number.isInteger(t)&&!Al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="";function p2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zp(e)),e=m2(t.get(n),e);return zp(e)}function m2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case uv:n+="";break;default:n+=i}}return n}function zp(t){return t+uv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Op(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function cv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Po(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Po(this.root,e,this.comparator,!1)}getReverseIterator(){return new Po(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Po(this.root,e,this.comparator,!0)}}class Po{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=s??Ue.EMPTY,this.right=i??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ue(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ue.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Y(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Y(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Y(27949);return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw Y(57766)}get value(){throw Y(16141)}get color(){throw Y(16727)}get left(){throw Y(29726)}get right(){throw Y(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Fp(this.data.getIterator())}getIteratorFrom(e){return new Fp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Ke)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ke(this.comparator);return n.data=e,n}}class Fp{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new zt([])}unionWith(e){let n=new Ke($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new g2("Invalid base64 string: "+i):i}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return re(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const y2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sr(t){if(Te(!!t,39018),typeof t=="string"){let e=0;const n=y2.exec(t);if(Te(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function hs(t){return typeof t=="string"?Yt.fromBase64String(t):Yt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv="server_timestamp",dv="__type__",fv="__previous_value__",pv="__local_write_time__";function zh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[dv])==null?void 0:r.stringValue)===hv}function Oh(t){const e=t.mapValue.fields[fv];return zh(e)?Oh(e):e}function Rl(t){const e=Sr(t.mapValue.fields[pv].timestampValue);return new ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,n,r,s,i,l,a,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const Pl="(default)";class jl{constructor(e,n){this.projectId=e,this.database=n||Pl}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Pl}isEqual(e){return e instanceof jl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="__type__",_2="__max__",jo={mapValue:{}},gv="__vector__",xc="value";function Tr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zh(t)?4:w2(t)?9007199254740991:x2(t)?10:11:Y(28295,{value:t})}function Jt(t,e){if(t===e)return!0;const n=Tr(t);if(n!==Tr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Rl(t).isEqual(Rl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Sr(s.timestampValue),a=Sr(i.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return hs(s.bytesValue).isEqual(hs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Be(s.doubleValue),a=Be(i.doubleValue);return l===a?Al(l)===Al(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return cs(t.arrayValue.values||[],e.arrayValue.values||[],Jt);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Op(l)!==Op(a))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(a[c]===void 0||!Jt(l[c],a[c])))return!1;return!0}(t,e);default:return Y(52216,{left:t})}}function Mi(t,e){return(t.values||[]).find(n=>Jt(n,e))!==void 0}function ds(t,e){if(t===e)return 0;const n=Tr(t),r=Tr(e);if(n!==r)return re(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return re(t.booleanValue,e.booleanValue);case 2:return function(i,l){const a=Be(i.integerValue||i.doubleValue),c=Be(l.integerValue||l.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Up(t.timestampValue,e.timestampValue);case 4:return Up(Rl(t),Rl(e));case 5:return _c(t.stringValue,e.stringValue);case 6:return function(i,l){const a=hs(i),c=hs(l);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const a=i.split("/"),c=l.split("/");for(let d=0;d<a.length&&d<c.length;d++){const p=re(a[d],c[d]);if(p!==0)return p}return re(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const a=re(Be(i.latitude),Be(l.latitude));return a!==0?a:re(Be(i.longitude),Be(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bp(t.arrayValue,e.arrayValue);case 10:return function(i,l){var m,N,A,R;const a=i.fields||{},c=l.fields||{},d=(m=a[xc])==null?void 0:m.arrayValue,p=(N=c[xc])==null?void 0:N.arrayValue,g=re(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((R=p==null?void 0:p.values)==null?void 0:R.length)||0);return g!==0?g:Bp(d,p)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===jo.mapValue&&l===jo.mapValue)return 0;if(i===jo.mapValue)return 1;if(l===jo.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=l.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const m=_c(c[g],p[g]);if(m!==0)return m;const N=ds(a[c[g]],d[p[g]]);if(N!==0)return N}return re(c.length,p.length)}(t.mapValue,e.mapValue);default:throw Y(23264,{he:n})}}function Up(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return re(t,e);const n=Sr(t),r=Sr(e),s=re(n.seconds,r.seconds);return s!==0?s:re(n.nanos,r.nanos)}function Bp(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=ds(n[s],r[s]);if(i)return i}return re(n.length,r.length)}function fs(t){return wc(t)}function wc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Sr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return hs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return q.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${wc(n.fields[l])}`;return s+"}"}(t.mapValue):Y(61005,{value:t})}function qo(t){switch(Tr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(t);return e?16+qo(e):16;case 5:return 2*t.stringValue.length;case 6:return hs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+qo(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ws(r.fields,(i,l)=>{s+=i.length+qo(l)}),s}(t.mapValue);default:throw Y(13486,{value:t})}}function Ec(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function Xo(t){return!!t&&"mapValue"in t}function x2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[mv])==null?void 0:r.stringValue)===gv}function ai(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ai(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ai(t.arrayValue.values[n]);return e}return{...t}}function w2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===_2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Xo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ai(n)}setAll(e){let n=$e.emptyPath(),r={},s=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}l?r[a.lastSegment()]=ai(l):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Xo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Jt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Xo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(ai(this.value))}}function yv(t){const e=[];return ws(t.fields,(n,r)=>{const s=new $e([n]);if(Xo(r)){const i=yv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new zt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,pe.min(),pe.min(),pe.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,pe.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,pe.min(),pe.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,pe.min(),pe.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(pe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e,n){this.position=e,this.inclusive=n}}function $p(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=q.comparator(q.fromName(l.referenceValue),n.key):r=ds(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Hp(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Jt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n="asc"){this.field=e,this.dir=n}}function E2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{}class Le extends vv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new S2(e,n,r):n==="array-contains"?new C2(e,r):n==="in"?new N2(e,r):n==="not-in"?new A2(e,r):n==="array-contains-any"?new R2(e,r):new Le(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new T2(e,r):new I2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ds(n,this.value)):n!==null&&Tr(this.value)===Tr(n)&&this.matchesComparison(ds(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Y(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends vv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return _v(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function _v(t){return t.op==="and"}function xv(t){return k2(t)&&_v(t)}function k2(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function kc(t){if(t instanceof Le)return t.field.canonicalString()+t.op.toString()+fs(t.value);if(xv(t))return t.filters.map(e=>kc(e)).join(",");{const e=t.filters.map(n=>kc(n)).join(",");return`${t.op}(${e})`}}function wv(t,e){return t instanceof Le?function(r,s){return s instanceof Le&&r.op===s.op&&r.field.isEqual(s.field)&&Jt(r.value,s.value)}(t,e):t instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,a)=>i&&wv(l,s.filters[a]),!0):!1}(t,e):void Y(19439)}function Ev(t){return t instanceof Le?function(n){return`${n.field.canonicalString()} ${n.op} ${fs(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(Ev).join(" ,")+"}"}(t):"Filter"}class S2 extends Le{constructor(e,n,r){super(e,n,r),this.key=q.fromName(r.referenceValue)}matches(e){const n=q.comparator(e.key,this.key);return this.matchesComparison(n)}}class T2 extends Le{constructor(e,n){super(e,"in",n),this.keys=kv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class I2 extends Le{constructor(e,n){super(e,"not-in",n),this.keys=kv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function kv(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>q.fromName(r.referenceValue))}class C2 extends Le{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&Mi(n.arrayValue,this.value)}}class N2 extends Le{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mi(this.value.arrayValue,n)}}class A2 extends Le{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Mi(this.value.arrayValue,n)}}class R2 extends Le{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,n=null,r=[],s=[],i=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=a,this.Te=null}}function Wp(t,e=null,n=[],r=[],s=null,i=null,l=null){return new P2(t,e,n,r,s,i,l)}function Uh(t){const e=ue(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>fs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>fs(r)).join(",")),e.Te=n}return e.Te}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!E2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Hp(t.startAt,e.startAt)&&Hp(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n=null,r=[],s=[],i=null,l="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function j2(t,e,n,r,s,i,l,a){return new oa(t,e,n,r,s,i,l,a)}function D2(t){return new oa(t)}function Kp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function b2(t){return t.collectionGroup!==null}function ui(t){const e=ue(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new Ke($e.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new bl(i,r))}),n.has($e.keyField().canonicalString())||e.Ie.push(new bl($e.keyField(),r))}return e.Ie}function gr(t){const e=ue(t);return e.Ee||(e.Ee=V2(e,ui(t))),e.Ee}function V2(t,e){if(t.limitType==="F")return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new bl(s.field,i)});const n=t.endAt?new Dl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Dl(t.startAt.position,t.startAt.inclusive):null;return Wp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sc(t,e,n){return new oa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Sv(t,e){return Bh(gr(t),gr(e))&&t.limitType===e.limitType}function Tv(t){return`${Uh(gr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>Ev(s)).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>fs(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>fs(s)).join(",")),`Target(${r})`}(gr(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):q.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ui(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,a,c){const d=$p(l,a,c);return l.inclusive?d<=0:d<0}(r.startAt,ui(r),s)||r.endAt&&!function(l,a,c){const d=$p(l,a,c);return l.inclusive?d>=0:d>0}(r.endAt,ui(r),s))}(t,e)}function M2(t){return(e,n)=>{let r=!1;for(const s of ui(t)){const i=L2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function L2(t,e,n){const r=t.field.isKeyField()?q.comparator(e.key,n.key):function(i,l,a){const c=l.data.field(i),d=a.data.field(i);return c!==null&&d!==null?ds(c,d):Y(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Y(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return cv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2=new gt(q.comparator);function Vl(){return z2}const Iv=new gt(q.comparator);function Do(...t){let e=Iv;for(const n of t)e=e.insert(n.key,n);return e}function Cv(t){let e=Iv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function hr(){return ci()}function Nv(){return ci()}function ci(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}const O2=new gt(q.comparator),F2=new Ke(q.comparator);function et(...t){let e=F2;for(const n of t)e=e.add(n);return e}const U2=new Ke(re);function B2(){return U2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Al(e)?"-0":e}}function Av(t){return{integerValue:""+t}}function $2(t,e){return f2(e)?Av(e):Hh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(){this._=void 0}}function H2(t,e,n){return t instanceof Li?function(s,i){const l={fields:{[dv]:{stringValue:hv},[pv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&zh(i)&&(i=Oh(i)),i&&(l.fields[fv]=i),{mapValue:l}}(n,e):t instanceof zi?Pv(t,e):t instanceof Oi?jv(t,e):function(s,i){const l=Rv(s,i),a=Gp(l)+Gp(s.Ae);return Ec(l)&&Ec(s.Ae)?Av(a):Hh(s.serializer,a)}(t,e)}function W2(t,e,n){return t instanceof zi?Pv(t,e):t instanceof Oi?jv(t,e):n}function Rv(t,e){return t instanceof Ml?function(r){return Ec(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Li extends la{}class zi extends la{constructor(e){super(),this.elements=e}}function Pv(t,e){const n=Dv(e);for(const r of t.elements)n.some(s=>Jt(s,r))||n.push(r);return{arrayValue:{values:n}}}class Oi extends la{constructor(e){super(),this.elements=e}}function jv(t,e){let n=Dv(e);for(const r of t.elements)n=n.filter(s=>!Jt(s,r));return{arrayValue:{values:n}}}class Ml extends la{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Gp(t){return Be(t.integerValue||t.doubleValue)}function Dv(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.field=e,this.transform=n}}function G2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof zi&&s instanceof zi||r instanceof Oi&&s instanceof Oi?cs(r.elements,s.elements,Jt):r instanceof Ml&&s instanceof Ml?Jt(r.Ae,s.Ae):r instanceof Li&&s instanceof Li}(t.transform,e.transform)}class Q2{constructor(e,n){this.version=e,this.transformResults=n}}class Xt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Xt}static exists(e){return new Xt(void 0,e)}static updateTime(e){return new Xt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Yo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class aa{}function bv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Mv(t.key,Xt.none()):new qi(t.key,t.data,Xt.none());{const n=t.data,r=Mt.empty();let s=new Ke($e.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Ar(t.key,r,new zt(s.toArray()),Xt.none())}}function q2(t,e,n){t instanceof qi?function(s,i,l){const a=s.value.clone(),c=qp(s.fieldTransforms,i,l.transformResults);a.setAll(c),i.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Ar?function(s,i,l){if(!Yo(s.precondition,i))return void i.convertToUnknownDocument(l.version);const a=qp(s.fieldTransforms,i,l.transformResults),c=i.data;c.setAll(Vv(s)),c.setAll(a),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function hi(t,e,n,r){return t instanceof qi?function(i,l,a,c){if(!Yo(i.precondition,l))return a;const d=i.value.clone(),p=Xp(i.fieldTransforms,c,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Ar?function(i,l,a,c){if(!Yo(i.precondition,l))return a;const d=Xp(i.fieldTransforms,c,l),p=l.data;return p.setAll(Vv(i)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,l,a){return Yo(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function X2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Rv(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function Qp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&cs(r,s,(i,l)=>G2(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class qi extends aa{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Ar extends aa{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qp(t,e,n){const r=new Map;Te(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,a=e.data.field(i.field);r.set(i.field,W2(l,a,n[s]))}return r}function Xp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,H2(i,l,e))}return r}class Mv extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y2 extends aa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&q2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Nv();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let a=this.applyToLocalView(l,i.mutatedFields);a=n.has(s.key)?null:a;const c=bv(l,a);c!==null&&r.set(s.key,c),l.isValidDocument()||l.convertToNoDocument(pe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),et())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(n,r)=>Qp(n,r))&&cs(this.baseMutations,e.baseMutations,(n,r)=>Qp(n,r))}}class Wh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Te(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return O2}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new Wh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,ee;function ek(t){switch(t){case z.OK:return Y(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return Y(15467,{code:t})}}function tk(t){if(t===void 0)return kr("GRPC error has no .code"),z.UNKNOWN;switch(t){case Ce.OK:return z.OK;case Ce.CANCELLED:return z.CANCELLED;case Ce.UNKNOWN:return z.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return z.INTERNAL;case Ce.UNAVAILABLE:return z.UNAVAILABLE;case Ce.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Ce.NOT_FOUND:return z.NOT_FOUND;case Ce.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Ce.ABORTED:return z.ABORTED;case Ce.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Ce.DATA_LOSS:return z.DATA_LOSS;default:return Y(39323,{code:t})}}(ee=Ce||(Ce={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh([4294967295,4294967295],0);class nk{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rk(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function sk(t,e){return Tc(t,e.toTimestamp())}function ts(t){return Te(!!t,49232),pe.fromTimestamp(function(n){const r=Sr(n);return new ge(r.seconds,r.nanos)}(t))}function Lv(t,e){return Ic(t,e).canonicalString()}function Ic(t,e){const n=function(s){return new xe(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ik(t){const e=xe.fromString(t);return Te(fk(e),10190,{key:e.toString()}),e}function Cc(t,e){return Lv(t.databaseId,e.path)}function ok(t){const e=ik(t);return e.length===4?xe.emptyPath():ak(e)}function lk(t){return new xe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ak(t){return Te(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Yp(t,e,n){return{name:Cc(t,e),fields:n.value.mapValue.fields}}function uk(t,e){let n;if(e instanceof qi)n={update:Yp(t,e.key,e.value)};else if(e instanceof Mv)n={delete:Cc(t,e.key)};else if(e instanceof Ar)n={update:Yp(t,e.key,e.data),updateMask:dk(e.fieldMask)};else{if(!(e instanceof Y2))return Y(16599,{Vt:e.type});n={verify:Cc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const a=l.transform;if(a instanceof Li)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zi)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Oi)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ml)return{fieldPath:l.field.canonicalString(),increment:a.Ae};throw Y(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:sk(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:Y(27497)}(t,e.precondition)),n}function ck(t,e){return t&&t.length>0?(Te(e!==void 0,14353),t.map(n=>function(s,i){let l=s.updateTime?ts(s.updateTime):ts(i);return l.isEqual(pe.min())&&(l=ts(i)),new Q2(l,s.transformResults||[])}(n,e))):[]}function hk(t){let e=ok(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Te(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const m=zv(g);return m instanceof Wn&&xv(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(m=>function(A){return new bl(Vr(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,Lh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(g){const m=!!g.before,N=g.values||[];return new Dl(N,m)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const m=!g.before,N=g.values||[];return new Dl(N,m)}(n.endAt)),j2(e,s,l,i,a,"F",c,d)}function zv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Vr(n.unaryFilter.field);return Le.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Vr(n.unaryFilter.field);return Le.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Vr(n.unaryFilter.field);return Le.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Vr(n.unaryFilter.field);return Le.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Y(61313);default:return Y(60726)}}(t):t.fieldFilter!==void 0?function(n){return Le.create(Vr(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Y(58110);default:return Y(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>zv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Y(1026)}}(n.compositeFilter.op))}(t):Y(30097,{filter:t})}function Vr(t){return $e.fromServerFormat(t.fieldPath)}function dk(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function fk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pk{constructor(e){this.yt=e}}function mk(t){const e=hk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this.Cn=new yk}addToCollectionParentIndex(e,n){return this.Cn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Hn.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class yk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new Ke(xe.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Ke(xe.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Ov=41943040;class ct{static withCacheSize(e){return new ct(e,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(Ov,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ps(0)}static cr(){return new ps(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LruGarbageCollector",vk=1048576;function em([t,e],[n,r]){const s=re(t,n);return s===0?re(e,r):s}class _k{constructor(e){this.Ir=e,this.buffer=new Ke(em),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();em(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class xk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(Zp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Qi(n)?W(Zp,"Ignoring IndexedDB error during garbage collection: ",n):await bh(n)}await this.Vr(3e5)})}}class wk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(Vh.ce);const r=new _k(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(Jp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Jp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,l,a,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),br()<=te.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(a-l)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function Ek(t,e){return new wk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hi(r.mutation,s,zt.empty(),ge.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,et()).next(()=>r))}getLocalViewOfDocuments(e,n,r=et()){const s=hr();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=Do();return i.forEach((a,c)=>{l=l.insert(a,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=hr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,et()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,s){let i=Vl();const l=ci(),a=function(){return ci()}();return n.forEach((c,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Ar)?i=i.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),hi(p.mutation,d,p.mutation.getFieldMask(),ge.now())):l.set(d.key,zt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>a.set(d,new Sk(p,l.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ci();let s=new gt((l,a)=>l-a),i=et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||zt.empty();p=a.applyToLocalView(d,p),r.set(c,p);const g=(s.get(a.batchId)||et()).add(c);s=s.insert(a.batchId,g)})}).next(()=>{const l=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,p=c.value,g=Nv();p.forEach(m=>{if(!i.has(m)){const N=bv(n.get(m),r.get(m));N!==null&&g.set(m,N),i=i.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return q.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):b2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):L.resolve(hr());let a=Vi,c=i;return l.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),i.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{c=c.insert(p,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,et())).next(p=>({batchId:a,changes:Cv(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new q(n)).next(r=>{let s=Do();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=Do();return this.indexManager.getCollectionParents(e,i).next(a=>L.forEach(a,c=>{const d=function(g,m){return new oa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((g,m)=>{l=l.insert(g,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((c,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Vt.newInvalidDocument(p)))});let a=Do();return l.forEach((c,d)=>{const p=i.get(c);p!==void 0&&hi(p.mutation,d,zt.empty(),ge.now()),$h(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return L.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:ts(s.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:mk(s.bundledQuery),readTime:ts(s.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ck{constructor(){this.overlays=new gt(q.comparator),this.qr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=hr();return L.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const s=hr(),i=n.length+1,l=new q(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return L.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gt((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=hr(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const a=hr(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=s)););return L.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Z2(n,r));let i=this.qr.get(n);i===void 0&&(i=et(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Qr=new Ke(Ve.$r),this.Ur=new Ke(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ve(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new q(new xe([])),r=new Ve(n,e),s=new Ve(n,e+1),i=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),i.push(l.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new q(new xe([])),r=new Ve(n,e),s=new Ve(n,e+1);let i=et();return this.Ur.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new Ve(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return q.comparator(e.key,n.key)||re(e.Yr,n.Yr)}static Kr(e,n){return re(e.Yr,n.Yr)||q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ak{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Ke(Ve.$r)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new J2(i,n,r,s);this.mutationQueue.push(l);for(const a of s)this.Zr=this.Zr.add(new Ve(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(l)}lookupMutationBatch(e,n){return L.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return L.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Mh:this.tr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),s=new Ve(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],l=>{const a=this.Xr(l.Yr);i.push(a)}),L.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ke(re);return n.forEach(s=>{const i=new Ve(s,0),l=new Ve(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],a=>{r=r.add(a.Yr)})}),L.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;q.isDocumentKey(i)||(i=i.child(""));const l=new Ve(new q(i),0);let a=new Ke(re);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},l),L.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Te(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return L.forEach(n.mutations,s=>{const i=new Ve(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ve(n,0),s=this.Zr.firstAfterOrEqual(r);return L.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e){this.ri=e,this.docs=function(){return new gt(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Vl();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Vl();const l=n.path,a=new q(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||u2(a2(p),r)<=0||(s.has(p.key)||$h(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return L.resolve(i)}getAllFromCollectionGroup(e,n,r,s){Y(9500)}ii(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Pk(this)}getSize(e){return L.resolve(this.size)}}class Pk extends kk{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jk{constructor(e){this.persistence=e,this.si=new Nr(n=>Uh(n),Bh),this.lastRemoteSnapshotVersion=pe.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=ps.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),L.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new ps(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Pr(n),L.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),L.waitFor(i).next(()=>s)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),L.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new Nk,this.referenceDelegate=e(this),this.Pi=new jk(this),this.indexManager=new gk,this.remoteDocumentCache=function(s){return new Rk(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new pk(n),this.Ii=new Ik(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Ck,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Ak(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new Dk(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return L.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Dk extends h2{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Gh(e)}get fi(){if(this.Vi)return this.Vi;throw Y(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.fi,r=>{const s=q.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,pe.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return L.or([()=>L.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ll{constructor(e,n){this.persistence=e,this.pi=new Nr(r=>p2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=Ek(this,n)}static mi(e,n){return new Ll(e,n)}Ei(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return L.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?L.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(a=>{a||(r++,i.removeEntry(l,pe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),L.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=qo(e.data.value)),n}br(e,n,r){return L.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return L.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=et(),s=et();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Rw()?8:d2(Nw())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new bk;return this.Ss(e,n,l).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,l,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(br()<=te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),L.resolve()):(br()<=te.DEBUG&&W("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(br()<=te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(n))):L.resolve())}ys(e,n){if(Kp(n))return L.resolve(null);let r=gr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sc(n,null,"F"),r=gr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=et(...i);return this.ps.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,l,c.readTime)?this.ys(e,Sc(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Kp(n)||s.isEqual(pe.min())?L.resolve(null):this.ps.getDocuments(e,r).next(i=>{const l=this.Ds(n,i);return this.Cs(n,l,r,s)?L.resolve(null):(br()<=te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ks(n)),this.vs(e,l,n,l2(s,Vi)).next(a=>a))})}Ds(e,n){let r=new Ke(M2(e));return n.forEach((s,i)=>{$h(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return br()<=te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,Hn.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mk="LocalStore";class Lk{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new gt(re),this.xs=new Nr(i=>Uh(i),Bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function zk(t,e,n,r){return new Lk(t,e,n,r)}async function Uv(t,e){const n=ue(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],a=[];let c=et();for(const d of s){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:a}))})})}function Ok(t,e){const n=ue(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,p){const g=d.batch,m=g.keys();let N=L.resolve();return m.forEach(A=>{N=N.next(()=>p.getEntry(c,A)).next(R=>{const M=d.docVersions.get(A);Te(M!==null,48541),R.version.compareTo(M)<0&&(g.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),N.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=et();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Fk(t){const e=ue(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function Uk(t,e){const n=ue(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class tm{constructor(){this.activeTargetIds=B2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Bk{constructor(){this.Mo=new tm,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tm,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm="ConnectivityMonitor";class rm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(nm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(nm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bo=null;function Nc(){return bo===null?bo=function(){return 268435456+Math.round(2147483648*Math.random())}():bo++,"0x"+bo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu="RestConnection",Hk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Wk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Pl?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const l=Nc(),a=this.zo(e,n.toUriEncodedString());W(pu,`Sending RPC '${e}' ${l}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),p=Nh(d);return this.Jo(e,a,c,r,p).then(g=>(W(pu,`Received RPC '${e}' ${l}: `,g),g),g=>{throw ia(pu,`RPC '${e}' ${l} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,s,i,l){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Hk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ye="WebChannelConnection";class Gk extends Wk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const l=Nc();return new Promise((a,c)=>{const d=new ev;d.setWithCredentials(!0),d.listenOnce(tv.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Qo.NO_ERROR:const g=d.getResponseJson();W(Ye,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),a(g);break;case Qo.TIMEOUT:W(Ye,`RPC '${e}' ${l} timed out`),c(new K(z.DEADLINE_EXCEEDED,"Request time out"));break;case Qo.HTTP_ERROR:const m=d.getStatus();if(W(Ye,`RPC '${e}' ${l} failed with status:`,m,"response text:",d.getResponseText()),m>0){let N=d.getResponseJson();Array.isArray(N)&&(N=N[0]);const A=N==null?void 0:N.error;if(A&&A.status&&A.message){const R=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(x)>=0?x:z.UNKNOWN}(A.status);c(new K(R,A.message))}else c(new K(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new K(z.UNAVAILABLE,"Connection failed."));break;default:Y(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{W(Ye,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);W(Ye,`RPC '${e}' ${l} sending request:`,s),d.send(n,"POST",p,r,15)})}T_(e,n,r){const s=Nc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=sv(),a=rv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");W(Ye,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=l.createWebChannel(p,c);this.I_(g);let m=!1,N=!1;const A=new Kk({Yo:M=>{N?W(Ye,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(m||(W(Ye,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),W(Ye,`RPC '${e}' stream ${s} sending:`,M),g.send(M))},Zo:()=>g.close()}),R=(M,T,x)=>{M.listen(T,I=>{try{x(I)}catch(j){setTimeout(()=>{throw j},0)}})};return R(g,Ys.EventType.OPEN,()=>{N||(W(Ye,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),R(g,Ys.EventType.CLOSE,()=>{N||(N=!0,W(Ye,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(g))}),R(g,Ys.EventType.ERROR,M=>{N||(N=!0,ia(Ye,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),A.a_(new K(z.UNAVAILABLE,"The operation could not be completed")))}),R(g,Ys.EventType.MESSAGE,M=>{var T;if(!N){const x=M.data[0];Te(!!x,16349);const I=x,j=(I==null?void 0:I.error)||((T=I[0])==null?void 0:T.error);if(j){W(Ye,`RPC '${e}' stream ${s} received error:`,j);const D=j.status;let O=function(k){const _=Ce[k];if(_!==void 0)return tk(_)}(D),E=j.message;O===void 0&&(O=z.INTERNAL,E="Unknown error status: "+D+" with message "+j.message),N=!0,A.a_(new K(O,E)),g.close()}else W(Ye,`RPC '${e}' stream ${s} received:`,x),A.u_(x)}}),R(a,nv.STAT_EVENT,M=>{M.stat===vc.PROXY?W(Ye,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===vc.NOPROXY&&W(Ye,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ua(t){return new nk(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm="PersistentStream";class Qk{constructor(e,n,r,s,i,l,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Bv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(kr(n.toString()),kr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new K(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(sm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(sm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class qk extends Qk{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Te(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Te(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ck(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lk(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>uk(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xk{}class Yk extends Xk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Go(e,Ic(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(z.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Ho(e,Ic(n,r),s,l,a,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new K(z.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Jk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(kr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xi="RemoteStore";class Zk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Ji(this)&&(W(Xi,"Restarting streams for network reachability change."),await async function(c){const d=ue(c);d.Ea.add(4),await Yi(d),d.Ra.set("Unknown"),d.Ea.delete(4),await ca(d)}(this))})}),this.Ra=new Jk(r,s)}}async function ca(t){if(Ji(t))for(const e of t.da)await e(!0)}async function Yi(t){for(const e of t.da)await e(!1)}function Ji(t){return ue(t).Ea.size===0}async function $v(t,e,n){if(!Qi(e))throw e;t.Ea.add(1),await Yi(t),t.Ra.set("Offline"),n||(n=()=>Fk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(Xi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await ca(t)})}function Hv(t,e){return e().catch(n=>$v(t,n,e))}async function ha(t){const e=ue(t),n=Kn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mh;for(;eS(e);)try{const s=await Uk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,tS(e,s)}catch(s){await $v(e,s)}Wv(e)&&Kv(e)}function eS(t){return Ji(t)&&t.Ta.length<10}function tS(t,e){t.Ta.push(e);const n=Kn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function Wv(t){return Ji(t)&&!Kn(t).x_()&&t.Ta.length>0}function Kv(t){Kn(t).start()}async function nS(t){Kn(t).ra()}async function rS(t){const e=Kn(t);for(const n of t.Ta)e.ea(n.mutations)}async function sS(t,e,n){const r=t.Ta.shift(),s=Wh.from(r,e,n);await Hv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ha(t)}async function iS(t,e){e&&Kn(t).X_&&await async function(r,s){if(function(l){return ek(l)&&l!==z.ABORTED}(s.code)){const i=r.Ta.shift();Kn(r).B_(),await Hv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ha(r)}}(t,e),Wv(t)&&Kv(t)}async function im(t,e){const n=ue(t);n.asyncQueue.verifyOperationInProgress(),W(Xi,"RemoteStore received new credentials");const r=Ji(n);n.Ea.add(3),await Yi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await ca(n)}async function oS(t,e){const n=ue(t);e?(n.Ea.delete(2),await ca(n)):e||(n.Ea.add(2),await Yi(n),n.Ra.set("Unknown"))}function Kn(t){return t.fa||(t.fa=function(n,r,s){const i=ue(n);return i.sa(),new qk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:nS.bind(null,t),r_:iS.bind(null,t),ta:rS.bind(null,t),na:sS.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ha(t)):(await t.fa.stop(),t.Ta.length>0&&(W(Xi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,a=new qh(e,n,l,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gv(t,e){if(kr("AsyncQueue",`${e}: ${t}`),Qi(t))return new K(z.UNAVAILABLE,`${e}: ${t}`);throw t}class lS{constructor(){this.queries=om(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ue(n),i=s.queries;s.queries=om(),i.forEach((l,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new K(z.ABORTED,"Firestore shutting down"))}}function om(){return new Nr(t=>Tv(t),Sv)}function aS(t){t.Ca.forEach(e=>{e.next()})}var lm,am;(am=lm||(lm={})).Ma="default",am.Cache="cache";const uS="SyncEngine";class cS{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Nr(a=>Tv(a),Sv),this.Iu=new Map,this.Eu=new Set,this.du=new gt(q.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=ps.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function hS(t,e,n){const r=mS(t);try{const s=await function(l,a){const c=ue(l),d=ge.now(),p=a.reduce((N,A)=>N.add(A.key),et());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",N=>{let A=Vl(),R=et();return c.Ns.getEntries(N,p).next(M=>{A=M,A.forEach((T,x)=>{x.isValidDocument()||(R=R.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(N,A)).next(M=>{g=M;const T=[];for(const x of a){const I=X2(x,g.get(x.key).overlayedDocument);I!=null&&T.push(new Ar(x.key,I,yv(I.value.mapValue),Xt.exists(!0)))}return c.mutationQueue.addMutationBatch(N,d,T,a)}).next(M=>{m=M;const T=M.applyToLocalDocumentSet(g,R);return c.documentOverlayCache.saveOverlays(N,M.batchId,T)})}).then(()=>({batchId:m.batchId,changes:Cv(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,a,c){let d=l.Vu[l.currentUser.toKey()];d||(d=new gt(re)),d=d.insert(a,c),l.Vu[l.currentUser.toKey()]=d}(r,s.batchId,n),await da(r,s.changes),await ha(r.remoteStore)}catch(s){const i=Gv(s,"Failed to persist write");n.reject(i)}}function um(t,e,n){const r=ue(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,l)=>{const a=l.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(l,a){const c=ue(l);c.onlineState=a;let d=!1;c.queries.forEach((p,g)=>{for(const m of g.Sa)m.va(a)&&(d=!0)}),d&&aS(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function dS(t,e){const n=ue(t),r=e.batch.batchId;try{const s=await Ok(n.localStore,e);qv(n,r,null),Qv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await da(n,s)}catch(s){await bh(s)}}async function fS(t,e,n){const r=ue(t);try{const s=await function(l,a){const c=ue(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,a).next(g=>(Te(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(r.localStore,e);qv(r,e,n),Qv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await da(r,s)}catch(s){await bh(s)}}function Qv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function qv(t,e,n){const r=ue(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}async function da(t,e,n){const r=ue(t),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{l.push(r.pu(c,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Qh.As(c.targetId,d);i.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(c,d){const p=ue(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,m=>L.forEach(m.Es,N=>p.persistence.referenceDelegate.addReference(g,m.targetId,N)).next(()=>L.forEach(m.ds,N=>p.persistence.referenceDelegate.removeReference(g,m.targetId,N)))))}catch(g){if(!Qi(g))throw g;W(Mk,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const N=p.Ms.get(m),A=N.snapshotVersion,R=N.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(m,R)}}}(r.localStore,i))}async function pS(t,e){const n=ue(t);if(!n.currentUser.isEqual(e)){W(uS,"User change. New user:",e.toKey());const r=await Uv(n.localStore,e);n.currentUser=e,function(i,l){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new K(z.CANCELLED,l))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await da(n,r.Ls)}}function mS(t){const e=ue(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=dS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fS.bind(null,e),e}class zl{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ua(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return zk(this.persistence,new Vk,e.initialUser,this.serializer)}Cu(e){return new Fv(Gh.mi,this.serializer)}Du(e){return new Bk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zl.provider={build:()=>new zl};class gS extends zl{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Te(this.persistence.referenceDelegate instanceof Ll,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new xk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ct.withCacheSize(this.cacheSizeBytes):ct.DEFAULT;return new Fv(r=>Ll.mi(r,n),this.serializer)}}class Ac{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>um(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=pS.bind(null,this.syncEngine),await oS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new lS}()}createDatastore(e){const n=ua(e.databaseInfo.databaseId),r=function(i){return new Gk(i)}(e.databaseInfo);return function(i,l,a,c){return new Yk(i,l,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,a){return new Zk(r,s,i,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>um(this.syncEngine,n,0),function(){return rm.v()?new rm:new $k}())}createSyncEngine(e,n){return function(s,i,l,a,c,d,p){const g=new cS(s,i,l,a,c,d);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ue(s);W(Xi,"RemoteStore shutting down."),i.Ea.add(5),await Yi(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ac.provider={build:()=>new Ac};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="FirestoreClient";class yS{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Je.UNAUTHENTICATED,this.clientId=jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{W(Gn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(W(Gn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Gv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gu(t,e){t.asyncQueue.verifyOperationInProgress(),W(Gn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Uv(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function cm(t,e){t.asyncQueue.verifyOperationInProgress();const n=await vS(t);W(Gn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>im(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>im(e.remoteStore,s)),t._onlineComponents=e}async function vS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Gn,"Using user provided OfflineComponentProvider");try{await gu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ia("Error using user provided cache. Falling back to memory cache: "+n),await gu(t,new zl)}}else W(Gn,"Using default OfflineComponentProvider"),await gu(t,new gS(void 0));return t._offlineComponents}async function _S(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Gn,"Using user provided OnlineComponentProvider"),await cm(t,t._uninitializedComponentsProvider._online)):(W(Gn,"Using default OnlineComponentProvider"),await cm(t,new Ac))),t._onlineComponents}function xS(t){return _S(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="firestore.googleapis.com",dm=!0;class fm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new K(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Yv,this.ssl=dm}else this.host=e.host,this.ssl=e.ssl??dm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Ov;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<vk)throw new K(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}o2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Xv(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new K(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fa{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XE;switch(r.type){case"firstParty":return new e2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=hm.get(n);r&&(W("ComponentProvider","Removing Datastore"),hm.delete(n),r.terminate())}(this),Promise.resolve()}}function wS(t,e,n,r={}){var d;t=Nl(t,fa);const s=Nh(e),i=t._getSettings(),l={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(kw(`https://${a}`),Cw("Firestore",!0)),i.host!==Yv&&i.host!==a&&ia("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Tl(c,l)&&(t._setSettings(c),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Je.MOCK_USER;else{p=Sw(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new K(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Je(m)}t._authCredentials=new YE(new ov(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xh(this.firestore,e,this._query)}}class He{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Un(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new He(this.firestore,e,this._key)}toJSON(){return{type:He._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Gi(n,He._jsonSchema))return new He(e,r||null,new q(xe.fromString(n.referencePath)))}}He._jsonSchemaVersion="firestore/documentReference/1.0",He._jsonSchema={type:Ae("string",He._jsonSchemaVersion),referencePath:Ae("string")};class Un extends Xh{constructor(e,n,r){super(e,n,D2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new He(this.firestore,null,new q(e))}withConverter(e){return new Un(this.firestore,e,this._path)}}function ES(t,e,...n){if(t=ji(t),lv("collection","path",e),t instanceof fa){const r=xe.fromString(e,...n);return Vp(r),new Un(t,null,r)}{if(!(t instanceof He||t instanceof Un))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return Vp(r),new Un(t.firestore,null,r)}}function Zi(t,e,...n){if(t=ji(t),arguments.length===1&&(e=jh.newId()),lv("doc","path",e),t instanceof fa){const r=xe.fromString(e,...n);return bp(r),new He(t,null,new q(r))}{if(!(t instanceof He||t instanceof Un))throw new K(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(xe.fromString(e,...n));return bp(r),new He(t.firestore,t instanceof Un?t.converter:null,new q(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm="AsyncQueue";class mm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Bv(this,"async_queue_retry"),this._c=()=>{const r=mu();r&&W(pm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new mr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Qi(e))throw e;W(pm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,kr("INTERNAL UNHANDLED ERROR: ",gm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qh.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&Y(47125,{Pc:gm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function gm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Yh extends fa{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new mm,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new mm(e),this._firestoreClient=void 0,await e}}}function kS(t,e){const n=typeof t=="object"?t:LE(),r=typeof t=="string"?t:Pl,s=jE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ww("firestore");i&&wS(s,...i)}return s}function SS(t){if(t._terminated)throw new K(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TS(t),t._firestoreClient}function TS(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,p){return new v2(a,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Xv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new yS(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lt(Yt.fromBase64String(e))}catch(n){throw new K(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Lt(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Lt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Gi(e,Lt._jsonSchema))return Lt.fromBase64String(e.bytes)}}Lt._jsonSchemaVersion="firestore/bytes/1.0",Lt._jsonSchema={type:Ae("string",Lt._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return re(this._lat,e._lat)||re(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ln._jsonSchemaVersion}}static fromJSON(e){if(Gi(e,ln._jsonSchema))return new ln(e.latitude,e.longitude)}}ln._jsonSchemaVersion="firestore/geoPoint/1.0",ln._jsonSchema={type:Ae("string",ln._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:an._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Gi(e,an._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new an(e.vectorValues);throw new K(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}an._jsonSchemaVersion="firestore/vectorValue/1.0",an._jsonSchema={type:Ae("string",an._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=/^__.*__$/;class CS{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Ar(e,this.data,this.fieldMask,n,this.fieldTransforms):new qi(e,this.data,n,this.fieldTransforms)}}function Jv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Y(40011,{Ac:t})}}class ed{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ed({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Ol(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Jv(this.Ac)&&IS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class NS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ua(e)}Cc(e,n,r,s=!1){return new ed({Ac:e,methodName:n,Dc:r,path:$e.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zv(t){const e=t._freezeSettings(),n=ua(t._databaseId);return new NS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function e0(t,e,n,r,s,i={}){const l=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);s0("Data must be an object, but it was:",l,r);const a=n0(r,l);let c,d;if(i.merge)c=new zt(l.fieldMask),d=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const m=AS(e,g,n);if(!l.contains(m))throw new K(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);PS(p,m)||p.push(m)}c=new zt(p),d=l.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=l.fieldTransforms;return new CS(new Mt(a),c,d)}class td extends Zh{_toFieldTransform(e){return new K2(e.path,new Li)}isEqual(e){return e instanceof td}}function t0(t,e){if(r0(t=ji(t)))return s0("Unsupported field value:",e,t),n0(t,e);if(t instanceof Zh)return function(r,s){if(!Jv(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const a of r){let c=t0(a,s.wc(l));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ji(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return $2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ge.fromDate(r);return{timestampValue:Tc(s.serializer,i)}}if(r instanceof ge){const i=new ge(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(s.serializer,i)}}if(r instanceof ln)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Lt)return{bytesValue:rk(s.serializer,r._byteString)};if(r instanceof He){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Lv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof an)return function(l,a){return{mapValue:{fields:{[mv]:{stringValue:gv},[xc]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Hh(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Dh(r)}`)}(t,e)}function n0(t,e){const n={};return cv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,s)=>{const i=t0(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function r0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ge||t instanceof ln||t instanceof Lt||t instanceof He||t instanceof Zh||t instanceof an)}function s0(t,e,n){if(!r0(n)||!av(n)){const r=Dh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function AS(t,e,n){if((e=ji(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return i0(t,e);throw Ol("Field path arguments must be of type string or ",t,!1,void 0,n)}const RS=new RegExp("[~\\*/\\[\\]]");function i0(t,e,n){if(e.search(RS)>=0)throw Ol(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw Ol(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ol(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||l)&&(c+=" (found",i&&(c+=` in field ${r}`),l&&(c+=` in document ${s}`),c+=")"),new K(z.INVALID_ARGUMENT,a+t+c)}function PS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new He(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class jS extends o0{data(){return super.data()}}function l0(t,e){return typeof e=="string"?i0(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a0(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Vo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ns extends o0{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Jo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(l0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ns._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",ns._jsonSchema={type:Ae("string",ns._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Jo extends ns{data(e={}){return super.data(e)}}class di{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Vo(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Jo(this._firestore,this._userDataWriter,r.key,r,new Vo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(a=>{const c=new Jo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Jo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Vo(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return a.type!==0&&(d=l.indexOf(a.doc.key),l=l.delete(a.doc.key)),a.type!==1&&(l=l.add(a.doc),p=l.indexOf(a.doc.key)),{type:DS(a.type),doc:c,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function DS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Y(61501,{type:t})}}di._jsonSchemaVersion="firestore/querySnapshot/1.0",di._jsonSchema={type:Ae("string",di._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function pa(t,e,n){t=Nl(t,He);const r=Nl(t.firestore,Yh),s=a0(t.converter,e,n);return u0(r,[e0(Zv(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,Xt.none())])}function bS(t,e){const n=Nl(t.firestore,Yh),r=Zi(t),s=a0(t.converter,e);return u0(n,[e0(Zv(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,Xt.exists(!1))]).then(()=>r)}function u0(t,e){return function(r,s){const i=new mr;return r.asyncQueue.enqueueAndForget(async()=>hS(await xS(r),s,i)),i.promise}(SS(t),e)}function Rn(){return new td("serverTimestamp")}(function(e,n=!0){(function(s){xs=s})(ME),Cl(new Di("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),a=new Yh(new JE(r.getProvider("auth-internal")),new t2(l,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new K(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(d.options.projectId,p)}(l,s),l);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),es(Rp,Pp,e),es(Rp,Pp,"esm2020")})();const VS={apiKey:"AIzaSyBIKyohpoENAAmXcWwu7Q8pOjonRvy5g_E",authDomain:"danny-redo.firebaseapp.com",projectId:"danny-redo",storageBucket:"danny-redo.firebasestorage.app",messagingSenderId:"861664122007",appId:"1:861664122007:web:75c78636338e2f9b4d05d2"},MS=Yy(VS),Fi=kS(MS),LS={userID:null,treatmentGroup:null,sessionActive:!1,sessionStartTime:null,setUserID:()=>{},setTreatmentGroup:()=>{},setSessionActive:()=>{}},c0=V.createContext(LS),at=()=>V.useContext(c0),zS=({children:t})=>{const[e,n]=V.useState(()=>typeof window<"u"&&sessionStorage.getItem("studyUserID")||null),[r,s]=V.useState(()=>{if(typeof window<"u"){const m=sessionStorage.getItem("treatmentGroup");return m==="treatment"||m==="control"?m:null}return null}),[i,l]=V.useState(()=>typeof window<"u"?!!sessionStorage.getItem("studyUserID"):!1),[a,c]=V.useState(()=>typeof window<"u"&&sessionStorage.getItem("sessionStartTime")||null);V.useEffect(()=>{if(typeof window>"u")return;const m=sessionStorage.getItem("studyUserID"),N=sessionStorage.getItem("treatmentGroup"),A=sessionStorage.getItem("sessionStartTime");m&&!e&&n(m),N&&!r&&(N==="treatment"||N==="control")&&s(N),A&&!a&&c(A),m&&!i&&l(!0)},[]);const d=m=>{n(m),m?sessionStorage.setItem("studyUserID",m):sessionStorage.removeItem("studyUserID")},p=m=>{s(m),m?sessionStorage.setItem("treatmentGroup",m):sessionStorage.removeItem("treatmentGroup")},g=m=>{if(l(m),m){const N=new Date().toISOString();c(N),sessionStorage.setItem("sessionStartTime",N)}else c(null),sessionStorage.removeItem("sessionStartTime")};return V.createElement(c0.Provider,{value:{userID:e,treatmentGroup:r,sessionActive:i,sessionStartTime:a,setUserID:d,setTreatmentGroup:p,setSessionActive:g}},t)};function OS(){const[t,e]=V.useState({age:"",gender:"",education:"",residence:"",healthcareQualification:""}),n=(c,d)=>{e(p=>({...p,[c]:d}))},r=c=>d=>{n(c,d.target.value)},s=Oe(),i=at(),l=c=>{c.preventDefault(),(async()=>{try{console.log("Form data:",t);const{userID:d,treatmentGroup:p,randomizationSeed:g}=cw(),m={userID:d,treatmentGroup:p,randomizationSeed:g,sessionActive:!0,sessionStartTime:Rn(),currentPhase:"welcome",createdAt:Rn(),browserInfo:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,age:t.age,gender:t.gender,education:t.education,residence:t.residence,healthcareQualification:t.healthcareQualification,completionStatus:"in_progress"};await pa(Zi(Fi,"participants",d),m),i&&i.setUserID&&i.setUserID(d),i&&i.setTreatmentGroup&&i.setTreatmentGroup(p),i&&i.setSessionActive&&i.setSessionActive(!0),s("/DemographicForm/PersonalityLanding")}catch(d){console.error("Failed to start session:",d)}})()},a=Object.values(t).every(c=>c!=="");return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-bg",children:u.jsxs("div",{className:"max-w-2xl w-full p-6 sm:p-8 lg:p-12 bg-surface rounded-lg shadow-md",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl mb-8 text-text font-bold text-center",children:"Demográfiai adatok"}),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"age",className:"block text-base font-semibold text-text mb-2",children:"Kor"}),u.jsxs("select",{id:"age",value:t.age,onChange:r("age"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Adja meg a korát"}),u.jsx("option",{value:"18-25",children:"18-25"}),u.jsx("option",{value:"26-35",children:"26-35"}),u.jsx("option",{value:"36-45",children:"36-45"}),u.jsx("option",{value:"46-55",children:"46-55"}),u.jsx("option",{value:"56-65",children:"56-65"}),u.jsx("option",{value:"66+",children:"66+"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"gender",className:"block text-base font-semibold text-text mb-2",children:"Nem"}),u.jsxs("select",{id:"gender",value:t.gender,onChange:r("gender"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Válassza ki a nemét"}),u.jsx("option",{value:"male",children:"Férfi"}),u.jsx("option",{value:"female",children:"Nő"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"education",className:"block text-base font-semibold text-text mb-2",children:"Iskola"}),u.jsxs("select",{id:"education",value:t.education,onChange:r("education"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Legmagasabb iskolai végzettsége"}),u.jsx("option",{value:"elementary",children:"Általános iskola"}),u.jsx("option",{value:"high-school",children:"Középiskola"}),u.jsx("option",{value:"bachelors",children:"Alapképzés (BSc)"}),u.jsx("option",{value:"masters",children:"Mesterképzés (MSc)"}),u.jsx("option",{value:"phd",children:"Doktori fokozat (PhD)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"residence",className:"block text-base font-semibold text-text mb-2",children:"Lakhely"}),u.jsxs("select",{id:"residence",value:t.residence,onChange:r("residence"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Adja meg lakhelyét"}),u.jsx("option",{value:"budapest",children:"Budapest"}),u.jsx("option",{value:"county-seat",children:"Megyeszékhely"}),u.jsx("option",{value:"city",children:"Város"}),u.jsx("option",{value:"village",children:"Község/Falu"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"healthcareQualification",className:"block text-base font-semibold text-text mb-2",children:"Egészségügyi végzettség"}),u.jsxs("select",{id:"healthcareQualification",value:t.healthcareQualification,onChange:r("healthcareQualification"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Van egészségügyi végzettsége?"}),u.jsx("option",{value:"none",children:"Nincs"}),u.jsx("option",{value:"nurse",children:"Ápoló/Asszisztens"}),u.jsx("option",{value:"medical-student",children:"Orvostanhallgató"}),u.jsx("option",{value:"doctor",children:"Orvos"}),u.jsx("option",{value:"radiologist",children:"Radiológus"}),u.jsx("option",{value:"other-healthcare",children:"Egyéb egészségügyi"})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{type:"submit",disabled:!a,className:"w-full px-6 py-3 bg-accent text-white font-semibold rounded-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Teszt kezdése"})})]})]})})}function FS(t){return-t[0]+t[10]+-t[20]+t[30]+-t[40]+t[50]+t[60]+-t[70]+t[80]+t[90]+14}function US(t){return-t[1]+t[11]+t[21]+-t[31]+t[41]+-t[51]+-t[61]+t[71]+-t[81]+t[91]+20}function BS(t){return t[2]+-t[12]+-t[22]+-t[32]+-t[33]+t[42]+-t[52]+t[62]+t[72]+-t[82]+-t[92]+26}function $S(t){return t[3]+-t[13]+-t[23]+-t[33]+t[43]+-t[53]+-t[63]+t[73]+t[83]+t[93]+20}function HS(t){return t[4]+-t[14]+t[24]+t[34]+-t[44]+-t[54]+t[64]+t[74]+-t[84]+t[94]+14}function WS(t){return t[5]+-t[15]+t[25]+-t[35]+t[45]+-t[55]+t[65]+-t[75]+t[85]+t[95]+14}function KS(t){return t[6]+-t[16]+t[26]+-t[36]+t[46]+t[56]+-t[66]+-t[76]+-t[86]+t[96]+20}function GS(t){return-t[7]+t[17]+t[27]+t[37]+-t[47]+t[57]+-t[67]+-t[77]+-t[87]+t[97]+20}function QS(t){return t[8]+t[18]+-t[28]+t[38]+-t[48]+t[58]+t[68]+-t[78]+t[88]+-t[98]+14}function qS(t){return t[9]+t[19]+t[29]+t[39]+-t[49]+-t[59]+t[69]+-t[79]+-t[89]+t[99]+14}function XS(t){const e=t.map(T=>parseInt(T,10)),n=FS(e),r=US(e),s=BS(e),i=$S(e),l=HS(e),a=WS(e),c=KS(e),d=GS(e),p=QS(e),g=qS(e),m=n+a,N=r+c,A=s+d,R=i+p;return{openness:l+g,conscientiousness:A,extroversion:R,agreeableness:N,neuroticism:m}}const yu=[["Ritkán vagyok szomorú","Közönyös vagyok mások problémái iránt","Megvalósítom a terveimet","Könnyen barátkozom","Gyorsan megértem a dolgokat","Könnyen kapok haragra","Tisztelem a hatalommal hatalmat","Széthagyom a cuccaimat","Kezembe veszem az irányítást","Élvezem a természet szépségét"],["Gyakran kételkedem a dolgokban","Könnyen átélem mások érzéseit","Gyakran pazarlom az időmet","Nehéz engem megismerni","Nehezen értek meg absztrakt gondolatokat","Ritkán vagyok ingerült","Gyakran gondolom, hogy jobb vagyok másoknál","Szeretem a rendet","Erős személyiségem van","Hiszek a művészet fontosságában"],["Kellemes érzéseim vannak magammal kapcsolatban","Érdeklődöm más emberek jólétéről","Nehezem veszem rá magamat, hogy nekiálljak a dolgomnak","Távolságot tartok az másoktól","Könnyen kezelek sok információt","Könnyen ki lehet hozni a sodromból","Nem szeretek rámenősnek tűnni","Rendben tartom a dolgaimat","Nem vagyok meggyőző","Szeretsz gondolkodni a dolgokon"],["Könnyen érzem magam veszélyben","Nem lehet megzavarni mások igényeivel","Gyakran rontok el dolgokat","Kevés információt osztok meg magamról","Szeretek megoldani komplex problémákat","Könnyen kezelem az érzelmeimet","Kihasználok másokat a saját céljaimra","Időbeosztást követek","Tudom, hogy kell elvarázsolni az embereket","Nagyon el tudok veszek a zenében"],["Ritkán érzem magam depressziósnak","Szimpatizálok mások érzéseivel","Befejezem, amit elkezdek","Könnyen megtalálom másokkal a közös hangot","Kerülöm a filozofikus kérdéseket és inkább csevegek","Könnyen változik a hangulatom","Nem szeretem a saját akaratomat érvényesíteni","Nem zavarnak a rendetlen emberek","Nem vagyok vezető típus","Nem érdekel a költészet"],["Izgulós vagyok","Nehezen helyezem bele magamat mások helyzetébe","Nehezen koncentrálok a feladatra, amit éppen végzek","Ritkán robbanok szét az izgalomtól","Nem szeretek a nehéz olvasmányokat","Ritkán vesztem el a nyugalmamat","Nem helyezek másokat nyomás alá","A tökéletességre törekszem","Jó vezetőnek látom magamat","Nem látom az érzelmi hátterét egy festménynek"],["Könnyel le lehet engem törni","Keveset foglalkozom másokkal","Gyorsan elintézem a dolgaimat","Nem vagyok nagyon beszédes","Nagyon színes a szókincsem","Egy olyan ember vagyok, akinek kedve gyorsan megy fel és le","Megsértek embereket","Nem zavar a rendetlenség","Könnyen rábeszélek embereket dolgokra","Szükségem van rá, hogy szabadon engedjem a kreativitásomat"],["Nehéz zavarba hozni","Érdeklődöm mások élete iránt","Tudom, hogy mit csinálok","Kimutatom, ha boldog vagyok","Gyorsan gondolkodom","Nehezem lehet felidegesíteni","Keresem a konfliktust","Nem szeretem a rutint","Nehezen mondom el a véleményemet","Ritkán veszem el a gondolataimban"],["Könnyen kiborulok eseményektől","Nincsen puha oldalam","Halogatom el a döntéseimet","Gyakran szórakozom","Lassan tanulok","Könnyen fel lehet zaklatni","Szeretek egy jó vitát","Azt gondolom, hogy a szabályok csak útmutatók","Én vagyok az első, aki cselekszik","Ritkán ábrándozom"],["Sok félelmem van","Szeretek másoknak segíteni","Könnyen el lehet vonni a figyelmemet","Nagyon sokat nevetek","Gyorsan tudok új ötletekkel előállni","Könnyű összezavarni engem","Nem a saját érdekeimet tartom előtérben","Minden egyes részletre odafigyelek","Nem vagyok egy határozott személy","Olyan dolgokat látok szépnek, amiket mások nem vesznek észre"]],ym=3;function YS({assessmentId:t,onSubmit:e}){const[n,r]=V.useState(0),[s,i]=V.useState(Array(100).fill(null)),[l,a]=V.useState(!1),c=Oe(),d=at(),p=(A,R)=>{const M=n*10+A,T=[...s];T[M]=R,i(T),a(!1)},g=()=>{const A=s.slice(n*10,(n+1)*10);if(!A.every(T=>T!==null)){a(!0);const T=A.findIndex(x=>x===null);if(T!==-1){const x=document.getElementById(`statement-${T}-1`);x&&x.scrollIntoView({behavior:"smooth",block:"center"})}return}a(!1);const M=yu.slice(0,ym);if(n<M.length-1)r(n+1),window.scrollTo({top:0,behavior:"smooth"});else{const T=s.map(I=>I||"");e&&e(T);const x=XS(T);(async()=>{try{if(!d||!d.userID){console.warn("No active participant in context; skipping personality save"),c("/DemographicForm/CognitiveLanding",{state:{personalityResponses:T}});return}const I=Zi(Fi,"participants",d.userID),j={userID:d.userID,personality:{big5:{openness:x.openness,conscientiousness:x.conscientiousness,extroversion:x.extroversion,agreeableness:x.agreeableness,neuroticism:x.neuroticism},responses:{},savedAt:Rn()}};T.forEach((D,O)=>{j.personality.responses[`q${O+1}`]=D}),await pa(I,j,{merge:!0})}catch(I){console.error("Failed to save personality results to participant_results:",I)}finally{c("/DemographicForm/CognitiveLanding",{state:{personalityResponses:T}})}})()}},m=()=>s.slice(n*10,(n+1)*10).filter(R=>R===null).length,N=yu.slice(0,ym);return u.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:u.jsxs("div",{className:"w-full max-w-xl p-8 md:p-12 shadow-md border border-muted bg-surface rounded-3xl",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center",children:"Személyiségteszt"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("p",{className:"text-base text-center mb-3",children:[n+1," / ",N.length]}),u.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${(n+1)/N.length*100}%`}})})]}),N[n].map((A,R)=>{const M=n*10+R,T=s[M]!==null;return u.jsxs("div",{id:`statement-${R}`,className:`mb-5 p-5 rounded-xl transition-all duration-200 ${!T&&l?"border-2 border-red-400":""}`,style:{background:"linear-gradient(135deg, rgba(37,99,235,0.04), rgba(255,255,255,1))"},children:[u.jsx("p",{className:"mb-4 text-base leading-relaxed",children:A}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"flex justify-between w-full mb-3",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Nem jellemző rám"}),u.jsx("span",{className:"text-sm font-semibold",children:"Jellemző rám"})]}),u.jsx("div",{className:"flex justify-between w-full max-w-xs md:max-w-md",children:[1,2,3,4,5].map(x=>u.jsxs("label",{className:"flex flex-col items-center cursor-pointer select-none",children:[u.jsx("span",{className:"text-sm text-gray-600 mb-1",children:x}),u.jsx("input",{type:"radio",name:`q-${M}`,value:x,checked:s[M]===x.toString(),onChange:()=>p(R,x.toString()),id:`statement-${R}-${x}`,className:"w-5 h-5 border-2 border-gray-300 rounded-full accent-accent"})]},x))})]})]},R)}),u.jsxs("div",{className:"flex flex-col items-center mt-8",children:[l&&u.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-md flex items-center",children:[u.jsxs("svg",{className:"h-5 w-5 text-red-600 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("path",{d:"M12 9v4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M12 17h.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),u.jsxs("span",{className:"text-sm font-medium",children:["Kérjük, válaszolj minden kérdésre (",m()," megválaszolatlan)"]})]}),u.jsx("button",{onClick:g,className:"w-full py-3 px-6 text-lg font-semibold text-white rounded-lg shadow bg-accent hover:opacity-95 transition transform",children:n===yu.length-1?"Beküld":"Következő"})]})]})})}function JS({assessmentId:t,personalityResponses:e,onComplete:n,isSubmittingFinal:r=!1}){const[s,i]=V.useState(1),[l,a]=V.useState(null),[c,d]=V.useState(60),[p,g]=V.useState(0),[m,N]=V.useState(!1),[A,R]=V.useState({});sa();const M=Oe(),T=at();V.useEffect(()=>{d(60);const D=setInterval(()=>{d(O=>O<=1?(clearInterval(D),I(null),60):O-1)},1e3);return()=>clearInterval(D)},[s]);const x=D=>{a(D+1)},I=D=>{const O=`q${s}`,E={...A,[O]:D===null?0:D};R(E),D!==null&&g(v=>v+1),a(null),d(60),s<10?i(v=>v+1):N(!0)},j=()=>{n&&n(A,p),(async()=>{try{if(!T||!T.userID){console.warn("No active participant; skipping IQ save"),M("/pretest");return}const D={q1:1,q2:2,q3:3,q4:5,q5:1,q6:6,q7:4,q8:3,q9:6,q10:3};let O=0;for(let k=1;k<=10;k++){const _=`q${k}`,w=A[_];w!=null&&w===D[_]&&O++}const E=Zi(Fi,"participants",T.userID),v={userID:T.userID,cognitive:{responses:{},score:O,savedAt:Rn()}};for(let k=1;k<=10;k++)v.cognitive.responses[`q${k}`]=A[`q${k}`]??null;await pa(E,v,{merge:!0})}catch(D){console.error("Failed to save IQ score",D)}finally{M("../..//InstructionsPage/InstructionsPage")}})()};if(m){const D=U.colors,O=U.shadows,E=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${D.bg} 0%, ${D.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:D.bg,borderRadius:E.xl,boxShadow:O.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${D.accent} 0%, ${D["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Radiológiai képértékelés"}),u.jsx("p",{className:"text-lg opacity-90",style:{color:"#ffffff"},children:"Most kezdődik a fő feladat"})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:D.surface,border:`1px solid ${D.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:"#10b981",color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:D.text},children:"A pszichológiai tesztek véget értek"}),u.jsx("p",{className:"leading-relaxed",style:{color:D.text,opacity:.8},children:"Köszönjük! A személyiség és kognitív tesztek elkészültek. Most következik a kutatás fő része: orvosi képek értékelése."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:D.surface,border:`1px solid ${D.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:D.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:D.text},children:"Mi következik?"}),u.jsxs("ul",{className:"space-y-3",style:{color:D.text},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:D.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Bevezető előadás (5 perc):"})," megtanulod, hogyan ismerd fel az artritiszt radiológiai képeken"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:D.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"3 rész (3x30 kép):"})," kipróbálhatod a feladatot visszajelzéssel"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:D.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:u.jsx("strong",{children:"Kísérlet vége"})})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-3",style:{color:"#92400e"},children:"Emlékeztető:"}),u.jsx("p",{className:"mb-3 font-semibold",style:{color:"#78350f"},children:"Az egész tesztet egyetlen ülésben, megszakítás nélkül kell elvégezni!"})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:j,disabled:r,className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg disabled:opacity-60 disabled:cursor-not-allowed",style:{backgroundColor:r?D.muted:D.accent,color:"#ffffff"},children:r?"Betöltés...":"Kezdés az előadással →"})})]})]})})}return u.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:u.jsxs("div",{className:"w-full max-w-3xl bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted relative",children:[u.jsxs("div",{className:"pb-6 flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:["Kérdés ",s," / 10"]}),u.jsx("p",{className:"text-lg text-text",children:"Válaszd ki azt a képet amelyik a legjobban beleillik a fenti képbe"})]}),u.jsxs("div",{className:"w-28 h-20 shrink-0 bg-muted p-3 rounded-xl shadow-sm mt-6 sm:mt-0",children:[u.jsx("h3",{className:"text-xs font-semibold text-center text-text mb-1",children:"Hátralévő idő"}),u.jsx("div",{className:"w-full bg-accent-2/10 rounded-full h-2 mb-1",children:u.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-100 ease-linear",style:{width:`${c/60*100}%`}})}),u.jsxs("p",{className:"text-sm font-medium text-center text-text",children:[c," mp"]})]})]}),u.jsxs("div",{className:"space-y-8 mt-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-full overflow-hidden rounded-xl shadow-lg border border-muted",children:u.jsx("img",{src:`/cognitivePics/${s}.png`,alt:`Question ${s}`,className:"w-full h-auto object-contain mx-auto",style:{maxHeight:"45vh"}})})}),u.jsx("div",{className:"grid grid-cols-3 gap-3 md:gap-4 w-full max-w-lg mx-auto",children:[1,2,3,4,5,6].map(D=>u.jsx("button",{onClick:()=>x(D-1),className:`rounded-xl shadow-md overflow-hidden relative transition-all duration-200 transform hover:scale-105 ${l===D?"ring-4 ring-accent border-2 border-white":"border-2 border-transparent"}`,children:u.jsxs("div",{className:"w-full pt-[60%] relative",children:[u.jsx("img",{src:`/cognitivePics/${s}.${D}.png`,alt:`Option ${D}`,className:"absolute inset-0 w-full h-full object-contain"}),l===D&&u.jsx("div",{className:"absolute inset-0 bg-accent opacity-20"})]})},D))}),u.jsx("button",{onClick:()=>I(l),disabled:l===null,className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",children:s<10?"Következő":"Mehet"})]})]})})}const ZS=()=>{const t=Oe(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=U.colors,r=U.shadows,s=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Személyiség kérdőív"}),u.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{children:"5 perc"})]}),u.jsx("div",{className:"opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{children:"44 kérdés"})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi következik?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rövid személyiségteszt, amely öt alapvető személyiségdimenziót mér. Nincsenek jó vagy rossz válaszok – csak az számít, hogy őszintén válaszolj."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Miért fontos ez a teszt?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutatás azt vizsgálja, hogy a személyiségbeli különbségek befolyásolják-e a tanulást és a teljesítményt orvosi képek értékelésében. Az eredmények segítenek megérteni, ki hogyan tanul és dolgozik mesterséges intelligencia segítségével."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:'Válaszolj őszintén – nincs elvárt vagy "helyes" válasz'})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Olvasd el figyelmesen a kérdéseket"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Az első válaszod általában a legjobb"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"A teszt ~5 percet vesz igénybe"})]})]})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:()=>t("/DemographicForm/Personality"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovább a teszthez →"})})]})]})})},eT=()=>{const t=Oe(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=U.colors,r=U.shadows,s=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Kognitív képességek teszt"}),u.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{children:"10 perc"})]}),u.jsx("div",{className:"opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{children:"10 kérdés"})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi következik?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rövid intelligenciatesztet fogsz kitölteni, amely logikai gondolkodást, mintafelismerést és problémamegoldást mér. Ne aggódj – a feladatok nehezednek, de senki sem oldja meg mindet."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Miért fontos ez a teszt?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutatás azt vizsgálja, hogy a kognitív képességek befolyásolják-e a tanulási sebességet és a teljesítményt a radiológiai feladatban. Az eredmények segítenek megérteni, hogyan lehet optimalizálni az AI-asszisztált képértékelést."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Dolgozz csendben, használj papírt és ceruzát számoláshoz"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Ne használj számológépet vagy internetet"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Nem baj, ha nem tudsz minden feladatot megoldani"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Koncentrálj, de ne stresszelj – add meg a legtöbbet, amire képes vagy"})]})]})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:()=>t("/DemographicForm/Cognitive"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovább a teszthez →"})})]})]})})};function tT(){var M,T,x;let t=null;const[e,n]=V.useState(0),[r,s]=V.useState(!1),[i,l]=V.useState(!1),a=Oe(),c=at(),d=I=>{t=I},p=()=>{const I=t;if(!I)return;const j=I.currentTime/Math.max(I.duration,1)*100;n(Math.floor(j))},g=()=>{s(!0),n(100)},m=()=>{if(!r)return;if(!(sessionStorage.getItem("studyUserID")||c&&c.userID)){a("/DemographicForm/Demographics");return}const D=c&&String(c.userID||"").startsWith("1")?"experimental":"control";a(`/baseline/${D}-landing`)},N=(M=U==null?void 0:U.colors)==null?void 0:M.accent,A=(T=U==null?void 0:U.colors)==null?void 0:T.muted,R=(x=U==null?void 0:U.colors)==null?void 0:x.surface;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",children:u.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:R},children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bevezető videó"}),u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"w-full",style:{maxWidth:1100},children:u.jsx("video",{ref:d,src:"/video.mp4",controls:!0,onTimeUpdate:p,onEnded:g,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[r&&u.jsxs("label",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:I=>l(I.target.checked),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Megnéztem a teljes videót és megértettem a feladatot"})]}),u.jsx("button",{disabled:!r||!i,onClick:m,"aria-disabled":!r||!i,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:r&&i?N:A},children:"Tovább a tesztre"})]})]})})}function Rc({onSelect:t,onClose:e}){const[n,r]=V.useState(null);return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-white rounded p-6 w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mennyire vagy biztos a döntésedben?"}),u.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[u.jsx("span",{children:"bizonytalan"}),u.jsx("span",{children:"biztos"})]}),u.jsx("div",{className:"flex justify-between items-center mb-4",children:[1,2,3,4,5,6,7].map(s=>u.jsx("button",{onClick:()=>r(s),className:`px-3 py-2 rounded border ${n===s?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:s},s))}),u.jsx("div",{className:"flex justify-end gap-2",children:u.jsx("button",{onClick:()=>n&&t(n),disabled:!n,className:`px-3 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Tovább"})})]})})}function nT({imageSrc:t,onComplete:e}){const[n,r]=V.useState(null),[s,i]=V.useState(!1),l=V.useRef(null);V.useEffect(()=>{l.current=Date.now(),r(null),i(!1)},[t]);const a=()=>{i(!0)},c=d=>{const p=Date.now(),g=l.current,m=g?(p-g)/1e3:0;i(!1),e({response:n,confidence:d,time_sec:m}),r(null),i(!1)};return u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"mb-4",children:u.jsx("img",{src:t,alt:"stim",className:"w-full h-72 object-contain rounded border"})}),u.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>r("igen"),className:`px-4 py-2 rounded border ${n==="igen"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"igen"}),u.jsx("button",{type:"button",onClick:()=>r("nem"),className:`px-4 py-2 rounded border ${n==="nem"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"nem"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{disabled:!n,onClick:a,className:`px-6 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Continue"})}),s&&u.jsx(Rc,{onSelect:c,onClose:()=>i(!1)})]})})}function rT({src:t,onChange:e,overlayBox:n,imgRef:r,enabled:s=!0}){const i=r||V.useRef(null),l=V.useRef(null),a=V.useRef(null),[c,d]=V.useState(!1),[p,g]=V.useState(null),[m,N]=V.useState(null),A=_=>{if(!_)return null;if(typeof _.clientX=="number"&&typeof _.clientY=="number")return{clientX:_.clientX,clientY:_.clientY};const w=_.touches&&_.touches[0]?_.touches[0]:_.changedTouches&&_.changedTouches[0]?_.changedTouches[0]:null;return w?{clientX:w.clientX,clientY:w.clientY}:null},R=(_,w)=>{const C=i.current;if(!C)return null;const S=C.getBoundingClientRect(),Z=Math.max(0,Math.min(S.width,_-S.left)),ye=Math.max(0,Math.min(S.height,w-S.top));return{x:Z,y:ye,rect:S}},M=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),S=w.naturalWidth/C.width,Z=w.naturalHeight/C.height;return{x:Math.round(_.x*S),y:Math.round(_.y*Z),width:Math.round(_.width*S),height:Math.round(_.height*Z)}},T=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),S=C.width/w.naturalWidth,Z=C.height/w.naturalHeight;return{x:_.x*S,y:_.y*Z,width:_.width*S,height:_.height*Z}},x=()=>{const _=i.current,w=l.current;if(!_||!w)return;const C=_.getBoundingClientRect();w.width=Math.round(C.width),w.height=Math.round(C.height),w.style.width=`${Math.round(C.width)}px`,w.style.height=`${Math.round(C.height)}px`;try{a&&a.current&&(a.current.style.width=`${Math.round(C.width)}px`,a.current.style.height=`${Math.round(C.height)}px`)}catch{}E()};V.useEffect(()=>(window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)),[]),V.useEffect(()=>{if(n){const _=T(n);N(_)}else N(null)},[n]);const I=_=>{if(!s)return;const w=A(_);if(!w)return;const C=R(w.clientX,w.clientY);C&&(g({x:C.x,y:C.y}),d(!0))},j=_=>{if(!s||!c||!p)return;const w=A(_);if(!w)return;const C=R(w.clientX,w.clientY);if(!C)return;const S=Math.min(p.x,C.x),Z=Math.min(p.y,C.y),ye=Math.abs(C.x-p.x),fe=Math.abs(C.y-p.y);N({x:S,y:Z,width:ye,height:fe}),E()},D=_=>{if(!m){d(!1),g(null);return}try{_&&_.preventDefault&&_.preventDefault()}catch{}const w=M(m);e(w),d(!1),g(null)},O=()=>{N(null),e(null),E()},E=()=>{const _=l.current;if(!_)return;const w=_.getContext("2d");w&&(w.clearRect(0,0,_.width,_.height),m&&(w.strokeStyle="rgba(16,185,129,0.95)",w.lineWidth=2,w.setLineDash([6,4]),w.strokeRect(m.x,m.y,m.width,m.height),w.fillStyle="rgba(16,185,129,0.12)",w.fillRect(m.x,m.y,m.width,m.height)))},v=_=>{if(!m)return;const w=R(_.clientX,_.clientY);if(!w)return;const C=m.x+m.width-10,S=m.y+10,Z=w.x-C,ye=w.y-S;Z*Z+ye*ye<=10*10&&O()};return V.useEffect(()=>{const _=i.current;if(!_)return;const w=()=>{x()};try{_.addEventListener&&_.addEventListener("load",w)}catch{}x();const C=l.current,S=fe=>{fe.preventDefault&&fe.preventDefault(),j(fe)},Z=fe=>{fe.preventDefault&&fe.preventDefault(),I(fe)},ye=fe=>{fe.preventDefault&&fe.preventDefault(),D(fe)};try{C&&C.addEventListener&&(C.addEventListener("touchstart",Z,{passive:!1}),C.addEventListener("touchmove",S,{passive:!1}),C.addEventListener("touchend",ye,{passive:!1}),C.addEventListener("touchcancel",ye,{passive:!1}))}catch{}return()=>{try{_.removeEventListener&&_.removeEventListener("load",w),C&&C.removeEventListener&&(C.removeEventListener("touchstart",Z),C.removeEventListener("touchmove",S),C.removeEventListener("touchend",ye),C.removeEventListener("touchcancel",ye))}catch{}}},[t]),V.useEffect(()=>{E()},[m,n]),!r?u.jsxs("div",{className:"w-full",ref:a,children:[u.jsxs("div",{className:"relative w-full border rounded-md overflow-hidden",style:{height:"18rem"},children:[u.jsx("img",{ref:i,src:t,alt:"annotation",className:"w-full h-full object-contain block",draggable:!1}),u.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:D,onClick:v,style:{position:"absolute",left:0,top:0,pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}})]}),u.jsx("div",{className:"mt-2 flex gap-2",children:u.jsx("button",{className:"px-3 py-1 bg-gray-100 rounded",onClick:O,children:"Clear box"})})]}):u.jsxs("div",{ref:a,style:{position:"absolute",inset:0,pointerEvents:"none"},children:[u.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:D,onClick:v,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}}),m&&u.jsx("button",{onClick:O,style:{position:"absolute",left:m.x+m.width-12,top:m.y-12,width:24,height:24,borderRadius:12,background:"white",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",cursor:"pointer"},title:"Clear box",children:"×"})]})}function sT({imageSrc:t,userBox:e,aiBox:n,aiPrediction:r,aiConfidence:s,iouPercent:i,initialDecision:l,onRevise:a,onContinue:c}){const[d,p]=V.useState(l??r),g=V.useRef(null),m=V.useRef(null);return V.useEffect(()=>{const N=g.current,A=m.current;if(!N||!A)return;const R=A.getContext("2d");if(!R)return;const M=()=>{A.width=N.clientWidth,A.height=N.clientHeight,R.clearRect(0,0,A.width,A.height);const x=(I,j,D)=>{if(!I)return;const O=N.naturalWidth,E=N.naturalHeight,v=N.clientWidth/O,k=N.clientHeight/E,_=I.x*v,w=I.y*k,C=I.width*v,S=I.height*k;R.strokeStyle=j,R.lineWidth=2,R.strokeRect(_,w,C,S),R.fillStyle=j,R.font="12px sans-serif",R.fillText(D,_+4,w+12)};x(n,"rgba(220,20,60,0.9)","AI"),x(e,"rgba(30,144,255,0.9)","You")};N.complete&&M();const T=()=>M();return window.addEventListener("resize",M),N.addEventListener("load",T),()=>{window.removeEventListener("resize",M),N.removeEventListener("load",T)}},[t,e,n]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-white rounded p-4 max-w-3xl w-full",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI eredmény"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"w-2/3",children:[u.jsxs("div",{className:"relative border rounded",children:[u.jsx("img",{ref:g,src:t,alt:"stim",className:"w-full h-72 object-contain"}),u.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-none"})]}),u.jsxs("p",{className:"mt-2 text-sm",children:["DoBoV overlap: ",u.jsxs("strong",{children:[Math.round(i),"%"]})]})]}),u.jsxs("div",{className:"w-1/3",children:[u.jsxs("p",{className:"mb-2",children:["AI predikció: ",u.jsx("strong",{children:r})]}),u.jsxs("p",{className:"mb-2",children:["AI biztonság: ",u.jsxs("strong",{children:[Math.round(s*100),"%"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-1",children:"Javítsd a döntésed (ha szükséges):"}),u.jsxs("select",{className:"w-full p-2 border rounded",value:d,onChange:N=>p(N.target.value),children:[u.jsx("option",{value:"yes",children:"Igen"}),u.jsx("option",{value:"no",children:"Nem"})]})]}),u.jsx("div",{className:"flex justify-end gap-2",children:u.jsx("button",{onClick:()=>{a(d),c()},className:"px-3 py-2 rounded bg-accent text-white",children:"Mehet"})})]})]})]})})}function vm(t,e){const n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),s=Math.min(t.x+t.width,e.x+e.width),i=Math.min(t.y+t.height,e.y+e.height),l=Math.max(0,s-n)*Math.max(0,i-r),a=t.width*t.height,c=e.width*e.height,d=a+c-l;return d<=0?0:l/d}function iT({imageSrc:t,onComplete:e,aiPrediction:n,aiBox:r,aiConfidence:s}){const[i,l]=V.useState(null),[a,c]=V.useState(null),[d,p]=V.useState(null),[g,m]=V.useState(!1),[N,A]=V.useState(!1),[R,M]=V.useState(!1),[T,x]=V.useState(!1),I=V.useRef(null),[j,D]=V.useState(null),[O,E]=V.useState(null),[v,k]=V.useState(null);V.useEffect(()=>{I.current=Date.now(),l(null),c(null),p(null),m(!1),A(!1),M(!1),x(!1),D(null),E(null),k(null)},[t]);const _=a==="tünet"||a==="bizonytalan",w=!!a&&(a==="nincsen tünet"||a==="bizonytalan"||a==="tünet"&&!!d),C=w&&!!i,S=()=>m(G=>!G),Z=()=>{M(!0)},ye=G=>{D(G)},fe=()=>{A(!1),x(!0)},Jn=G=>{E(G),M(!1),A(!0)},$=G=>{k(G),x(!1);const se=Date.now(),ve=I.current?(se-I.current)/1e3:0,en=j||i,ut=d&&r?vm(d,r):null;e({initial_decision:i,dropdown_choice:a,user_box:d,ai_box:r,ai_prediction:n,ai_confidence:s,bbox_iou:ut,decision_revised_after_ai:!!j,final_decision:en,initial_confidence:O,post_ai_confidence:G,time_sec:ve})},Q=V.useRef(null);return u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative border rounded-md overflow-hidden",style:{height:"18rem"},children:[u.jsx("img",{ref:Q,src:t,alt:"stim",className:"w-full h-full object-contain block",draggable:!1}),u.jsx("div",{className:"absolute left-4 top-4 bg-white/60 px-2 py-1 rounded text-sm",children:"baseline (AI)"}),u.jsx(rT,{imgRef:Q,onChange:G=>{p(G)},overlayBox:d,enabled:g&&_})]})}),u.jsxs("div",{className:"flex justify-center mb-4",children:[u.jsxs("select",{value:a||"",onChange:G=>{const se=G.target.value;c(se),m(se==="tünet")},className:"p-2 border rounded",children:[u.jsx("option",{value:"",children:"Válassz opciót"}),u.jsx("option",{value:"tünet",children:"tünet"}),u.jsx("option",{value:"bizonytalan",children:"bizonytalan"}),u.jsx("option",{value:"nincsen tünet",children:"nincsen tünet"})]}),u.jsx("button",{onClick:S,disabled:!_,className:`ml-2 px-3 py-2 rounded ${g?"bg-green-500 text-white":"bg-gray-100"} disabled:opacity-50`,children:"Rajzolás"})]}),u.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[u.jsx("button",{onClick:()=>w&&l("yes"),disabled:!w,className:`px-4 py-2 rounded border ${i==="yes"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"igen"}),u.jsx("button",{onClick:()=>w&&l("no"),disabled:!w,className:`px-4 py-2 rounded border ${i==="no"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"nem"})]}),u.jsx("div",{className:"mb-4"}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{disabled:!C,onClick:Z,className:`px-6 py-2 rounded ${C?"bg-accent text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Következő"})}),N&&u.jsx(sT,{imageSrc:t,userBox:d,aiBox:r,aiPrediction:n,aiConfidence:s,iouPercent:d&&r?vm(d,r)*100:0,initialDecision:i,onRevise:ye,onContinue:fe}),R&&u.jsx(Rc,{onSelect:Jn,onClose:()=>M(!1)}),T&&u.jsx(Rc,{onSelect:$,onClose:()=>x(!1)})]})})}function Zt({phase:t,mode:e,poolFolder:n,trialsCount:r=10,onFinish:s}){const i=at(),l=By(),a=Oe(),[c,d]=V.useState(0),[p,g]=V.useState([]),m=t||l.phase||"baseline",N=n||m;V.useEffect(()=>{const I=[];for(let j=1;j<=r;j++)I.push(`/annotation/${N}/${j}.png`);g(I)},[N,r]);const A=e||(()=>{if(!i||!i.treatmentGroup||m==="baseline"||m==="screening")return"noai";const I=String(i.treatmentGroup||"");return I==="treatment"||I==="1"||I.startsWith("1")?"ai":"noai"})(),R=p[c%p.length],M=async I=>{if(!i||!i.userID){console.warn("No userID, skipping save");return}const j={userID:i.userID,participantID:i.userID,phase:m,trialNum:c+1,trialType:m,trialIndex:c+1,imageID:R,timestamp:Rn(),treatmentGroup:i.treatmentGroup,...I};try{await bS(ES(Fi,"trials"),j);const D={userID:i.userID,sessionActive:!0,currentPhase:m,lastTrialAt:Rn(),[`${m}_trial_${c+1}`]:{image:R,trialType:m,trialIndex:c+1,...I,savedAt:Rn()},trials_map:{[`${m}_${c+1}`]:{image:R,trialType:m,trialIndex:c+1,...I,savedAt:Rn()}}};await pa(Zi(Fi,"participants",i.userID),D,{merge:!0})}catch(D){console.error("Failed to save trial",D)}},T=async I=>{if(await M(I),c+1>=r)if(s)s();else{const j=["baseline","experiment","posttest","done"],D=j.indexOf(m),O=D>=0&&D<j.length-1?j[D+1]:"done";if(O==="done")a("/done");else{const E=i&&String(i.userID||"").startsWith("1")?"experimental":"control";a(`/${O}/${E}-landing`)}}else d(c+1)},x={aiPrediction:"yes",aiBox:{x:120,y:80,width:200,height:150},aiConfidence:.72};return u.jsx("div",{className:"min-h-screen p-6 bg-bg",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("h2",{className:"text-xl font-bold mb-4",children:[m," (",A==="ai"?"AI":"No AI",")"]}),A==="noai"?u.jsx(nT,{imageSrc:R,onComplete:T},`trial-${c}`):u.jsx(iT,{imageSrc:R,onComplete:T,aiPrediction:x.aiPrediction,aiBox:x.aiBox,aiConfidence:x.aiConfidence},`trial-${c}`)]})})}function oT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test control (id starting with 0)"}),u.jsx("p",{className:"mb-6",children:"This is the landing page for control participants (userID starts with 0). Press start to begin the pre-test."}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/pretest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (control)"})})]})})}function lT(){return u.jsx(Zt,{phase:"pretest",mode:"noai",poolFolder:"screening",trialsCount:5})}function aT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test experimental (id starting with 1)"}),u.jsx("p",{className:"mb-6",children:"This is the landing page for experimental participants (userID starts with 1). Press start to begin the pre-test."}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/pretest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (experimental)"})})]})})}function uT(){return u.jsx(Zt,{phase:"pretest",mode:"ai",poolFolder:"screening",trialsCount:5})}function cT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Első feladat feladat 1/3"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-base mb-6",style:{color:U.colors.text},children:"Most 5 képet fogsz értékelni."}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"⚠️ Fontos:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Gondold át figyelmesen minden döntésedet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/baseline/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function hT(){return u.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function dT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Első feladat feladat 1/3"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-base mb-6",style:{color:U.colors.text},children:"Most 5 képet fogsz értékelni."}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"⚠️ Fontos:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Gondold át figyelmesen minden döntésedet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/baseline/experimental"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function fT(){return u.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function pT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"2. szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Jó munkát végeztél!",u.jsx("br",{}),"Most következik a második értékelési szakasz, összesen háromból. Ugyanazt a feladatot fogod végezni: artritisz felismerése és jelölése a képeken."]}),u.jsxs("div",{className:"mb-6 p-4 rounded-md",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 text-left",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 5 radiológiai képet"}),u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Dolgozz a saját tempódban"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/experiment/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function mT(){return u.jsx(Zt,{phase:"experiment",mode:"noai",poolFolder:"experiment",trialsCount:5})}function gT(){var m,N,A;const[t,e]=V.useState(!1),[n,r]=V.useState(!1),s=Oe(),i=at();V.useEffect(()=>{const R=sessionStorage.getItem("studyUserID")||i&&i.userID;console.debug("ExperimentExperimentalLanding effect, session uid=",sessionStorage.getItem("studyUserID"),"app.userID=",i&&i.userID),i&&(R||(console.warn("No user id found in app or sessionStorage — redirecting to demographics"),s("/DemographicForm/Demographics")))},[i,s]);const l=R=>{},a=()=>{e(!0)},c=()=>{s("/experiment/experimental")},d=(m=U==null?void 0:U.colors)==null?void 0:m.accent,p=(N=U==null?void 0:U.colors)==null?void 0:N.muted,g=(A=U==null?void 0:U.colors)==null?void 0:A.surface;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:g},children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment experimental (id starting with 1)"}),u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"w-full",style:{maxWidth:1100},children:u.jsx("div",{className:"mb-6 rounded-md overflow-hidden",style:{boxShadow:U.shadows.md,backgroundColor:"#000"},children:u.jsx("video",{ref:l,src:"/video.mp4",controls:!0,onEnded:a,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[t&&u.jsxs("label",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:n,onChange:R=>r(R.target.checked),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Megnéztem a videót"})]}),u.jsx("button",{onClick:c,disabled:!(t&&n),"aria-disabled":!(t&&n),className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:t&&n?d:p},children:"Kezdés →"}),u.jsxs("div",{className:"w-full max-w-2xl mt-6 text-left bg-white border p-3 rounded",style:{borderColor:p},children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Debug / session info"}),u.jsxs("p",{className:"text-sm",children:["sessionStorage.studyUserID:"," ",u.jsx("code",{children:sessionStorage.getItem("studyUserID")||"null"})]}),u.jsxs("p",{className:"text-sm",children:["app.userID: ",u.jsx("code",{children:i&&i.userID||"null"})]}),u.jsxs("p",{className:"text-sm",children:["app.treatmentGroup: ",u.jsx("code",{children:i&&i.treatmentGroup||"null"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("button",{onClick:()=>s("/experiment/experimental"),className:"px-3 py-1 bg-gray-200 rounded mr-2",children:"Continue anyway"}),u.jsx("button",{onClick:()=>{sessionStorage.removeItem("studyUserID"),s("/DemographicForm/Demographics")},className:"px-3 py-1 bg-red-100 rounded",children:"Clear session and restart"})]})]})]})]})})}function yT(){return u.jsx(Zt,{phase:"experiment",mode:"ai",poolFolder:"experiment",trialsCount:5})}function vT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Utolsó szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"30 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Szép munka, majdnem kész vagy!",u.jsx("br",{}),"Ez az utolsó értékelési szakasz. Még 30 képet kell értékelned, ugyanazzal a módszerrel, mint eddig."]}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 30 radiológiai képet"}),u.jsx("li",{children:"Döntsd el: van-e artritisz"}),u.jsx("li",{children:"Jelöld meg a gyanús területet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/posttest/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function _T(){return u.jsx(Zt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function xT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"3. szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"30 kép | Utolsó kör"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Utolsó szakasz!",u.jsx("br",{}),"A harmadik és egyben utolsó értékelési szakaszban visszatérünk az eredeti feladathoz: most ismét önállóan, AI segítség nélkül fogod értékelni a képeket."]}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 30 radiológiai képet"}),u.jsx("li",{children:"Döntsd el önállóan: van-e artritisz"}),u.jsx("li",{children:"Jelöld meg a gyanús területet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/posttest/experimental"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function wT(){return u.jsx(Zt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function ET(){const t=By(),e=Oe();return V.useEffect(()=>{const n=t.rest||"";e(`/posttest/${n}`,{replace:!0})},[t,e]),null}function kT(){return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Köszönjük!"}),u.jsx("p",{className:"mb-6",children:"A kísérlet befejeződött. Köszönjük a részvételt!"})]})})}function ST(){return u.jsxs(nw,{children:[u.jsx(ie,{path:"/",element:u.jsx(uw,{})}),u.jsx(ie,{path:"/DemographicForm/Demographics",element:u.jsx(OS,{})}),u.jsx(ie,{path:"/DemographicForm/PersonalityLanding",element:u.jsx(ZS,{})}),u.jsx(ie,{path:"/DemographicForm/Personality",element:u.jsx(YS,{})}),u.jsx(ie,{path:"/test/baseline",element:u.jsx(Zt,{phase:"baseline",mode:"noai",poolFolder:"baseline"})}),u.jsx(ie,{path:"/test/:phase",element:u.jsx(Zt,{phase:void 0,mode:"noai",poolFolder:"baseline"})}),u.jsx(ie,{path:"/pretest",element:u.jsx(ew,{to:"/baseline/control-landing",replace:!0})}),u.jsx(ie,{path:"/pretest/control-landing",element:u.jsx(oT,{})}),u.jsx(ie,{path:"/pretest/control",element:u.jsx(lT,{})}),u.jsx(ie,{path:"/pretest/experimental-landing",element:u.jsx(aT,{})}),u.jsx(ie,{path:"/pretest/experimental",element:u.jsx(uT,{})}),u.jsx(ie,{path:"/baseline/control-landing",element:u.jsx(cT,{})}),u.jsx(ie,{path:"/baseline/control",element:u.jsx(hT,{})}),u.jsx(ie,{path:"/baseline/experimental-landing",element:u.jsx(dT,{})}),u.jsx(ie,{path:"/baseline/experimental",element:u.jsx(fT,{})}),u.jsx(ie,{path:"/experiment/control-landing",element:u.jsx(pT,{})}),u.jsx(ie,{path:"/experiment/control",element:u.jsx(mT,{})}),u.jsx(ie,{path:"/experiment/experimental-landing",element:u.jsx(gT,{})}),u.jsx(ie,{path:"/experiment/experimental",element:u.jsx(yT,{})}),u.jsx(ie,{path:"/posttest/control-landing",element:u.jsx(vT,{})}),u.jsx(ie,{path:"/posttest/control",element:u.jsx(_T,{})}),u.jsx(ie,{path:"/posttest/experimental-landing",element:u.jsx(xT,{})}),u.jsx(ie,{path:"/posttest/experimental",element:u.jsx(wT,{})}),u.jsx(ie,{path:"/post_experiment/:rest",element:u.jsx(ET,{})}),u.jsx(ie,{path:"/done",element:u.jsx(kT,{})}),u.jsx(ie,{path:"/DemographicForm/CognitiveLanding",element:u.jsx(eT,{})}),u.jsx(ie,{path:"/DemographicForm/Cognitive",element:u.jsx(JS,{})}),u.jsx(ie,{path:"/InstructionsPage/InstructionsPage",element:u.jsx(tT,{})})]})}const TT=jy(document.getElementById("root"));TT.render(u.jsx(V.StrictMode,{children:u.jsx(sw,{children:u.jsx(zS,{children:u.jsx(ST,{})})})}));
