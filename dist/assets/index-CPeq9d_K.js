function V0(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function M0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vm={exports:{}},Ll={},_m={exports:{}},Z={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fi=Symbol.for("react.element"),z0=Symbol.for("react.portal"),L0=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),F0=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),B0=Symbol.for("react.context"),$0=Symbol.for("react.forward_ref"),H0=Symbol.for("react.suspense"),W0=Symbol.for("react.memo"),K0=Symbol.for("react.lazy"),ef=Symbol.iterator;function G0(t){return t===null||typeof t!="object"?null:(t=ef&&t[ef]||t["@@iterator"],typeof t=="function"?t:null)}var xm={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wm=Object.assign,Em={};function ms(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||xm}ms.prototype.isReactComponent={};ms.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ms.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function km(){}km.prototype=ms.prototype;function Pc(t,e,n){this.props=t,this.context=e,this.refs=Em,this.updater=n||xm}var jc=Pc.prototype=new km;jc.constructor=Pc;wm(jc,ms.prototype);jc.isPureReactComponent=!0;var tf=Array.isArray,Sm=Object.prototype.hasOwnProperty,Dc={current:null},Tm={key:!0,ref:!0,__self:!0,__source:!0};function Im(t,e,n){var r,s={},i=null,l=null;if(e!=null)for(r in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(i=""+e.key),e)Sm.call(e,r)&&!Tm.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Fi,type:t,key:i,ref:l,props:s,_owner:Dc.current}}function Q0(t,e){return{$$typeof:Fi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function bc(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fi}function q0(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var nf=/\/+/g;function Va(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q0(""+t.key):e.toString(36)}function bo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Fi:case z0:l=!0}}if(l)return l=t,s=s(l),t=r===""?"."+Va(l,0):r,tf(s)?(n="",t!=null&&(n=t.replace(nf,"$&/")+"/"),bo(s,e,n,"",function(d){return d})):s!=null&&(bc(s)&&(s=Q0(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(nf,"$&/")+"/")+t)),e.push(s)),1;if(l=0,r=r===""?".":r+":",tf(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Va(i,a);l+=bo(i,e,n,c,s)}else if(c=G0(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Va(i,a++),l+=bo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function co(t,e,n){if(t==null)return t;var r=[],s=0;return bo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function X0(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ot={current:null},Vo={transition:null},Y0={ReactCurrentDispatcher:ot,ReactCurrentBatchConfig:Vo,ReactCurrentOwner:Dc};Z.Children={map:co,forEach:function(t,e,n){co(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return co(t,function(){e++}),e},toArray:function(t){return co(t,function(e){return e})||[]},only:function(t){if(!bc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Z.Component=ms;Z.Fragment=L0;Z.Profiler=F0;Z.PureComponent=Pc;Z.StrictMode=O0;Z.Suspense=H0;Z.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y0;Z.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=wm({},t.props),s=t.key,i=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,l=Dc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)Sm.call(e,c)&&!Tm.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Fi,type:t.type,key:s,ref:i,props:r,_owner:l}};Z.createContext=function(t){return t={$$typeof:B0,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:U0,_context:t},t.Consumer=t};Z.createElement=Im;Z.createFactory=function(t){var e=Im.bind(null,t);return e.type=t,e};Z.createRef=function(){return{current:null}};Z.forwardRef=function(t){return{$$typeof:$0,render:t}};Z.isValidElement=bc;Z.lazy=function(t){return{$$typeof:K0,_payload:{_status:-1,_result:t},_init:X0}};Z.memo=function(t,e){return{$$typeof:W0,type:t,compare:e===void 0?null:e}};Z.startTransition=function(t){var e=Vo.transition;Vo.transition={};try{t()}finally{Vo.transition=e}};Z.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Z.useCallback=function(t,e){return ot.current.useCallback(t,e)};Z.useContext=function(t){return ot.current.useContext(t)};Z.useDebugValue=function(){};Z.useDeferredValue=function(t){return ot.current.useDeferredValue(t)};Z.useEffect=function(t,e){return ot.current.useEffect(t,e)};Z.useId=function(){return ot.current.useId()};Z.useImperativeHandle=function(t,e,n){return ot.current.useImperativeHandle(t,e,n)};Z.useInsertionEffect=function(t,e){return ot.current.useInsertionEffect(t,e)};Z.useLayoutEffect=function(t,e){return ot.current.useLayoutEffect(t,e)};Z.useMemo=function(t,e){return ot.current.useMemo(t,e)};Z.useReducer=function(t,e,n){return ot.current.useReducer(t,e,n)};Z.useRef=function(t){return ot.current.useRef(t)};Z.useState=function(t){return ot.current.useState(t)};Z.useSyncExternalStore=function(t,e,n){return ot.current.useSyncExternalStore(t,e,n)};Z.useTransition=function(){return ot.current.useTransition()};Z.version="18.2.0";_m.exports=Z;var V=_m.exports;const J0=M0(V),Z0=V0({__proto__:null,default:J0},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e1=V,t1=Symbol.for("react.element"),n1=Symbol.for("react.fragment"),r1=Object.prototype.hasOwnProperty,s1=e1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i1={key:!0,ref:!0,__self:!0,__source:!0};function Cm(t,e,n){var r,s={},i=null,l=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(l=e.ref);for(r in e)r1.call(e,r)&&!i1.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:t1,type:t,key:i,ref:l,props:s,_owner:s1.current}}Ll.Fragment=n1;Ll.jsx=Cm;Ll.jsxs=Cm;vm.exports=Ll;var u=vm.exports,Nm={exports:{}},Et={},Am={exports:{}},Rm={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,Q){var K=$.length;$.push(Q);e:for(;0<K;){var re=K-1>>>1,ve=$[re];if(0<s(ve,Q))$[re]=Q,$[K]=ve,K=re;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var Q=$[0],K=$.pop();if(K!==Q){$[0]=K;e:for(var re=0,ve=$.length,en=ve>>>1;re<en;){var ut=2*(re+1)-1,tn=$[ut],Rt=ut+1,yn=$[Rt];if(0>s(tn,K))Rt<ve&&0>s(yn,tn)?($[re]=yn,$[Rt]=K,re=Rt):($[re]=tn,$[ut]=K,re=ut);else if(Rt<ve&&0>s(yn,K))$[re]=yn,$[Rt]=K,re=Rt;else break e}}return Q}function s($,Q){var K=$.sortIndex-Q.sortIndex;return K!==0?K:$.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,a=l.now();t.unstable_now=function(){return l.now()-a}}var c=[],d=[],p=1,g=null,m=3,N=!1,A=!1,R=!1,M=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I($){for(var Q=n(d);Q!==null;){if(Q.callback===null)r(d);else if(Q.startTime<=$)r(d),Q.sortIndex=Q.expirationTime,e(c,Q);else break;Q=n(d)}}function j($){if(R=!1,I($),!A)if(n(c)!==null)A=!0,ie(b);else{var Q=n(d);Q!==null&&Zt(j,Q.startTime-$)}}function b($,Q){A=!1,R&&(R=!1,T(v),v=-1),N=!0;var K=m;try{for(I(Q),g=n(c);g!==null&&(!(g.expirationTime>Q)||$&&!w());){var re=g.callback;if(typeof re=="function"){g.callback=null,m=g.priorityLevel;var ve=re(g.expirationTime<=Q);Q=t.unstable_now(),typeof ve=="function"?g.callback=ve:g===n(c)&&r(c),I(Q)}else r(c);g=n(c)}if(g!==null)var en=!0;else{var ut=n(d);ut!==null&&Zt(j,ut.startTime-Q),en=!1}return en}finally{g=null,m=K,N=!1}}var L=!1,E=null,v=-1,S=5,_=-1;function w(){return!(t.unstable_now()-_<S)}function C(){if(E!==null){var $=t.unstable_now();_=$;var Q=!0;try{Q=E(!0,$)}finally{Q?k():(L=!1,E=null)}}else L=!1}var k;if(typeof x=="function")k=function(){x(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,ae=q.port2;q.port1.onmessage=C,k=function(){ae.postMessage(null)}}else k=function(){M(C,0)};function ie($){E=$,L||(L=!0,k())}function Zt($,Q){v=M(function(){$(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){A||N||(A=!0,ie(b))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function($){switch(m){case 1:case 2:case 3:var Q=3;break;default:Q=m}var K=m;m=Q;try{return $()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,Q){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var K=m;m=$;try{return Q()}finally{m=K}},t.unstable_scheduleCallback=function($,Q,K){var re=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?re+K:re):K=re,$){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=K+ve,$={id:p++,callback:Q,priorityLevel:$,startTime:K,expirationTime:ve,sortIndex:-1},K>re?($.sortIndex=K,e(d,$),n(c)===null&&$===n(d)&&(R?(T(v),v=-1):R=!0,Zt(j,K-re))):($.sortIndex=ve,e(c,$),A||N||(A=!0,ie(b))),$},t.unstable_shouldYield=w,t.unstable_wrapCallback=function($){var Q=m;return function(){var K=m;m=Q;try{return $.apply(this,arguments)}finally{m=K}}}})(Rm);Am.exports=Rm;var o1=Am.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pm=V,wt=o1;function F(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jm=new Set,fi={};function Sr(t,e){ns(t,e),ns(t+"Capture",e)}function ns(t,e){for(fi[t]=e,t=0;t<e.length;t++)jm.add(e[t])}var hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yu=Object.prototype.hasOwnProperty,l1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,rf={},sf={};function a1(t){return yu.call(sf,t)?!0:yu.call(rf,t)?!1:l1.test(t)?sf[t]=!0:(rf[t]=!0,!1)}function u1(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function c1(t,e,n,r){if(e===null||typeof e>"u"||u1(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function lt(t,e,n,r,s,i,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=l}var Ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ke[t]=new lt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ke[e]=new lt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ke[t]=new lt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ke[t]=new lt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ke[t]=new lt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ke[t]=new lt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ke[t]=new lt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ke[t]=new lt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ke[t]=new lt(t,5,!1,t.toLowerCase(),null,!1,!1)});var Vc=/[\-:]([a-z])/g;function Mc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ke[e]=new lt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Vc,Mc);Ke[e]=new lt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Vc,Mc);Ke[e]=new lt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ke[t]=new lt(t,1,!1,t.toLowerCase(),null,!1,!1)});Ke.xlinkHref=new lt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ke[t]=new lt(t,1,!1,t.toLowerCase(),null,!0,!0)});function zc(t,e,n,r){var s=Ke.hasOwnProperty(e)?Ke[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(c1(e,n,s,r)&&(n=null),r||s===null?a1(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gn=Pm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ho=Symbol.for("react.element"),Vr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),Lc=Symbol.for("react.strict_mode"),vu=Symbol.for("react.profiler"),Dm=Symbol.for("react.provider"),bm=Symbol.for("react.context"),Oc=Symbol.for("react.forward_ref"),_u=Symbol.for("react.suspense"),xu=Symbol.for("react.suspense_list"),Fc=Symbol.for("react.memo"),Tn=Symbol.for("react.lazy"),Vm=Symbol.for("react.offscreen"),of=Symbol.iterator;function Ls(t){return t===null||typeof t!="object"?null:(t=of&&t[of]||t["@@iterator"],typeof t=="function"?t:null)}var we=Object.assign,Ma;function Gs(t){if(Ma===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ma=e&&e[1]||""}return`
`+Ma+t}var za=!1;function La(t,e){if(!t||za)return"";za=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),l=s.length-1,a=i.length-1;1<=l&&0<=a&&s[l]!==i[a];)a--;for(;1<=l&&0<=a;l--,a--)if(s[l]!==i[a]){if(l!==1||a!==1)do if(l--,a--,0>a||s[l]!==i[a]){var c=`
`+s[l].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=l&&0<=a);break}}}finally{za=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gs(t):""}function h1(t){switch(t.tag){case 5:return Gs(t.type);case 16:return Gs("Lazy");case 13:return Gs("Suspense");case 19:return Gs("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function wu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Vr:return"Portal";case vu:return"Profiler";case Lc:return"StrictMode";case _u:return"Suspense";case xu:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bm:return(t.displayName||"Context")+".Consumer";case Dm:return(t._context.displayName||"Context")+".Provider";case Oc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Fc:return e=t.displayName||null,e!==null?e:wu(t.type)||"Memo";case Tn:e=t._payload,t=t._init;try{return wu(t(e))}catch{}}return null}function d1(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wu(e);case 8:return e===Lc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Mm(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function f1(t){var e=Mm(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,i.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fo(t){t._valueTracker||(t._valueTracker=f1(t))}function zm(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Mm(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Yo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Eu(t,e){var n=e.checked;return we({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Bn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lm(t,e){e=e.checked,e!=null&&zc(t,"checked",e,!1)}function ku(t,e){Lm(t,e);var n=Bn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Su(t,e.type,n):e.hasOwnProperty("defaultValue")&&Su(t,e.type,Bn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function af(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Su(t,e,n){(e!=="number"||Yo(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qs=Array.isArray;function Gr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Bn(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Tu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(F(91));return we({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function uf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(F(92));if(Qs(n)){if(1<n.length)throw Error(F(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Bn(n)}}function Om(t,e){var n=Bn(e.value),r=Bn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function cf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fm(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Iu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fm(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var po,Um=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(po=po||document.createElement("div"),po.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=po.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function pi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},p1=["Webkit","ms","Moz","O"];Object.keys(Js).forEach(function(t){p1.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Js[e]=Js[t]})});function Bm(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Js.hasOwnProperty(t)&&Js[t]?(""+e).trim():e+"px"}function $m(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Bm(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var m1=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cu(t,e){if(e){if(m1[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(F(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(F(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(F(61))}if(e.style!=null&&typeof e.style!="object")throw Error(F(62))}}function Nu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Au=null;function Uc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ru=null,Qr=null,qr=null;function hf(t){if(t=$i(t)){if(typeof Ru!="function")throw Error(F(280));var e=t.stateNode;e&&(e=$l(e),Ru(t.stateNode,t.type,e))}}function Hm(t){Qr?qr?qr.push(t):qr=[t]:Qr=t}function Wm(){if(Qr){var t=Qr,e=qr;if(qr=Qr=null,hf(t),e)for(t=0;t<e.length;t++)hf(e[t])}}function Km(t,e){return t(e)}function Gm(){}var Oa=!1;function Qm(t,e,n){if(Oa)return t(e,n);Oa=!0;try{return Km(t,e,n)}finally{Oa=!1,(Qr!==null||qr!==null)&&(Gm(),Wm())}}function mi(t,e){var n=t.stateNode;if(n===null)return null;var r=$l(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(F(231,e,typeof n));return n}var Pu=!1;if(hn)try{var Os={};Object.defineProperty(Os,"passive",{get:function(){Pu=!0}}),window.addEventListener("test",Os,Os),window.removeEventListener("test",Os,Os)}catch{Pu=!1}function g1(t,e,n,r,s,i,l,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(p){this.onError(p)}}var Zs=!1,Jo=null,Zo=!1,ju=null,y1={onError:function(t){Zs=!0,Jo=t}};function v1(t,e,n,r,s,i,l,a,c){Zs=!1,Jo=null,g1.apply(y1,arguments)}function _1(t,e,n,r,s,i,l,a,c){if(v1.apply(this,arguments),Zs){if(Zs){var d=Jo;Zs=!1,Jo=null}else throw Error(F(198));Zo||(Zo=!0,ju=d)}}function Tr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function qm(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function df(t){if(Tr(t)!==t)throw Error(F(188))}function x1(t){var e=t.alternate;if(!e){if(e=Tr(t),e===null)throw Error(F(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return df(s),t;if(i===r)return df(s),e;i=i.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=i;else{for(var l=!1,a=s.child;a;){if(a===n){l=!0,n=s,r=i;break}if(a===r){l=!0,r=s,n=i;break}a=a.sibling}if(!l){for(a=i.child;a;){if(a===n){l=!0,n=i,r=s;break}if(a===r){l=!0,r=i,n=s;break}a=a.sibling}if(!l)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?t:e}function Xm(t){return t=x1(t),t!==null?Ym(t):null}function Ym(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Ym(t);if(e!==null)return e;t=t.sibling}return null}var Jm=wt.unstable_scheduleCallback,ff=wt.unstable_cancelCallback,w1=wt.unstable_shouldYield,E1=wt.unstable_requestPaint,Te=wt.unstable_now,k1=wt.unstable_getCurrentPriorityLevel,Bc=wt.unstable_ImmediatePriority,Zm=wt.unstable_UserBlockingPriority,el=wt.unstable_NormalPriority,S1=wt.unstable_LowPriority,eg=wt.unstable_IdlePriority,Ol=null,Qt=null;function T1(t){if(Qt&&typeof Qt.onCommitFiberRoot=="function")try{Qt.onCommitFiberRoot(Ol,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:N1,I1=Math.log,C1=Math.LN2;function N1(t){return t>>>=0,t===0?32:31-(I1(t)/C1|0)|0}var mo=64,go=4194304;function qs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function tl(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,l=n&268435455;if(l!==0){var a=l&~s;a!==0?r=qs(a):(i&=l,i!==0&&(r=qs(i)))}else l=n&~s,l!==0?r=qs(l):i!==0&&(r=qs(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),s=1<<n,r|=t[n],e&=~s;return r}function A1(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function R1(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var l=31-Ot(i),a=1<<l,c=s[l];c===-1?(!(a&n)||a&r)&&(s[l]=A1(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function Du(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tg(){var t=mo;return mo<<=1,!(mo&4194240)&&(mo=64),t}function Fa(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ui(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function P1(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function $c(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var le=0;function ng(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rg,Hc,sg,ig,og,bu=!1,yo=[],jn=null,Dn=null,bn=null,gi=new Map,yi=new Map,Cn=[],j1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pf(t,e){switch(t){case"focusin":case"focusout":jn=null;break;case"dragenter":case"dragleave":Dn=null;break;case"mouseover":case"mouseout":bn=null;break;case"pointerover":case"pointerout":gi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(e.pointerId)}}function Fs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=$i(e),e!==null&&Hc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function D1(t,e,n,r,s){switch(e){case"focusin":return jn=Fs(jn,t,e,n,r,s),!0;case"dragenter":return Dn=Fs(Dn,t,e,n,r,s),!0;case"mouseover":return bn=Fs(bn,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return gi.set(i,Fs(gi.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,yi.set(i,Fs(yi.get(i)||null,t,e,n,r,s)),!0}return!1}function lg(t){var e=or(t.target);if(e!==null){var n=Tr(e);if(n!==null){if(e=n.tag,e===13){if(e=qm(n),e!==null){t.blockedOn=e,og(t.priority,function(){sg(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Mo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Au=r,n.target.dispatchEvent(r),Au=null}else return e=$i(n),e!==null&&Hc(e),t.blockedOn=n,!1;e.shift()}return!0}function mf(t,e,n){Mo(t)&&n.delete(e)}function b1(){bu=!1,jn!==null&&Mo(jn)&&(jn=null),Dn!==null&&Mo(Dn)&&(Dn=null),bn!==null&&Mo(bn)&&(bn=null),gi.forEach(mf),yi.forEach(mf)}function Us(t,e){t.blockedOn===e&&(t.blockedOn=null,bu||(bu=!0,wt.unstable_scheduleCallback(wt.unstable_NormalPriority,b1)))}function vi(t){function e(s){return Us(s,t)}if(0<yo.length){Us(yo[0],t);for(var n=1;n<yo.length;n++){var r=yo[n];r.blockedOn===t&&(r.blockedOn=null)}}for(jn!==null&&Us(jn,t),Dn!==null&&Us(Dn,t),bn!==null&&Us(bn,t),gi.forEach(e),yi.forEach(e),n=0;n<Cn.length;n++)r=Cn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Cn.length&&(n=Cn[0],n.blockedOn===null);)lg(n),n.blockedOn===null&&Cn.shift()}var Xr=gn.ReactCurrentBatchConfig,nl=!0;function V1(t,e,n,r){var s=le,i=Xr.transition;Xr.transition=null;try{le=1,Wc(t,e,n,r)}finally{le=s,Xr.transition=i}}function M1(t,e,n,r){var s=le,i=Xr.transition;Xr.transition=null;try{le=4,Wc(t,e,n,r)}finally{le=s,Xr.transition=i}}function Wc(t,e,n,r){if(nl){var s=Vu(t,e,n,r);if(s===null)Xa(t,e,r,rl,n),pf(t,r);else if(D1(s,t,e,n,r))r.stopPropagation();else if(pf(t,r),e&4&&-1<j1.indexOf(t)){for(;s!==null;){var i=$i(s);if(i!==null&&rg(i),i=Vu(t,e,n,r),i===null&&Xa(t,e,r,rl,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Xa(t,e,r,null,n)}}var rl=null;function Vu(t,e,n,r){if(rl=null,t=Uc(r),t=or(t),t!==null)if(e=Tr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=qm(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return rl=t,null}function ag(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(k1()){case Bc:return 1;case Zm:return 4;case el:case S1:return 16;case eg:return 536870912;default:return 16}default:return 16}}var An=null,Kc=null,zo=null;function ug(){if(zo)return zo;var t,e=Kc,n=e.length,r,s="value"in An?An.value:An.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(r=1;r<=l&&e[n-r]===s[i-r];r++);return zo=s.slice(t,1<r?1-r:void 0)}function Lo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vo(){return!0}function gf(){return!1}function kt(t){function e(n,r,s,i,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=l,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?vo:gf,this.isPropagationStopped=gf,this}return we(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vo)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vo)},persist:function(){},isPersistent:vo}),e}var gs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gc=kt(gs),Bi=we({},gs,{view:0,detail:0}),z1=kt(Bi),Ua,Ba,Bs,Fl=we({},Bi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bs&&(Bs&&t.type==="mousemove"?(Ua=t.screenX-Bs.screenX,Ba=t.screenY-Bs.screenY):Ba=Ua=0,Bs=t),Ua)},movementY:function(t){return"movementY"in t?t.movementY:Ba}}),yf=kt(Fl),L1=we({},Fl,{dataTransfer:0}),O1=kt(L1),F1=we({},Bi,{relatedTarget:0}),$a=kt(F1),U1=we({},gs,{animationName:0,elapsedTime:0,pseudoElement:0}),B1=kt(U1),$1=we({},gs,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),H1=kt($1),W1=we({},gs,{data:0}),vf=kt(W1),K1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},G1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Q1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function q1(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Q1[t])?!!e[t]:!1}function Qc(){return q1}var X1=we({},Bi,{key:function(t){if(t.key){var e=K1[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Lo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?G1[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qc,charCode:function(t){return t.type==="keypress"?Lo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Lo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Y1=kt(X1),J1=we({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_f=kt(J1),Z1=we({},Bi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qc}),e_=kt(Z1),t_=we({},gs,{propertyName:0,elapsedTime:0,pseudoElement:0}),n_=kt(t_),r_=we({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),s_=kt(r_),i_=[9,13,27,32],qc=hn&&"CompositionEvent"in window,ei=null;hn&&"documentMode"in document&&(ei=document.documentMode);var o_=hn&&"TextEvent"in window&&!ei,cg=hn&&(!qc||ei&&8<ei&&11>=ei),xf=" ",wf=!1;function hg(t,e){switch(t){case"keyup":return i_.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zr=!1;function l_(t,e){switch(t){case"compositionend":return dg(e);case"keypress":return e.which!==32?null:(wf=!0,xf);case"textInput":return t=e.data,t===xf&&wf?null:t;default:return null}}function a_(t,e){if(zr)return t==="compositionend"||!qc&&hg(t,e)?(t=ug(),zo=Kc=An=null,zr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cg&&e.locale!=="ko"?null:e.data;default:return null}}var u_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ef(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!u_[t.type]:e==="textarea"}function fg(t,e,n,r){Hm(r),e=sl(e,"onChange"),0<e.length&&(n=new Gc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ti=null,_i=null;function c_(t){Sg(t,0)}function Ul(t){var e=Fr(t);if(zm(e))return t}function h_(t,e){if(t==="change")return e}var pg=!1;if(hn){var Ha;if(hn){var Wa="oninput"in document;if(!Wa){var kf=document.createElement("div");kf.setAttribute("oninput","return;"),Wa=typeof kf.oninput=="function"}Ha=Wa}else Ha=!1;pg=Ha&&(!document.documentMode||9<document.documentMode)}function Sf(){ti&&(ti.detachEvent("onpropertychange",mg),_i=ti=null)}function mg(t){if(t.propertyName==="value"&&Ul(_i)){var e=[];fg(e,_i,t,Uc(t)),Qm(c_,e)}}function d_(t,e,n){t==="focusin"?(Sf(),ti=e,_i=n,ti.attachEvent("onpropertychange",mg)):t==="focusout"&&Sf()}function f_(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ul(_i)}function p_(t,e){if(t==="click")return Ul(e)}function m_(t,e){if(t==="input"||t==="change")return Ul(e)}function g_(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ut=typeof Object.is=="function"?Object.is:g_;function xi(t,e){if(Ut(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!yu.call(e,s)||!Ut(t[s],e[s]))return!1}return!0}function Tf(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function If(t,e){var n=Tf(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tf(n)}}function gg(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gg(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yg(){for(var t=window,e=Yo();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Yo(t.document)}return e}function Xc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function y_(t){var e=yg(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&gg(n.ownerDocument.documentElement,n)){if(r!==null&&Xc(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=If(n,i);var l=If(n,r);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var v_=hn&&"documentMode"in document&&11>=document.documentMode,Lr=null,Mu=null,ni=null,zu=!1;function Cf(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;zu||Lr==null||Lr!==Yo(r)||(r=Lr,"selectionStart"in r&&Xc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ni&&xi(ni,r)||(ni=r,r=sl(Mu,"onSelect"),0<r.length&&(e=new Gc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lr)))}function _o(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Or={animationend:_o("Animation","AnimationEnd"),animationiteration:_o("Animation","AnimationIteration"),animationstart:_o("Animation","AnimationStart"),transitionend:_o("Transition","TransitionEnd")},Ka={},vg={};hn&&(vg=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function Bl(t){if(Ka[t])return Ka[t];if(!Or[t])return t;var e=Or[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in vg)return Ka[t]=e[n];return t}var _g=Bl("animationend"),xg=Bl("animationiteration"),wg=Bl("animationstart"),Eg=Bl("transitionend"),kg=new Map,Nf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qn(t,e){kg.set(t,e),Sr(e,[t])}for(var Ga=0;Ga<Nf.length;Ga++){var Qa=Nf[Ga],__=Qa.toLowerCase(),x_=Qa[0].toUpperCase()+Qa.slice(1);Qn(__,"on"+x_)}Qn(_g,"onAnimationEnd");Qn(xg,"onAnimationIteration");Qn(wg,"onAnimationStart");Qn("dblclick","onDoubleClick");Qn("focusin","onFocus");Qn("focusout","onBlur");Qn(Eg,"onTransitionEnd");ns("onMouseEnter",["mouseout","mouseover"]);ns("onMouseLeave",["mouseout","mouseover"]);ns("onPointerEnter",["pointerout","pointerover"]);ns("onPointerLeave",["pointerout","pointerover"]);Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),w_=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xs));function Af(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,_1(r,e,void 0,t),t.currentTarget=null}function Sg(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var l=r.length-1;0<=l;l--){var a=r[l],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;Af(s,a,d),i=c}else for(l=0;l<r.length;l++){if(a=r[l],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;Af(s,a,d),i=c}}}if(Zo)throw t=ju,Zo=!1,ju=null,t}function fe(t,e){var n=e[Bu];n===void 0&&(n=e[Bu]=new Set);var r=t+"__bubble";n.has(r)||(Tg(e,t,2,!1),n.add(r))}function qa(t,e,n){var r=0;e&&(r|=4),Tg(n,t,r,e)}var xo="_reactListening"+Math.random().toString(36).slice(2);function wi(t){if(!t[xo]){t[xo]=!0,jm.forEach(function(n){n!=="selectionchange"&&(w_.has(n)||qa(n,!1,t),qa(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[xo]||(e[xo]=!0,qa("selectionchange",!1,e))}}function Tg(t,e,n,r){switch(ag(e)){case 1:var s=V1;break;case 4:s=M1;break;default:s=Wc}n=s.bind(null,e,n,t),s=void 0,!Pu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Xa(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var c=l.tag;if((c===3||c===4)&&(c=l.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;l=l.return}for(;a!==null;){if(l=or(a),l===null)return;if(c=l.tag,c===5||c===6){r=i=l;continue e}a=a.parentNode}}r=r.return}Qm(function(){var d=i,p=Uc(n),g=[];e:{var m=kg.get(t);if(m!==void 0){var N=Gc,A=t;switch(t){case"keypress":if(Lo(n)===0)break e;case"keydown":case"keyup":N=Y1;break;case"focusin":A="focus",N=$a;break;case"focusout":A="blur",N=$a;break;case"beforeblur":case"afterblur":N=$a;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=yf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=O1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=e_;break;case _g:case xg:case wg:N=B1;break;case Eg:N=n_;break;case"scroll":N=z1;break;case"wheel":N=s_;break;case"copy":case"cut":case"paste":N=H1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=_f}var R=(e&4)!==0,M=!R&&t==="scroll",T=R?m!==null?m+"Capture":null:m;R=[];for(var x=d,I;x!==null;){I=x;var j=I.stateNode;if(I.tag===5&&j!==null&&(I=j,T!==null&&(j=mi(x,T),j!=null&&R.push(Ei(x,j,I)))),M)break;x=x.return}0<R.length&&(m=new N(m,A,null,n,p),g.push({event:m,listeners:R}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",N=t==="mouseout"||t==="pointerout",m&&n!==Au&&(A=n.relatedTarget||n.fromElement)&&(or(A)||A[dn]))break e;if((N||m)&&(m=p.window===p?p:(m=p.ownerDocument)?m.defaultView||m.parentWindow:window,N?(A=n.relatedTarget||n.toElement,N=d,A=A?or(A):null,A!==null&&(M=Tr(A),A!==M||A.tag!==5&&A.tag!==6)&&(A=null)):(N=null,A=d),N!==A)){if(R=yf,j="onMouseLeave",T="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(R=_f,j="onPointerLeave",T="onPointerEnter",x="pointer"),M=N==null?m:Fr(N),I=A==null?m:Fr(A),m=new R(j,x+"leave",N,n,p),m.target=M,m.relatedTarget=I,j=null,or(p)===d&&(R=new R(T,x+"enter",A,n,p),R.target=I,R.relatedTarget=M,j=R),M=j,N&&A)t:{for(R=N,T=A,x=0,I=R;I;I=Pr(I))x++;for(I=0,j=T;j;j=Pr(j))I++;for(;0<x-I;)R=Pr(R),x--;for(;0<I-x;)T=Pr(T),I--;for(;x--;){if(R===T||T!==null&&R===T.alternate)break t;R=Pr(R),T=Pr(T)}R=null}else R=null;N!==null&&Rf(g,m,N,R,!1),A!==null&&M!==null&&Rf(g,M,A,R,!0)}}e:{if(m=d?Fr(d):window,N=m.nodeName&&m.nodeName.toLowerCase(),N==="select"||N==="input"&&m.type==="file")var b=h_;else if(Ef(m))if(pg)b=m_;else{b=f_;var L=d_}else(N=m.nodeName)&&N.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(b=p_);if(b&&(b=b(t,d))){fg(g,b,n,p);break e}L&&L(t,m,d),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Su(m,"number",m.value)}switch(L=d?Fr(d):window,t){case"focusin":(Ef(L)||L.contentEditable==="true")&&(Lr=L,Mu=d,ni=null);break;case"focusout":ni=Mu=Lr=null;break;case"mousedown":zu=!0;break;case"contextmenu":case"mouseup":case"dragend":zu=!1,Cf(g,n,p);break;case"selectionchange":if(v_)break;case"keydown":case"keyup":Cf(g,n,p)}var E;if(qc)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else zr?hg(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(cg&&n.locale!=="ko"&&(zr||v!=="onCompositionStart"?v==="onCompositionEnd"&&zr&&(E=ug()):(An=p,Kc="value"in An?An.value:An.textContent,zr=!0)),L=sl(d,v),0<L.length&&(v=new vf(v,t,null,n,p),g.push({event:v,listeners:L}),E?v.data=E:(E=dg(n),E!==null&&(v.data=E)))),(E=o_?l_(t,n):a_(t,n))&&(d=sl(d,"onBeforeInput"),0<d.length&&(p=new vf("onBeforeInput","beforeinput",null,n,p),g.push({event:p,listeners:d}),p.data=E))}Sg(g,e)})}function Ei(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sl(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=mi(t,n),i!=null&&r.unshift(Ei(t,i,s)),i=mi(t,e),i!=null&&r.push(Ei(t,i,s))),t=t.return}return r}function Pr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rf(t,e,n,r,s){for(var i=e._reactName,l=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=mi(n,i),c!=null&&l.unshift(Ei(n,c,a))):s||(c=mi(n,i),c!=null&&l.push(Ei(n,c,a)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var E_=/\r\n?/g,k_=/\u0000|\uFFFD/g;function Pf(t){return(typeof t=="string"?t:""+t).replace(E_,`
`).replace(k_,"")}function wo(t,e,n){if(e=Pf(e),Pf(t)!==e&&n)throw Error(F(425))}function il(){}var Lu=null,Ou=null;function Fu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Uu=typeof setTimeout=="function"?setTimeout:void 0,S_=typeof clearTimeout=="function"?clearTimeout:void 0,jf=typeof Promise=="function"?Promise:void 0,T_=typeof queueMicrotask=="function"?queueMicrotask:typeof jf<"u"?function(t){return jf.resolve(null).then(t).catch(I_)}:Uu;function I_(t){setTimeout(function(){throw t})}function Ya(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);vi(e)}function Vn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Df(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ys=Math.random().toString(36).slice(2),Gt="__reactFiber$"+ys,ki="__reactProps$"+ys,dn="__reactContainer$"+ys,Bu="__reactEvents$"+ys,C_="__reactListeners$"+ys,N_="__reactHandles$"+ys;function or(t){var e=t[Gt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[dn]||n[Gt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Df(t);t!==null;){if(n=t[Gt])return n;t=Df(t)}return e}t=n,n=t.parentNode}return null}function $i(t){return t=t[Gt]||t[dn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(F(33))}function $l(t){return t[ki]||null}var $u=[],Ur=-1;function qn(t){return{current:t}}function pe(t){0>Ur||(t.current=$u[Ur],$u[Ur]=null,Ur--)}function ce(t,e){Ur++,$u[Ur]=t.current,t.current=e}var $n={},tt=qn($n),ft=qn(!1),mr=$n;function rs(t,e){var n=t.type.contextTypes;if(!n)return $n;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function pt(t){return t=t.childContextTypes,t!=null}function ol(){pe(ft),pe(tt)}function bf(t,e,n){if(tt.current!==$n)throw Error(F(168));ce(tt,e),ce(ft,n)}function Ig(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(F(108,d1(t)||"Unknown",s));return we({},n,r)}function ll(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$n,mr=tt.current,ce(tt,t),ce(ft,ft.current),!0}function Vf(t,e,n){var r=t.stateNode;if(!r)throw Error(F(169));n?(t=Ig(t,e,mr),r.__reactInternalMemoizedMergedChildContext=t,pe(ft),pe(tt),ce(tt,t)):pe(ft),ce(ft,n)}var rn=null,Hl=!1,Ja=!1;function Cg(t){rn===null?rn=[t]:rn.push(t)}function A_(t){Hl=!0,Cg(t)}function Xn(){if(!Ja&&rn!==null){Ja=!0;var t=0,e=le;try{var n=rn;for(le=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}rn=null,Hl=!1}catch(s){throw rn!==null&&(rn=rn.slice(t+1)),Jm(Bc,Xn),s}finally{le=e,Ja=!1}}return null}var Br=[],$r=0,al=null,ul=0,St=[],Tt=0,gr=null,sn=1,on="";function rr(t,e){Br[$r++]=ul,Br[$r++]=al,al=t,ul=e}function Ng(t,e,n){St[Tt++]=sn,St[Tt++]=on,St[Tt++]=gr,gr=t;var r=sn;t=on;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(e)+s;if(30<i){var l=s-s%5;i=(r&(1<<l)-1).toString(32),r>>=l,s-=l,sn=1<<32-Ot(e)+s|n<<s|r,on=i+t}else sn=1<<i|n<<s|r,on=t}function Yc(t){t.return!==null&&(rr(t,1),Ng(t,1,0))}function Jc(t){for(;t===al;)al=Br[--$r],Br[$r]=null,ul=Br[--$r],Br[$r]=null;for(;t===gr;)gr=St[--Tt],St[Tt]=null,on=St[--Tt],St[Tt]=null,sn=St[--Tt],St[Tt]=null}var xt=null,_t=null,ge=!1,bt=null;function Ag(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Mf(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,xt=t,_t=Vn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,xt=t,_t=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=gr!==null?{id:sn,overflow:on}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,xt=t,_t=null,!0):!1;default:return!1}}function Hu(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Wu(t){if(ge){var e=_t;if(e){var n=e;if(!Mf(t,e)){if(Hu(t))throw Error(F(418));e=Vn(n.nextSibling);var r=xt;e&&Mf(t,e)?Ag(r,n):(t.flags=t.flags&-4097|2,ge=!1,xt=t)}}else{if(Hu(t))throw Error(F(418));t.flags=t.flags&-4097|2,ge=!1,xt=t}}}function zf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;xt=t}function Eo(t){if(t!==xt)return!1;if(!ge)return zf(t),ge=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Fu(t.type,t.memoizedProps)),e&&(e=_t)){if(Hu(t))throw Rg(),Error(F(418));for(;e;)Ag(t,e),e=Vn(e.nextSibling)}if(zf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(F(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){_t=Vn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}_t=null}}else _t=xt?Vn(t.stateNode.nextSibling):null;return!0}function Rg(){for(var t=_t;t;)t=Vn(t.nextSibling)}function ss(){_t=xt=null,ge=!1}function Zc(t){bt===null?bt=[t]:bt.push(t)}var R_=gn.ReactCurrentBatchConfig;function jt(t,e){if(t&&t.defaultProps){e=we({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var cl=qn(null),hl=null,Hr=null,eh=null;function th(){eh=Hr=hl=null}function nh(t){var e=cl.current;pe(cl),t._currentValue=e}function Ku(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yr(t,e){hl=t,eh=Hr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dt=!0),t.firstContext=null)}function Nt(t){var e=t._currentValue;if(eh!==t)if(t={context:t,memoizedValue:e,next:null},Hr===null){if(hl===null)throw Error(F(308));Hr=t,hl.dependencies={lanes:0,firstContext:t}}else Hr=Hr.next=t;return e}var lr=null;function rh(t){lr===null?lr=[t]:lr.push(t)}function Pg(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rh(e)):(n.next=s.next,s.next=n),e.interleaved=n,fn(t,r)}function fn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var In=!1;function sh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jg(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Mn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ne&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,fn(t,n)}return s=r.interleaved,s===null?(e.next=e,rh(r)):(e.next=s.next,s.next=e),r.interleaved=e,fn(t,n)}function Oo(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}function Lf(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=l:i=i.next=l,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function dl(t,e,n,r){var s=t.updateQueue;In=!1;var i=s.firstBaseUpdate,l=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,l===null?i=d:l.next=d,l=c;var p=t.alternate;p!==null&&(p=p.updateQueue,a=p.lastBaseUpdate,a!==l&&(a===null?p.firstBaseUpdate=d:a.next=d,p.lastBaseUpdate=c))}if(i!==null){var g=s.baseState;l=0,p=d=c=null,a=i;do{var m=a.lane,N=a.eventTime;if((r&m)===m){p!==null&&(p=p.next={eventTime:N,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var A=t,R=a;switch(m=e,N=n,R.tag){case 1:if(A=R.payload,typeof A=="function"){g=A.call(N,g,m);break e}g=A;break e;case 3:A.flags=A.flags&-65537|128;case 0:if(A=R.payload,m=typeof A=="function"?A.call(N,g,m):A,m==null)break e;g=we({},g,m);break e;case 2:In=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else N={eventTime:N,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},p===null?(d=p=N,c=g):p=p.next=N,l|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(p===null&&(c=g),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=p,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);vr|=l,t.lanes=l,t.memoizedState=g}}function Of(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var Dg=new Pm.Component().refs;function Gu(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:we({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Wl={isMounted:function(t){return(t=t._reactInternals)?Tr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=Mn(t,i,s),e!==null&&(Ft(e,t,s,r),Oo(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=it(),s=Ln(t),i=ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Mn(t,i,s),e!==null&&(Ft(e,t,s,r),Oo(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=it(),r=Ln(t),s=ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=Mn(t,s,r),e!==null&&(Ft(e,t,r,n),Oo(e,t,r))}};function Ff(t,e,n,r,s,i,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,l):e.prototype&&e.prototype.isPureReactComponent?!xi(n,r)||!xi(s,i):!0}function bg(t,e,n){var r=!1,s=$n,i=e.contextType;return typeof i=="object"&&i!==null?i=Nt(i):(s=pt(e)?mr:tt.current,r=e.contextTypes,i=(r=r!=null)?rs(t,s):$n),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Uf(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Wl.enqueueReplaceState(e,e.state,null)}function Qu(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Dg,sh(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Nt(i):(i=pt(e)?mr:tt.current,s.context=rs(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Gu(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Wl.enqueueReplaceState(s,s.state,null),dl(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function $s(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(l){var a=s.refs;a===Dg&&(a=s.refs={}),l===null?delete a[i]:a[i]=l},e._stringRef=i,e)}if(typeof t!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,t))}return t}function ko(t,e){throw t=Object.prototype.toString.call(e),Error(F(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bf(t){var e=t._init;return e(t._payload)}function Vg(t){function e(T,x){if(t){var I=T.deletions;I===null?(T.deletions=[x],T.flags|=16):I.push(x)}}function n(T,x){if(!t)return null;for(;x!==null;)e(T,x),x=x.sibling;return null}function r(T,x){for(T=new Map;x!==null;)x.key!==null?T.set(x.key,x):T.set(x.index,x),x=x.sibling;return T}function s(T,x){return T=On(T,x),T.index=0,T.sibling=null,T}function i(T,x,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<x?(T.flags|=2,x):I):(T.flags|=2,x)):(T.flags|=1048576,x)}function l(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,x,I,j){return x===null||x.tag!==6?(x=iu(I,T.mode,j),x.return=T,x):(x=s(x,I),x.return=T,x)}function c(T,x,I,j){var b=I.type;return b===Mr?p(T,x,I.props.children,j,I.key):x!==null&&(x.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Bf(b)===x.type)?(j=s(x,I.props),j.ref=$s(T,x,I),j.return=T,j):(j=Wo(I.type,I.key,I.props,null,T.mode,j),j.ref=$s(T,x,I),j.return=T,j)}function d(T,x,I,j){return x===null||x.tag!==4||x.stateNode.containerInfo!==I.containerInfo||x.stateNode.implementation!==I.implementation?(x=ou(I,T.mode,j),x.return=T,x):(x=s(x,I.children||[]),x.return=T,x)}function p(T,x,I,j,b){return x===null||x.tag!==7?(x=hr(I,T.mode,j,b),x.return=T,x):(x=s(x,I),x.return=T,x)}function g(T,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return x=iu(""+x,T.mode,I),x.return=T,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ho:return I=Wo(x.type,x.key,x.props,null,T.mode,I),I.ref=$s(T,null,x),I.return=T,I;case Vr:return x=ou(x,T.mode,I),x.return=T,x;case Tn:var j=x._init;return g(T,j(x._payload),I)}if(Qs(x)||Ls(x))return x=hr(x,T.mode,I,null),x.return=T,x;ko(T,x)}return null}function m(T,x,I,j){var b=x!==null?x.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return b!==null?null:a(T,x,""+I,j);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case ho:return I.key===b?c(T,x,I,j):null;case Vr:return I.key===b?d(T,x,I,j):null;case Tn:return b=I._init,m(T,x,b(I._payload),j)}if(Qs(I)||Ls(I))return b!==null?null:p(T,x,I,j,null);ko(T,I)}return null}function N(T,x,I,j,b){if(typeof j=="string"&&j!==""||typeof j=="number")return T=T.get(I)||null,a(x,T,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ho:return T=T.get(j.key===null?I:j.key)||null,c(x,T,j,b);case Vr:return T=T.get(j.key===null?I:j.key)||null,d(x,T,j,b);case Tn:var L=j._init;return N(T,x,I,L(j._payload),b)}if(Qs(j)||Ls(j))return T=T.get(I)||null,p(x,T,j,b,null);ko(x,j)}return null}function A(T,x,I,j){for(var b=null,L=null,E=x,v=x=0,S=null;E!==null&&v<I.length;v++){E.index>v?(S=E,E=null):S=E.sibling;var _=m(T,E,I[v],j);if(_===null){E===null&&(E=S);break}t&&E&&_.alternate===null&&e(T,E),x=i(_,x,v),L===null?b=_:L.sibling=_,L=_,E=S}if(v===I.length)return n(T,E),ge&&rr(T,v),b;if(E===null){for(;v<I.length;v++)E=g(T,I[v],j),E!==null&&(x=i(E,x,v),L===null?b=E:L.sibling=E,L=E);return ge&&rr(T,v),b}for(E=r(T,E);v<I.length;v++)S=N(E,T,v,I[v],j),S!==null&&(t&&S.alternate!==null&&E.delete(S.key===null?v:S.key),x=i(S,x,v),L===null?b=S:L.sibling=S,L=S);return t&&E.forEach(function(w){return e(T,w)}),ge&&rr(T,v),b}function R(T,x,I,j){var b=Ls(I);if(typeof b!="function")throw Error(F(150));if(I=b.call(I),I==null)throw Error(F(151));for(var L=b=null,E=x,v=x=0,S=null,_=I.next();E!==null&&!_.done;v++,_=I.next()){E.index>v?(S=E,E=null):S=E.sibling;var w=m(T,E,_.value,j);if(w===null){E===null&&(E=S);break}t&&E&&w.alternate===null&&e(T,E),x=i(w,x,v),L===null?b=w:L.sibling=w,L=w,E=S}if(_.done)return n(T,E),ge&&rr(T,v),b;if(E===null){for(;!_.done;v++,_=I.next())_=g(T,_.value,j),_!==null&&(x=i(_,x,v),L===null?b=_:L.sibling=_,L=_);return ge&&rr(T,v),b}for(E=r(T,E);!_.done;v++,_=I.next())_=N(E,T,v,_.value,j),_!==null&&(t&&_.alternate!==null&&E.delete(_.key===null?v:_.key),x=i(_,x,v),L===null?b=_:L.sibling=_,L=_);return t&&E.forEach(function(C){return e(T,C)}),ge&&rr(T,v),b}function M(T,x,I,j){if(typeof I=="object"&&I!==null&&I.type===Mr&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case ho:e:{for(var b=I.key,L=x;L!==null;){if(L.key===b){if(b=I.type,b===Mr){if(L.tag===7){n(T,L.sibling),x=s(L,I.props.children),x.return=T,T=x;break e}}else if(L.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===Tn&&Bf(b)===L.type){n(T,L.sibling),x=s(L,I.props),x.ref=$s(T,L,I),x.return=T,T=x;break e}n(T,L);break}else e(T,L);L=L.sibling}I.type===Mr?(x=hr(I.props.children,T.mode,j,I.key),x.return=T,T=x):(j=Wo(I.type,I.key,I.props,null,T.mode,j),j.ref=$s(T,x,I),j.return=T,T=j)}return l(T);case Vr:e:{for(L=I.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===I.containerInfo&&x.stateNode.implementation===I.implementation){n(T,x.sibling),x=s(x,I.children||[]),x.return=T,T=x;break e}else{n(T,x);break}else e(T,x);x=x.sibling}x=ou(I,T.mode,j),x.return=T,T=x}return l(T);case Tn:return L=I._init,M(T,x,L(I._payload),j)}if(Qs(I))return A(T,x,I,j);if(Ls(I))return R(T,x,I,j);ko(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,x!==null&&x.tag===6?(n(T,x.sibling),x=s(x,I),x.return=T,T=x):(n(T,x),x=iu(I,T.mode,j),x.return=T,T=x),l(T)):n(T,x)}return M}var is=Vg(!0),Mg=Vg(!1),Hi={},qt=qn(Hi),Si=qn(Hi),Ti=qn(Hi);function ar(t){if(t===Hi)throw Error(F(174));return t}function ih(t,e){switch(ce(Ti,e),ce(Si,t),ce(qt,Hi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Iu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Iu(e,t)}pe(qt),ce(qt,e)}function os(){pe(qt),pe(Si),pe(Ti)}function zg(t){ar(Ti.current);var e=ar(qt.current),n=Iu(e,t.type);e!==n&&(ce(Si,t),ce(qt,n))}function oh(t){Si.current===t&&(pe(qt),pe(Si))}var _e=qn(0);function fl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Za=[];function lh(){for(var t=0;t<Za.length;t++)Za[t]._workInProgressVersionPrimary=null;Za.length=0}var Fo=gn.ReactCurrentDispatcher,eu=gn.ReactCurrentBatchConfig,yr=0,xe=null,je=null,Me=null,pl=!1,ri=!1,Ii=0,P_=0;function Qe(){throw Error(F(321))}function ah(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ut(t[n],e[n]))return!1;return!0}function uh(t,e,n,r,s,i){if(yr=i,xe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fo.current=t===null||t.memoizedState===null?V_:M_,t=n(r,s),ri){i=0;do{if(ri=!1,Ii=0,25<=i)throw Error(F(301));i+=1,Me=je=null,e.updateQueue=null,Fo.current=z_,t=n(r,s)}while(ri)}if(Fo.current=ml,e=je!==null&&je.next!==null,yr=0,Me=je=xe=null,pl=!1,e)throw Error(F(300));return t}function ch(){var t=Ii!==0;return Ii=0,t}function Wt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?xe.memoizedState=Me=t:Me=Me.next=t,Me}function At(){if(je===null){var t=xe.alternate;t=t!==null?t.memoizedState:null}else t=je.next;var e=Me===null?xe.memoizedState:Me.next;if(e!==null)Me=e,je=t;else{if(t===null)throw Error(F(310));je=t,t={memoizedState:je.memoizedState,baseState:je.baseState,baseQueue:je.baseQueue,queue:je.queue,next:null},Me===null?xe.memoizedState=Me=t:Me=Me.next=t}return Me}function Ci(t,e){return typeof e=="function"?e(t):e}function tu(t){var e=At(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=je,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var l=s.next;s.next=i.next,i.next=l}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=l=null,c=null,d=i;do{var p=d.lane;if((yr&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var g={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=g,l=r):c=c.next=g,xe.lanes|=p,vr|=p}d=d.next}while(d!==null&&d!==i);c===null?l=r:c.next=a,Ut(r,e.memoizedState)||(dt=!0),e.memoizedState=r,e.baseState=l,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,xe.lanes|=i,vr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function nu(t){var e=At(),n=e.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do i=t(i,l.action),l=l.next;while(l!==s);Ut(i,e.memoizedState)||(dt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Lg(){}function Og(t,e){var n=xe,r=At(),s=e(),i=!Ut(r.memoizedState,s);if(i&&(r.memoizedState=s,dt=!0),r=r.queue,hh(Bg.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Me!==null&&Me.memoizedState.tag&1){if(n.flags|=2048,Ni(9,Ug.bind(null,n,r,s,e),void 0,null),Le===null)throw Error(F(349));yr&30||Fg(n,e,s)}return s}function Fg(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ug(t,e,n,r){e.value=n,e.getSnapshot=r,$g(e)&&Hg(t)}function Bg(t,e,n){return n(function(){$g(e)&&Hg(t)})}function $g(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ut(t,n)}catch{return!0}}function Hg(t){var e=fn(t,1);e!==null&&Ft(e,t,1,-1)}function $f(t){var e=Wt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ci,lastRenderedState:t},e.queue=t,t=t.dispatch=b_.bind(null,xe,t),[e.memoizedState,t]}function Ni(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=xe.updateQueue,e===null?(e={lastEffect:null,stores:null},xe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Wg(){return At().memoizedState}function Uo(t,e,n,r){var s=Wt();xe.flags|=t,s.memoizedState=Ni(1|e,n,void 0,r===void 0?null:r)}function Kl(t,e,n,r){var s=At();r=r===void 0?null:r;var i=void 0;if(je!==null){var l=je.memoizedState;if(i=l.destroy,r!==null&&ah(r,l.deps)){s.memoizedState=Ni(e,n,i,r);return}}xe.flags|=t,s.memoizedState=Ni(1|e,n,i,r)}function Hf(t,e){return Uo(8390656,8,t,e)}function hh(t,e){return Kl(2048,8,t,e)}function Kg(t,e){return Kl(4,2,t,e)}function Gg(t,e){return Kl(4,4,t,e)}function Qg(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function qg(t,e,n){return n=n!=null?n.concat([t]):null,Kl(4,4,Qg.bind(null,e,t),n)}function dh(){}function Xg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Yg(t,e){var n=At();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ah(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Jg(t,e,n){return yr&21?(Ut(n,e)||(n=tg(),xe.lanes|=n,vr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dt=!0),t.memoizedState=n)}function j_(t,e){var n=le;le=n!==0&&4>n?n:4,t(!0);var r=eu.transition;eu.transition={};try{t(!1),e()}finally{le=n,eu.transition=r}}function Zg(){return At().memoizedState}function D_(t,e,n){var r=Ln(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ey(t))ty(e,n);else if(n=Pg(t,e,n,r),n!==null){var s=it();Ft(n,t,r,s),ny(n,e,r)}}function b_(t,e,n){var r=Ln(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ey(t))ty(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var l=e.lastRenderedState,a=i(l,n);if(s.hasEagerState=!0,s.eagerState=a,Ut(a,l)){var c=e.interleaved;c===null?(s.next=s,rh(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Pg(t,e,s,r),n!==null&&(s=it(),Ft(n,t,r,s),ny(n,e,r))}}function ey(t){var e=t.alternate;return t===xe||e!==null&&e===xe}function ty(t,e){ri=pl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ny(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,$c(t,n)}}var ml={readContext:Nt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},V_={readContext:Nt,useCallback:function(t,e){return Wt().memoizedState=[t,e===void 0?null:e],t},useContext:Nt,useEffect:Hf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Uo(4194308,4,Qg.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Uo(4194308,4,t,e)},useInsertionEffect:function(t,e){return Uo(4,2,t,e)},useMemo:function(t,e){var n=Wt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Wt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=D_.bind(null,xe,t),[r.memoizedState,t]},useRef:function(t){var e=Wt();return t={current:t},e.memoizedState=t},useState:$f,useDebugValue:dh,useDeferredValue:function(t){return Wt().memoizedState=t},useTransition:function(){var t=$f(!1),e=t[0];return t=j_.bind(null,t[1]),Wt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=xe,s=Wt();if(ge){if(n===void 0)throw Error(F(407));n=n()}else{if(n=e(),Le===null)throw Error(F(349));yr&30||Fg(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Hf(Bg.bind(null,r,i,t),[t]),r.flags|=2048,Ni(9,Ug.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Wt(),e=Le.identifierPrefix;if(ge){var n=on,r=sn;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ii++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=P_++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},M_={readContext:Nt,useCallback:Xg,useContext:Nt,useEffect:hh,useImperativeHandle:qg,useInsertionEffect:Kg,useLayoutEffect:Gg,useMemo:Yg,useReducer:tu,useRef:Wg,useState:function(){return tu(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=At();return Jg(e,je.memoizedState,t)},useTransition:function(){var t=tu(Ci)[0],e=At().memoizedState;return[t,e]},useMutableSource:Lg,useSyncExternalStore:Og,useId:Zg,unstable_isNewReconciler:!1},z_={readContext:Nt,useCallback:Xg,useContext:Nt,useEffect:hh,useImperativeHandle:qg,useInsertionEffect:Kg,useLayoutEffect:Gg,useMemo:Yg,useReducer:nu,useRef:Wg,useState:function(){return nu(Ci)},useDebugValue:dh,useDeferredValue:function(t){var e=At();return je===null?e.memoizedState=t:Jg(e,je.memoizedState,t)},useTransition:function(){var t=nu(Ci)[0],e=At().memoizedState;return[t,e]},useMutableSource:Lg,useSyncExternalStore:Og,useId:Zg,unstable_isNewReconciler:!1};function ls(t,e){try{var n="",r=e;do n+=h1(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function ru(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function qu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var L_=typeof WeakMap=="function"?WeakMap:Map;function ry(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){yl||(yl=!0,ic=r),qu(t,e)},n}function sy(t,e,n){n=ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){qu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){qu(t,e),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function Wf(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new L_;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=J_.bind(null,t,e,n),e.then(t,t))}function Kf(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gf(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,Mn(n,e,1))),n.lanes|=1),t)}var O_=gn.ReactCurrentOwner,dt=!1;function st(t,e,n,r){e.child=t===null?Mg(e,null,n,r):is(e,t.child,n,r)}function Qf(t,e,n,r,s){n=n.render;var i=e.ref;return Yr(e,s),r=uh(t,e,n,r,i,s),n=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(ge&&n&&Yc(e),e.flags|=1,st(t,e,r,s),e.child)}function qf(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!xh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,iy(t,e,i,r,s)):(t=Wo(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var l=i.memoizedProps;if(n=n.compare,n=n!==null?n:xi,n(l,r)&&t.ref===e.ref)return pn(t,e,s)}return e.flags|=1,t=On(i,r),t.ref=e.ref,t.return=e,e.child=t}function iy(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(xi(i,r)&&t.ref===e.ref)if(dt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dt=!0);else return e.lanes=t.lanes,pn(t,e,s)}return Xu(t,e,n,r,s)}function oy(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ce(Kr,vt),vt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ce(Kr,vt),vt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ce(Kr,vt),vt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ce(Kr,vt),vt|=r;return st(t,e,s,n),e.child}function ly(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Xu(t,e,n,r,s){var i=pt(n)?mr:tt.current;return i=rs(e,i),Yr(e,s),n=uh(t,e,n,r,i,s),r=ch(),t!==null&&!dt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,pn(t,e,s)):(ge&&r&&Yc(e),e.flags|=1,st(t,e,n,s),e.child)}function Xf(t,e,n,r,s){if(pt(n)){var i=!0;ll(e)}else i=!1;if(Yr(e,s),e.stateNode===null)Bo(t,e),bg(e,n,r),Qu(e,n,r,s),r=!0;else if(t===null){var l=e.stateNode,a=e.memoizedProps;l.props=a;var c=l.context,d=n.contextType;typeof d=="object"&&d!==null?d=Nt(d):(d=pt(n)?mr:tt.current,d=rs(e,d));var p=n.getDerivedStateFromProps,g=typeof p=="function"||typeof l.getSnapshotBeforeUpdate=="function";g||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==r||c!==d)&&Uf(e,l,r,d),In=!1;var m=e.memoizedState;l.state=m,dl(e,r,l,s),c=e.memoizedState,a!==r||m!==c||ft.current||In?(typeof p=="function"&&(Gu(e,n,p,r),c=e.memoizedState),(a=In||Ff(e,n,a,r,m,c,d))?(g||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),l.props=r,l.state=c,l.context=d,r=a):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{l=e.stateNode,jg(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:jt(e.type,a),l.props=d,g=e.pendingProps,m=l.context,c=n.contextType,typeof c=="object"&&c!==null?c=Nt(c):(c=pt(n)?mr:tt.current,c=rs(e,c));var N=n.getDerivedStateFromProps;(p=typeof N=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(a!==g||m!==c)&&Uf(e,l,r,c),In=!1,m=e.memoizedState,l.state=m,dl(e,r,l,s);var A=e.memoizedState;a!==g||m!==A||ft.current||In?(typeof N=="function"&&(Gu(e,n,N,r),A=e.memoizedState),(d=In||Ff(e,n,d,r,m,A,c)||!1)?(p||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,A,c),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,A,c)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=A),l.props=r,l.state=A,l.context=c,r=d):(typeof l.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return Yu(t,e,n,r,i,s)}function Yu(t,e,n,r,s,i){ly(t,e);var l=(e.flags&128)!==0;if(!r&&!l)return s&&Vf(e,n,!1),pn(t,e,i);r=e.stateNode,O_.current=e;var a=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&l?(e.child=is(e,t.child,null,i),e.child=is(e,null,a,i)):st(t,e,a,i),e.memoizedState=r.state,s&&Vf(e,n,!0),e.child}function ay(t){var e=t.stateNode;e.pendingContext?bf(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bf(t,e.context,!1),ih(t,e.containerInfo)}function Yf(t,e,n,r,s){return ss(),Zc(s),e.flags|=256,st(t,e,n,r),e.child}var Ju={dehydrated:null,treeContext:null,retryLane:0};function Zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function uy(t,e,n){var r=e.pendingProps,s=_e.current,i=!1,l=(e.flags&128)!==0,a;if((a=l)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ce(_e,s&1),t===null)return Wu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=r.children,t=r.fallback,i?(r=e.mode,i=e.child,l={mode:"hidden",children:l},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=l):i=ql(l,r,0,null),t=hr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Zu(n),e.memoizedState=Ju,t):fh(e,l));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return F_(t,e,l,r,a,s,n);if(i){i=r.fallback,l=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(l&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=On(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=On(a,i):(i=hr(i,l,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,l=t.child.memoizedState,l=l===null?Zu(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=t.childLanes&~n,e.memoizedState=Ju,r}return i=t.child,t=i.sibling,r=On(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fh(t,e){return e=ql({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function So(t,e,n,r){return r!==null&&Zc(r),is(e,t.child,null,n),t=fh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function F_(t,e,n,r,s,i,l){if(n)return e.flags&256?(e.flags&=-257,r=ru(Error(F(422))),So(t,e,l,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ql({mode:"visible",children:r.children},s,0,null),i=hr(i,s,l,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&is(e,t.child,null,l),e.child.memoizedState=Zu(l),e.memoizedState=Ju,i);if(!(e.mode&1))return So(t,e,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(F(419)),r=ru(i,r,void 0),So(t,e,l,r)}if(a=(l&t.childLanes)!==0,dt||a){if(r=Le,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,fn(t,s),Ft(r,t,s,-1))}return _h(),r=ru(Error(F(421))),So(t,e,l,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Z_.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,_t=Vn(s.nextSibling),xt=e,ge=!0,bt=null,t!==null&&(St[Tt++]=sn,St[Tt++]=on,St[Tt++]=gr,sn=t.id,on=t.overflow,gr=e),e=fh(e,r.children),e.flags|=4096,e)}function Jf(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ku(t.return,e,n)}function su(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function cy(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(st(t,e,r.children,n),r=_e.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jf(t,n,e);else if(t.tag===19)Jf(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ce(_e,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&fl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),su(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&fl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}su(e,!0,n,null,i);break;case"together":su(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Bo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),vr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(F(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function U_(t,e,n){switch(e.tag){case 3:ay(e),ss();break;case 5:zg(e);break;case 1:pt(e.type)&&ll(e);break;case 4:ih(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ce(cl,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ce(_e,_e.current&1),e.flags|=128,null):n&e.child.childLanes?uy(t,e,n):(ce(_e,_e.current&1),t=pn(t,e,n),t!==null?t.sibling:null);ce(_e,_e.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return cy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ce(_e,_e.current),r)break;return null;case 22:case 23:return e.lanes=0,oy(t,e,n)}return pn(t,e,n)}var hy,ec,dy,fy;hy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ec=function(){};dy=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,ar(qt.current);var i=null;switch(n){case"input":s=Eu(t,s),r=Eu(t,r),i=[];break;case"select":s=we({},s,{value:void 0}),r=we({},r,{value:void 0}),i=[];break;case"textarea":s=Tu(t,s),r=Tu(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=il)}Cu(n,r);var l;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(l in a)a.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(fi.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(l in a)!a.hasOwnProperty(l)||c&&c.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in c)c.hasOwnProperty(l)&&a[l]!==c[l]&&(n||(n={}),n[l]=c[l])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(fi.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&fe("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};fy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hs(t,e){if(!ge)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function qe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function B_(t,e,n){var r=e.pendingProps;switch(Jc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return qe(e),null;case 1:return pt(e.type)&&ol(),qe(e),null;case 3:return r=e.stateNode,os(),pe(ft),pe(tt),lh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Eo(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,bt!==null&&(ac(bt),bt=null))),ec(t,e),qe(e),null;case 5:oh(e);var s=ar(Ti.current);if(n=e.type,t!==null&&e.stateNode!=null)dy(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(F(166));return qe(e),null}if(t=ar(qt.current),Eo(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Gt]=e,r[ki]=i,t=(e.mode&1)!==0,n){case"dialog":fe("cancel",r),fe("close",r);break;case"iframe":case"object":case"embed":fe("load",r);break;case"video":case"audio":for(s=0;s<Xs.length;s++)fe(Xs[s],r);break;case"source":fe("error",r);break;case"img":case"image":case"link":fe("error",r),fe("load",r);break;case"details":fe("toggle",r);break;case"input":lf(r,i),fe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},fe("invalid",r);break;case"textarea":uf(r,i),fe("invalid",r)}Cu(n,i),s=null;for(var l in i)if(i.hasOwnProperty(l)){var a=i[l];l==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&wo(r.textContent,a,t),s=["children",""+a]):fi.hasOwnProperty(l)&&a!=null&&l==="onScroll"&&fe("scroll",r)}switch(n){case"input":fo(r),af(r,i,!0);break;case"textarea":fo(r),cf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=il)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fm(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),n==="select"&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Gt]=e,t[ki]=r,hy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Nu(n,r),n){case"dialog":fe("cancel",t),fe("close",t),s=r;break;case"iframe":case"object":case"embed":fe("load",t),s=r;break;case"video":case"audio":for(s=0;s<Xs.length;s++)fe(Xs[s],t);s=r;break;case"source":fe("error",t),s=r;break;case"img":case"image":case"link":fe("error",t),fe("load",t),s=r;break;case"details":fe("toggle",t),s=r;break;case"input":lf(t,r),s=Eu(t,r),fe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=we({},r,{value:void 0}),fe("invalid",t);break;case"textarea":uf(t,r),s=Tu(t,r),fe("invalid",t);break;default:s=r}Cu(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?$m(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Um(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&pi(t,c):typeof c=="number"&&pi(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(fi.hasOwnProperty(i)?c!=null&&i==="onScroll"&&fe("scroll",t):c!=null&&zc(t,i,c,l))}switch(n){case"input":fo(t),af(t,r,!1);break;case"textarea":fo(t),cf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Bn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return qe(e),null;case 6:if(t&&e.stateNode!=null)fy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(F(166));if(n=ar(Ti.current),ar(qt.current),Eo(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gt]=e,(i=r.nodeValue!==n)&&(t=xt,t!==null))switch(t.tag){case 3:wo(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wo(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gt]=e,e.stateNode=r}return qe(e),null;case 13:if(pe(_e),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ge&&_t!==null&&e.mode&1&&!(e.flags&128))Rg(),ss(),e.flags|=98560,i=!1;else if(i=Eo(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(F(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(F(317));i[Gt]=e}else ss(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;qe(e),i=!1}else bt!==null&&(ac(bt),bt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||_e.current&1?De===0&&(De=3):_h())),e.updateQueue!==null&&(e.flags|=4),qe(e),null);case 4:return os(),ec(t,e),t===null&&wi(e.stateNode.containerInfo),qe(e),null;case 10:return nh(e.type._context),qe(e),null;case 17:return pt(e.type)&&ol(),qe(e),null;case 19:if(pe(_e),i=e.memoizedState,i===null)return qe(e),null;if(r=(e.flags&128)!==0,l=i.rendering,l===null)if(r)Hs(i,!1);else{if(De!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=fl(t),l!==null){for(e.flags|=128,Hs(i,!1),r=l.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,l=i.alternate,l===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,t=l.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ce(_e,_e.current&1|2),e.child}t=t.sibling}i.tail!==null&&Te()>as&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304)}else{if(!r)if(t=fl(l),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hs(i,!0),i.tail===null&&i.tailMode==="hidden"&&!l.alternate&&!ge)return qe(e),null}else 2*Te()-i.renderingStartTime>as&&n!==1073741824&&(e.flags|=128,r=!0,Hs(i,!1),e.lanes=4194304);i.isBackwards?(l.sibling=e.child,e.child=l):(n=i.last,n!==null?n.sibling=l:e.child=l,i.last=l)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Te(),e.sibling=null,n=_e.current,ce(_e,r?n&1|2:n&1),e):(qe(e),null);case 22:case 23:return vh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vt&1073741824&&(qe(e),e.subtreeFlags&6&&(e.flags|=8192)):qe(e),null;case 24:return null;case 25:return null}throw Error(F(156,e.tag))}function $_(t,e){switch(Jc(e),e.tag){case 1:return pt(e.type)&&ol(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return os(),pe(ft),pe(tt),lh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return oh(e),null;case 13:if(pe(_e),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(F(340));ss()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return pe(_e),null;case 4:return os(),null;case 10:return nh(e.type._context),null;case 22:case 23:return vh(),null;case 24:return null;default:return null}}var To=!1,Je=!1,H_=typeof WeakSet=="function"?WeakSet:Set,H=null;function Wr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ke(t,e,r)}else n.current=null}function tc(t,e,n){try{n()}catch(r){ke(t,e,r)}}var Zf=!1;function W_(t,e){if(Lu=nl,t=yg(),Xc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var l=0,a=-1,c=-1,d=0,p=0,g=t,m=null;t:for(;;){for(var N;g!==n||s!==0&&g.nodeType!==3||(a=l+s),g!==i||r!==0&&g.nodeType!==3||(c=l+r),g.nodeType===3&&(l+=g.nodeValue.length),(N=g.firstChild)!==null;)m=g,g=N;for(;;){if(g===t)break t;if(m===n&&++d===s&&(a=l),m===i&&++p===r&&(c=l),(N=g.nextSibling)!==null)break;g=m,m=g.parentNode}g=N}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ou={focusedElem:t,selectionRange:n},nl=!1,H=e;H!==null;)if(e=H,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,H=t;else for(;H!==null;){e=H;try{var A=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(A!==null){var R=A.memoizedProps,M=A.memoizedState,T=e.stateNode,x=T.getSnapshotBeforeUpdate(e.elementType===e.type?R:jt(e.type,R),M);T.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(j){ke(e,e.return,j)}if(t=e.sibling,t!==null){t.return=e.return,H=t;break}H=e.return}return A=Zf,Zf=!1,A}function si(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&tc(e,n,i)}s=s.next}while(s!==r)}}function Gl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function nc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function py(t){var e=t.alternate;e!==null&&(t.alternate=null,py(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gt],delete e[ki],delete e[Bu],delete e[C_],delete e[N_])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function my(t){return t.tag===5||t.tag===3||t.tag===4}function ep(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||my(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function rc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=il));else if(r!==4&&(t=t.child,t!==null))for(rc(t,e,n),t=t.sibling;t!==null;)rc(t,e,n),t=t.sibling}function sc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(sc(t,e,n),t=t.sibling;t!==null;)sc(t,e,n),t=t.sibling}var Fe=null,Dt=!1;function Sn(t,e,n){for(n=n.child;n!==null;)gy(t,e,n),n=n.sibling}function gy(t,e,n){if(Qt&&typeof Qt.onCommitFiberUnmount=="function")try{Qt.onCommitFiberUnmount(Ol,n)}catch{}switch(n.tag){case 5:Je||Wr(n,e);case 6:var r=Fe,s=Dt;Fe=null,Sn(t,e,n),Fe=r,Dt=s,Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Fe.removeChild(n.stateNode));break;case 18:Fe!==null&&(Dt?(t=Fe,n=n.stateNode,t.nodeType===8?Ya(t.parentNode,n):t.nodeType===1&&Ya(t,n),vi(t)):Ya(Fe,n.stateNode));break;case 4:r=Fe,s=Dt,Fe=n.stateNode.containerInfo,Dt=!0,Sn(t,e,n),Fe=r,Dt=s;break;case 0:case 11:case 14:case 15:if(!Je&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,l=i.destroy;i=i.tag,l!==void 0&&(i&2||i&4)&&tc(n,e,l),s=s.next}while(s!==r)}Sn(t,e,n);break;case 1:if(!Je&&(Wr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ke(n,e,a)}Sn(t,e,n);break;case 21:Sn(t,e,n);break;case 22:n.mode&1?(Je=(r=Je)||n.memoizedState!==null,Sn(t,e,n),Je=r):Sn(t,e,n);break;default:Sn(t,e,n)}}function tp(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new H_),e.forEach(function(r){var s=ex.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Pt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,l=e,a=l;e:for(;a!==null;){switch(a.tag){case 5:Fe=a.stateNode,Dt=!1;break e;case 3:Fe=a.stateNode.containerInfo,Dt=!0;break e;case 4:Fe=a.stateNode.containerInfo,Dt=!0;break e}a=a.return}if(Fe===null)throw Error(F(160));gy(i,l,s),Fe=null,Dt=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ke(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)yy(e,t),e=e.sibling}function yy(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pt(e,t),Ht(t),r&4){try{si(3,t,t.return),Gl(3,t)}catch(R){ke(t,t.return,R)}try{si(5,t,t.return)}catch(R){ke(t,t.return,R)}}break;case 1:Pt(e,t),Ht(t),r&512&&n!==null&&Wr(n,n.return);break;case 5:if(Pt(e,t),Ht(t),r&512&&n!==null&&Wr(n,n.return),t.flags&32){var s=t.stateNode;try{pi(s,"")}catch(R){ke(t,t.return,R)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,l=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Lm(s,i),Nu(a,l);var d=Nu(a,i);for(l=0;l<c.length;l+=2){var p=c[l],g=c[l+1];p==="style"?$m(s,g):p==="dangerouslySetInnerHTML"?Um(s,g):p==="children"?pi(s,g):zc(s,p,g,d)}switch(a){case"input":ku(s,i);break;case"textarea":Om(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var N=i.value;N!=null?Gr(s,!!i.multiple,N,!1):m!==!!i.multiple&&(i.defaultValue!=null?Gr(s,!!i.multiple,i.defaultValue,!0):Gr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ki]=i}catch(R){ke(t,t.return,R)}}break;case 6:if(Pt(e,t),Ht(t),r&4){if(t.stateNode===null)throw Error(F(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(R){ke(t,t.return,R)}}break;case 3:if(Pt(e,t),Ht(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(R){ke(t,t.return,R)}break;case 4:Pt(e,t),Ht(t);break;case 13:Pt(e,t),Ht(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gh=Te())),r&4&&tp(t);break;case 22:if(p=n!==null&&n.memoizedState!==null,t.mode&1?(Je=(d=Je)||p,Pt(e,t),Je=d):Pt(e,t),Ht(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(H=t,p=t.child;p!==null;){for(g=H=p;H!==null;){switch(m=H,N=m.child,m.tag){case 0:case 11:case 14:case 15:si(4,m,m.return);break;case 1:Wr(m,m.return);var A=m.stateNode;if(typeof A.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,A.props=e.memoizedProps,A.state=e.memoizedState,A.componentWillUnmount()}catch(R){ke(r,n,R)}}break;case 5:Wr(m,m.return);break;case 22:if(m.memoizedState!==null){rp(g);continue}}N!==null?(N.return=m,H=N):rp(g)}p=p.sibling}e:for(p=null,g=t;;){if(g.tag===5){if(p===null){p=g;try{s=g.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=g.stateNode,c=g.memoizedProps.style,l=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=Bm("display",l))}catch(R){ke(t,t.return,R)}}}else if(g.tag===6){if(p===null)try{g.stateNode.nodeValue=d?"":g.memoizedProps}catch(R){ke(t,t.return,R)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;p===g&&(p=null),g=g.return}p===g&&(p=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Pt(e,t),Ht(t),r&4&&tp(t);break;case 21:break;default:Pt(e,t),Ht(t)}}function Ht(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(my(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(pi(s,""),r.flags&=-33);var i=ep(t);sc(t,i,s);break;case 3:case 4:var l=r.stateNode.containerInfo,a=ep(t);rc(t,a,l);break;default:throw Error(F(161))}}catch(c){ke(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function K_(t,e,n){H=t,vy(t)}function vy(t,e,n){for(var r=(t.mode&1)!==0;H!==null;){var s=H,i=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||To;if(!l){var a=s.alternate,c=a!==null&&a.memoizedState!==null||Je;a=To;var d=Je;if(To=l,(Je=c)&&!d)for(H=s;H!==null;)l=H,c=l.child,l.tag===22&&l.memoizedState!==null?sp(s):c!==null?(c.return=l,H=c):sp(s);for(;i!==null;)H=i,vy(i),i=i.sibling;H=s,To=a,Je=d}np(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,H=i):np(t)}}function np(t){for(;H!==null;){var e=H;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Je||Gl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Je)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:jt(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Of(e,i,r);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Of(e,l,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var g=p.dehydrated;g!==null&&vi(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Je||e.flags&512&&nc(e)}catch(m){ke(e,e.return,m)}}if(e===t){H=null;break}if(n=e.sibling,n!==null){n.return=e.return,H=n;break}H=e.return}}function rp(t){for(;H!==null;){var e=H;if(e===t){H=null;break}var n=e.sibling;if(n!==null){n.return=e.return,H=n;break}H=e.return}}function sp(t){for(;H!==null;){var e=H;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Gl(4,e)}catch(c){ke(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ke(e,s,c)}}var i=e.return;try{nc(e)}catch(c){ke(e,i,c)}break;case 5:var l=e.return;try{nc(e)}catch(c){ke(e,l,c)}}}catch(c){ke(e,e.return,c)}if(e===t){H=null;break}var a=e.sibling;if(a!==null){a.return=e.return,H=a;break}H=e.return}}var G_=Math.ceil,gl=gn.ReactCurrentDispatcher,ph=gn.ReactCurrentOwner,Ct=gn.ReactCurrentBatchConfig,ne=0,Le=null,Ne=null,He=0,vt=0,Kr=qn(0),De=0,Ai=null,vr=0,Ql=0,mh=0,ii=null,ht=null,gh=0,as=1/0,nn=null,yl=!1,ic=null,zn=null,Io=!1,Rn=null,vl=0,oi=0,oc=null,$o=-1,Ho=0;function it(){return ne&6?Te():$o!==-1?$o:$o=Te()}function Ln(t){return t.mode&1?ne&2&&He!==0?He&-He:R_.transition!==null?(Ho===0&&(Ho=tg()),Ho):(t=le,t!==0||(t=window.event,t=t===void 0?16:ag(t.type)),t):1}function Ft(t,e,n,r){if(50<oi)throw oi=0,oc=null,Error(F(185));Ui(t,n,r),(!(ne&2)||t!==Le)&&(t===Le&&(!(ne&2)&&(Ql|=n),De===4&&Nn(t,He)),mt(t,r),n===1&&ne===0&&!(e.mode&1)&&(as=Te()+500,Hl&&Xn()))}function mt(t,e){var n=t.callbackNode;R1(t,e);var r=tl(t,t===Le?He:0);if(r===0)n!==null&&ff(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ff(n),e===1)t.tag===0?A_(ip.bind(null,t)):Cg(ip.bind(null,t)),T_(function(){!(ne&6)&&Xn()}),n=null;else{switch(ng(r)){case 1:n=Bc;break;case 4:n=Zm;break;case 16:n=el;break;case 536870912:n=eg;break;default:n=el}n=Iy(n,_y.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function _y(t,e){if($o=-1,Ho=0,ne&6)throw Error(F(327));var n=t.callbackNode;if(Jr()&&t.callbackNode!==n)return null;var r=tl(t,t===Le?He:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=_l(t,r);else{e=r;var s=ne;ne|=2;var i=wy();(Le!==t||He!==e)&&(nn=null,as=Te()+500,cr(t,e));do try{X_();break}catch(a){xy(t,a)}while(!0);th(),gl.current=i,ne=s,Ne!==null?e=0:(Le=null,He=0,e=De)}if(e!==0){if(e===2&&(s=Du(t),s!==0&&(r=s,e=lc(t,s))),e===1)throw n=Ai,cr(t,0),Nn(t,r),mt(t,Te()),n;if(e===6)Nn(t,r);else{if(s=t.current.alternate,!(r&30)&&!Q_(s)&&(e=_l(t,r),e===2&&(i=Du(t),i!==0&&(r=i,e=lc(t,i))),e===1))throw n=Ai,cr(t,0),Nn(t,r),mt(t,Te()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(F(345));case 2:sr(t,ht,nn);break;case 3:if(Nn(t,r),(r&130023424)===r&&(e=gh+500-Te(),10<e)){if(tl(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){it(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Uu(sr.bind(null,t,ht,nn),e);break}sr(t,ht,nn);break;case 4:if(Nn(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var l=31-Ot(r);i=1<<l,l=e[l],l>s&&(s=l),r&=~i}if(r=s,r=Te()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*G_(r/1960))-r,10<r){t.timeoutHandle=Uu(sr.bind(null,t,ht,nn),r);break}sr(t,ht,nn);break;case 5:sr(t,ht,nn);break;default:throw Error(F(329))}}}return mt(t,Te()),t.callbackNode===n?_y.bind(null,t):null}function lc(t,e){var n=ii;return t.current.memoizedState.isDehydrated&&(cr(t,e).flags|=256),t=_l(t,e),t!==2&&(e=ht,ht=n,e!==null&&ac(e)),t}function ac(t){ht===null?ht=t:ht.push.apply(ht,t)}function Q_(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ut(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nn(t,e){for(e&=~mh,e&=~Ql,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function ip(t){if(ne&6)throw Error(F(327));Jr();var e=tl(t,0);if(!(e&1))return mt(t,Te()),null;var n=_l(t,e);if(t.tag!==0&&n===2){var r=Du(t);r!==0&&(e=r,n=lc(t,r))}if(n===1)throw n=Ai,cr(t,0),Nn(t,e),mt(t,Te()),n;if(n===6)throw Error(F(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,sr(t,ht,nn),mt(t,Te()),null}function yh(t,e){var n=ne;ne|=1;try{return t(e)}finally{ne=n,ne===0&&(as=Te()+500,Hl&&Xn())}}function _r(t){Rn!==null&&Rn.tag===0&&!(ne&6)&&Jr();var e=ne;ne|=1;var n=Ct.transition,r=le;try{if(Ct.transition=null,le=1,t)return t()}finally{le=r,Ct.transition=n,ne=e,!(ne&6)&&Xn()}}function vh(){vt=Kr.current,pe(Kr)}function cr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,S_(n)),Ne!==null)for(n=Ne.return;n!==null;){var r=n;switch(Jc(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ol();break;case 3:os(),pe(ft),pe(tt),lh();break;case 5:oh(r);break;case 4:os();break;case 13:pe(_e);break;case 19:pe(_e);break;case 10:nh(r.type._context);break;case 22:case 23:vh()}n=n.return}if(Le=t,Ne=t=On(t.current,null),He=vt=e,De=0,Ai=null,mh=Ql=vr=0,ht=ii=null,lr!==null){for(e=0;e<lr.length;e++)if(n=lr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var l=i.next;i.next=s,r.next=l}n.pending=r}lr=null}return t}function xy(t,e){do{var n=Ne;try{if(th(),Fo.current=ml,pl){for(var r=xe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pl=!1}if(yr=0,Me=je=xe=null,ri=!1,Ii=0,ph.current=null,n===null||n.return===null){De=1,Ai=e,Ne=null;break}e:{var i=t,l=n.return,a=n,c=e;if(e=He,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=a,g=p.tag;if(!(p.mode&1)&&(g===0||g===11||g===15)){var m=p.alternate;m?(p.updateQueue=m.updateQueue,p.memoizedState=m.memoizedState,p.lanes=m.lanes):(p.updateQueue=null,p.memoizedState=null)}var N=Kf(l);if(N!==null){N.flags&=-257,Gf(N,l,a,i,e),N.mode&1&&Wf(i,d,e),e=N,c=d;var A=e.updateQueue;if(A===null){var R=new Set;R.add(c),e.updateQueue=R}else A.add(c);break e}else{if(!(e&1)){Wf(i,d,e),_h();break e}c=Error(F(426))}}else if(ge&&a.mode&1){var M=Kf(l);if(M!==null){!(M.flags&65536)&&(M.flags|=256),Gf(M,l,a,i,e),Zc(ls(c,a));break e}}i=c=ls(c,a),De!==4&&(De=2),ii===null?ii=[i]:ii.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var T=ry(i,c,e);Lf(i,T);break e;case 1:a=c;var x=i.type,I=i.stateNode;if(!(i.flags&128)&&(typeof x.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(zn===null||!zn.has(I)))){i.flags|=65536,e&=-e,i.lanes|=e;var j=sy(i,a,e);Lf(i,j);break e}}i=i.return}while(i!==null)}ky(n)}catch(b){e=b,Ne===n&&n!==null&&(Ne=n=n.return);continue}break}while(!0)}function wy(){var t=gl.current;return gl.current=ml,t===null?ml:t}function _h(){(De===0||De===3||De===2)&&(De=4),Le===null||!(vr&268435455)&&!(Ql&268435455)||Nn(Le,He)}function _l(t,e){var n=ne;ne|=2;var r=wy();(Le!==t||He!==e)&&(nn=null,cr(t,e));do try{q_();break}catch(s){xy(t,s)}while(!0);if(th(),ne=n,gl.current=r,Ne!==null)throw Error(F(261));return Le=null,He=0,De}function q_(){for(;Ne!==null;)Ey(Ne)}function X_(){for(;Ne!==null&&!w1();)Ey(Ne)}function Ey(t){var e=Ty(t.alternate,t,vt);t.memoizedProps=t.pendingProps,e===null?ky(t):Ne=e,ph.current=null}function ky(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$_(n,e),n!==null){n.flags&=32767,Ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{De=6,Ne=null;return}}else if(n=B_(n,e,vt),n!==null){Ne=n;return}if(e=e.sibling,e!==null){Ne=e;return}Ne=e=t}while(e!==null);De===0&&(De=5)}function sr(t,e,n){var r=le,s=Ct.transition;try{Ct.transition=null,le=1,Y_(t,e,n,r)}finally{Ct.transition=s,le=r}return null}function Y_(t,e,n,r){do Jr();while(Rn!==null);if(ne&6)throw Error(F(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(F(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(P1(t,i),t===Le&&(Ne=Le=null,He=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Io||(Io=!0,Iy(el,function(){return Jr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Ct.transition,Ct.transition=null;var l=le;le=1;var a=ne;ne|=4,ph.current=null,W_(t,n),yy(n,t),y_(Ou),nl=!!Lu,Ou=Lu=null,t.current=n,K_(n),E1(),ne=a,le=l,Ct.transition=i}else t.current=n;if(Io&&(Io=!1,Rn=t,vl=s),i=t.pendingLanes,i===0&&(zn=null),T1(n.stateNode),mt(t,Te()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(yl)throw yl=!1,t=ic,ic=null,t;return vl&1&&t.tag!==0&&Jr(),i=t.pendingLanes,i&1?t===oc?oi++:(oi=0,oc=t):oi=0,Xn(),null}function Jr(){if(Rn!==null){var t=ng(vl),e=Ct.transition,n=le;try{if(Ct.transition=null,le=16>t?16:t,Rn===null)var r=!1;else{if(t=Rn,Rn=null,vl=0,ne&6)throw Error(F(331));var s=ne;for(ne|=4,H=t.current;H!==null;){var i=H,l=i.child;if(H.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(H=d;H!==null;){var p=H;switch(p.tag){case 0:case 11:case 15:si(8,p,i)}var g=p.child;if(g!==null)g.return=p,H=g;else for(;H!==null;){p=H;var m=p.sibling,N=p.return;if(py(p),p===d){H=null;break}if(m!==null){m.return=N,H=m;break}H=N}}}var A=i.alternate;if(A!==null){var R=A.child;if(R!==null){A.child=null;do{var M=R.sibling;R.sibling=null,R=M}while(R!==null)}}H=i}}if(i.subtreeFlags&2064&&l!==null)l.return=i,H=l;else e:for(;H!==null;){if(i=H,i.flags&2048)switch(i.tag){case 0:case 11:case 15:si(9,i,i.return)}var T=i.sibling;if(T!==null){T.return=i.return,H=T;break e}H=i.return}}var x=t.current;for(H=x;H!==null;){l=H;var I=l.child;if(l.subtreeFlags&2064&&I!==null)I.return=l,H=I;else e:for(l=x;H!==null;){if(a=H,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Gl(9,a)}}catch(b){ke(a,a.return,b)}if(a===l){H=null;break e}var j=a.sibling;if(j!==null){j.return=a.return,H=j;break e}H=a.return}}if(ne=s,Xn(),Qt&&typeof Qt.onPostCommitFiberRoot=="function")try{Qt.onPostCommitFiberRoot(Ol,t)}catch{}r=!0}return r}finally{le=n,Ct.transition=e}}return!1}function op(t,e,n){e=ls(n,e),e=ry(t,e,1),t=Mn(t,e,1),e=it(),t!==null&&(Ui(t,1,e),mt(t,e))}function ke(t,e,n){if(t.tag===3)op(t,t,n);else for(;e!==null;){if(e.tag===3){op(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){t=ls(n,t),t=sy(e,t,1),e=Mn(e,t,1),t=it(),e!==null&&(Ui(e,1,t),mt(e,t));break}}e=e.return}}function J_(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=it(),t.pingedLanes|=t.suspendedLanes&n,Le===t&&(He&n)===n&&(De===4||De===3&&(He&130023424)===He&&500>Te()-gh?cr(t,0):mh|=n),mt(t,e)}function Sy(t,e){e===0&&(t.mode&1?(e=go,go<<=1,!(go&130023424)&&(go=4194304)):e=1);var n=it();t=fn(t,e),t!==null&&(Ui(t,e,n),mt(t,n))}function Z_(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Sy(t,n)}function ex(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(e),Sy(t,n)}var Ty;Ty=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ft.current)dt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dt=!1,U_(t,e,n);dt=!!(t.flags&131072)}else dt=!1,ge&&e.flags&1048576&&Ng(e,ul,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Bo(t,e),t=e.pendingProps;var s=rs(e,tt.current);Yr(e,n),s=uh(null,e,r,t,s,n);var i=ch();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,pt(r)?(i=!0,ll(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sh(e),s.updater=Wl,e.stateNode=s,s._reactInternals=e,Qu(e,r,t,n),e=Yu(null,e,r,!0,i,n)):(e.tag=0,ge&&i&&Yc(e),st(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Bo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=nx(r),t=jt(r,t),s){case 0:e=Xu(null,e,r,t,n);break e;case 1:e=Xf(null,e,r,t,n);break e;case 11:e=Qf(null,e,r,t,n);break e;case 14:e=qf(null,e,r,jt(r.type,t),n);break e}throw Error(F(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Xu(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Xf(t,e,r,s,n);case 3:e:{if(ay(e),t===null)throw Error(F(387));r=e.pendingProps,i=e.memoizedState,s=i.element,jg(t,e),dl(e,r,null,n);var l=e.memoizedState;if(r=l.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ls(Error(F(423)),e),e=Yf(t,e,r,n,s);break e}else if(r!==s){s=ls(Error(F(424)),e),e=Yf(t,e,r,n,s);break e}else for(_t=Vn(e.stateNode.containerInfo.firstChild),xt=e,ge=!0,bt=null,n=Mg(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(ss(),r===s){e=pn(t,e,n);break e}st(t,e,r,n)}e=e.child}return e;case 5:return zg(e),t===null&&Wu(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,l=s.children,Fu(r,s)?l=null:i!==null&&Fu(r,i)&&(e.flags|=32),ly(t,e),st(t,e,l,n),e.child;case 6:return t===null&&Wu(e),null;case 13:return uy(t,e,n);case 4:return ih(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=is(e,null,r,n):st(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Qf(t,e,r,s,n);case 7:return st(t,e,e.pendingProps,n),e.child;case 8:return st(t,e,e.pendingProps.children,n),e.child;case 12:return st(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,l=s.value,ce(cl,r._currentValue),r._currentValue=l,i!==null)if(Ut(i.value,l)){if(i.children===s.children&&!ft.current){e=pn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){l=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ln(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Ku(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)l=i.type===e.type?null:i.child;else if(i.tag===18){if(l=i.return,l===null)throw Error(F(341));l.lanes|=n,a=l.alternate,a!==null&&(a.lanes|=n),Ku(l,n,e),l=i.sibling}else l=i.child;if(l!==null)l.return=i;else for(l=i;l!==null;){if(l===e){l=null;break}if(i=l.sibling,i!==null){i.return=l.return,l=i;break}l=l.return}i=l}st(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Yr(e,n),s=Nt(s),r=r(s),e.flags|=1,st(t,e,r,n),e.child;case 14:return r=e.type,s=jt(r,e.pendingProps),s=jt(r.type,s),qf(t,e,r,s,n);case 15:return iy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:jt(r,s),Bo(t,e),e.tag=1,pt(r)?(t=!0,ll(e)):t=!1,Yr(e,n),bg(e,r,s),Qu(e,r,s,n),Yu(null,e,r,!0,t,n);case 19:return cy(t,e,n);case 22:return oy(t,e,n)}throw Error(F(156,e.tag))};function Iy(t,e){return Jm(t,e)}function tx(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new tx(t,e,n,r)}function xh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function nx(t){if(typeof t=="function")return xh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Oc)return 11;if(t===Fc)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wo(t,e,n,r,s,i){var l=2;if(r=t,typeof t=="function")xh(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case Mr:return hr(n.children,s,i,e);case Lc:l=8,s|=8;break;case vu:return t=It(12,n,e,s|2),t.elementType=vu,t.lanes=i,t;case _u:return t=It(13,n,e,s),t.elementType=_u,t.lanes=i,t;case xu:return t=It(19,n,e,s),t.elementType=xu,t.lanes=i,t;case Vm:return ql(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dm:l=10;break e;case bm:l=9;break e;case Oc:l=11;break e;case Fc:l=14;break e;case Tn:l=16,r=null;break e}throw Error(F(130,t==null?t:typeof t,""))}return e=It(l,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function hr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function ql(t,e,n,r){return t=It(22,t,r,e),t.elementType=Vm,t.lanes=n,t.stateNode={isHidden:!1},t}function iu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function ou(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function rx(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function wh(t,e,n,r,s,i,l,a,c){return t=new rx(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sh(i),t}function sx(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Cy(t){if(!t)return $n;t=t._reactInternals;e:{if(Tr(t)!==t||t.tag!==1)throw Error(F(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(pt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(F(171))}if(t.tag===1){var n=t.type;if(pt(n))return Ig(t,n,e)}return e}function Ny(t,e,n,r,s,i,l,a,c){return t=wh(n,r,!0,t,s,i,l,a,c),t.context=Cy(null),n=t.current,r=it(),s=Ln(n),i=ln(r,s),i.callback=e??null,Mn(n,i,s),t.current.lanes=s,Ui(t,s,r),mt(t,r),t}function Xl(t,e,n,r){var s=e.current,i=it(),l=Ln(s);return n=Cy(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(i,l),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Mn(s,e,l),t!==null&&(Ft(t,s,l,i),Oo(t,s,l)),l}function xl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function lp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Eh(t,e){lp(t,e),(t=t.alternate)&&lp(t,e)}function ix(){return null}var Ay=typeof reportError=="function"?reportError:function(t){console.error(t)};function kh(t){this._internalRoot=t}Yl.prototype.render=kh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(F(409));Xl(t,e,null,null)};Yl.prototype.unmount=kh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){Xl(null,t,null,null)}),e[dn]=null}};function Yl(t){this._internalRoot=t}Yl.prototype.unstable_scheduleHydration=function(t){if(t){var e=ig();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Cn.length&&e!==0&&e<Cn[n].priority;n++);Cn.splice(n,0,t),n===0&&lg(t)}};function Sh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Jl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ap(){}function ox(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=xl(l);i.call(d)}}var l=Ny(e,r,t,0,null,!1,!1,"",ap);return t._reactRootContainer=l,t[dn]=l.current,wi(t.nodeType===8?t.parentNode:t),_r(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=xl(c);a.call(d)}}var c=wh(t,0,!1,null,null,!1,!1,"",ap);return t._reactRootContainer=c,t[dn]=c.current,wi(t.nodeType===8?t.parentNode:t),_r(function(){Xl(e,c,n,r)}),c}function Zl(t,e,n,r,s){var i=n._reactRootContainer;if(i){var l=i;if(typeof s=="function"){var a=s;s=function(){var c=xl(l);a.call(c)}}Xl(e,l,t,s)}else l=ox(n,e,t,s,r);return xl(l)}rg=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=qs(e.pendingLanes);n!==0&&($c(e,n|1),mt(e,Te()),!(ne&6)&&(as=Te()+500,Xn()))}break;case 13:_r(function(){var r=fn(t,1);if(r!==null){var s=it();Ft(r,t,1,s)}}),Eh(t,1)}};Hc=function(t){if(t.tag===13){var e=fn(t,134217728);if(e!==null){var n=it();Ft(e,t,134217728,n)}Eh(t,134217728)}};sg=function(t){if(t.tag===13){var e=Ln(t),n=fn(t,e);if(n!==null){var r=it();Ft(n,t,e,r)}Eh(t,e)}};ig=function(){return le};og=function(t,e){var n=le;try{return le=t,e()}finally{le=n}};Ru=function(t,e,n){switch(e){case"input":if(ku(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=$l(r);if(!s)throw Error(F(90));zm(r),ku(r,s)}}}break;case"textarea":Om(t,n);break;case"select":e=n.value,e!=null&&Gr(t,!!n.multiple,e,!1)}};Km=yh;Gm=_r;var lx={usingClientEntryPoint:!1,Events:[$i,Fr,$l,Hm,Wm,yh]},Ws={findFiberByHostInstance:or,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ax={bundleType:Ws.bundleType,version:Ws.version,rendererPackageName:Ws.rendererPackageName,rendererConfig:Ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Xm(t),t===null?null:t.stateNode},findFiberByHostInstance:Ws.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Co.isDisabled&&Co.supportsFiber)try{Ol=Co.inject(ax),Qt=Co}catch{}}Et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx;Et.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sh(e))throw Error(F(200));return sx(t,e,null,n)};Et.createRoot=function(t,e){if(!Sh(t))throw Error(F(299));var n=!1,r="",s=Ay;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=wh(t,1,!1,null,null,n,!1,r,s),t[dn]=e.current,wi(t.nodeType===8?t.parentNode:t),new kh(e)};Et.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(F(188)):(t=Object.keys(t).join(","),Error(F(268,t)));return t=Xm(e),t=t===null?null:t.stateNode,t};Et.flushSync=function(t){return _r(t)};Et.hydrate=function(t,e,n){if(!Jl(e))throw Error(F(200));return Zl(null,t,e,!0,n)};Et.hydrateRoot=function(t,e,n){if(!Sh(t))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",l=Ay;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Ny(e,null,t,1,n??null,s,!1,i,l),t[dn]=e.current,wi(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yl(e)};Et.render=function(t,e,n){if(!Jl(e))throw Error(F(200));return Zl(null,t,e,!1,n)};Et.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(F(40));return t._reactRootContainer?(_r(function(){Zl(null,null,t,!1,function(){t._reactRootContainer=null,t[dn]=null})}),!0):!1};Et.unstable_batchedUpdates=yh;Et.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Jl(n))throw Error(F(200));if(t==null||t._reactInternals===void 0)throw Error(F(38));return Zl(t,e,n,!1,r)};Et.version="18.2.0-next-9e3b772b8-20220608";function Ry(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ry)}catch(t){console.error(t)}}Ry(),Nm.exports=Et;var ux=Nm.exports,Py,up=ux;Py=up.createRoot,up.hydrateRoot;/**
 * @remix-run/router v1.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ri(){return Ri=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ri.apply(this,arguments)}var Pn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Pn||(Pn={}));const cp="popstate";function cx(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:l,hash:a}=r.location;return uc("",{pathname:i,search:l,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:jy(s)}return dx(e,n,null,t)}function Re(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Th(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function hx(){return Math.random().toString(36).substr(2,8)}function hp(t,e){return{usr:t.state,key:t.key,idx:e}}function uc(t,e,n,r){return n===void 0&&(n=null),Ri({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vs(e):e,{state:n,key:e&&e.key||r||hx()})}function jy(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function vs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function dx(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,l=s.history,a=Pn.Pop,c=null,d=p();d==null&&(d=0,l.replaceState(Ri({},l.state,{idx:d}),""));function p(){return(l.state||{idx:null}).idx}function g(){a=Pn.Pop;let M=p(),T=M==null?null:M-d;d=M,c&&c({action:a,location:R.location,delta:T})}function m(M,T){a=Pn.Push;let x=uc(R.location,M,T);d=p()+1;let I=hp(x,d),j=R.createHref(x);try{l.pushState(I,"",j)}catch(b){if(b instanceof DOMException&&b.name==="DataCloneError")throw b;s.location.assign(j)}i&&c&&c({action:a,location:R.location,delta:1})}function N(M,T){a=Pn.Replace;let x=uc(R.location,M,T);d=p();let I=hp(x,d),j=R.createHref(x);l.replaceState(I,"",j),i&&c&&c({action:a,location:R.location,delta:0})}function A(M){let T=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof M=="string"?M:jy(M);return Re(T,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,T)}let R={get action(){return a},get location(){return t(s,l)},listen(M){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(cp,g),c=M,()=>{s.removeEventListener(cp,g),c=null}},createHref(M){return e(s,M)},createURL:A,encodeLocation(M){let T=A(M);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:N,go(M){return l.go(M)}};return R}var dp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dp||(dp={}));function fx(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?vs(e):e,s=Vy(r.pathname||"/",n);if(s==null)return null;let i=Dy(t);px(i);let l=null;for(let a=0;l==null&&a<i.length;++a)l=kx(i[a],Ix(s));return l}function Dy(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,l,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};c.relativePath.startsWith("/")&&(Re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=dr([r,c.relativePath]),p=n.concat(c);i.children&&i.children.length>0&&(Re(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Dy(i.children,e,p,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:wx(d,i.index),routesMeta:p})};return t.forEach((i,l)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,l);else for(let c of by(i.path))s(i,l,c)}),e}function by(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let l=by(r.join("/")),a=[];return a.push(...l.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...l),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function px(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Ex(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const mx=/^:\w+$/,gx=3,yx=2,vx=1,_x=10,xx=-2,fp=t=>t==="*";function wx(t,e){let n=t.split("/"),r=n.length;return n.some(fp)&&(r+=xx),e&&(r+=yx),n.filter(s=>!fp(s)).reduce((s,i)=>s+(mx.test(i)?gx:i===""?vx:_x),r)}function Ex(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function kx(t,e){let{routesMeta:n}=t,r={},s="/",i=[];for(let l=0;l<n.length;++l){let a=n[l],c=l===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",p=Sx({path:a.relativePath,caseSensitive:a.caseSensitive,end:c},d);if(!p)return null;Object.assign(r,p.params);let g=a.route;i.push({params:r,pathname:dr([s,p.pathname]),pathnameBase:Rx(dr([s,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(s=dr([s,p.pathnameBase]))}return i}function Sx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Tx(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],l=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,p,g)=>{if(p==="*"){let m=a[g]||"";l=i.slice(0,i.length-m.length).replace(/(.)\/+$/,"$1")}return d[p]=Cx(a[g]||"",p),d},{}),pathname:i,pathnameBase:l,pattern:t}}function Tx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Th(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(l,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ix(t){try{return decodeURI(t)}catch(e){return Th(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Cx(t,e){try{return decodeURIComponent(t)}catch(n){return Th(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Vy(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Nx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?vs(t):t;return{pathname:n?n.startsWith("/")?n:Ax(n,e):e,search:Px(r),hash:jx(s)}}function Ax(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function lu(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function My(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function zy(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=vs(t):(s=Ri({},t),Re(!s.pathname||!s.pathname.includes("?"),lu("?","pathname","search",s)),Re(!s.pathname||!s.pathname.includes("#"),lu("#","pathname","hash",s)),Re(!s.search||!s.search.includes("#"),lu("#","search","hash",s)));let i=t===""||s.pathname==="",l=i?"/":s.pathname,a;if(r||l==null)a=n;else{let g=e.length-1;if(l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),g-=1;s.pathname=m.join("/")}a=g>=0?e[g]:"/"}let c=Nx(s,a),d=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const dr=t=>t.join("/").replace(/\/\/+/g,"/"),Rx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Px=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,jx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Dx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ly=["post","put","patch","delete"];new Set(Ly);const bx=["get",...Ly];new Set(bx);/**
 * React Router v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wl(){return wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},wl.apply(this,arguments)}const Ih=V.createContext(null),Vx=V.createContext(null),ea=V.createContext(null),ta=V.createContext(null),Yn=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Oy=V.createContext(null);function Wi(){return V.useContext(ta)!=null}function na(){return Wi()||Re(!1),V.useContext(ta).location}function Fy(t){V.useContext(ea).static||V.useLayoutEffect(t)}function Oe(){let{isDataRoute:t}=V.useContext(Yn);return t?Qx():Mx()}function Mx(){Wi()||Re(!1);let t=V.useContext(Ih),{basename:e,navigator:n}=V.useContext(ea),{matches:r}=V.useContext(Yn),{pathname:s}=na(),i=JSON.stringify(My(r).map(c=>c.pathnameBase)),l=V.useRef(!1);return Fy(()=>{l.current=!0}),V.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){n.go(c);return}let p=zy(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:dr([e,p.pathname])),(d.replace?n.replace:n.push)(p,d.state,d)},[e,n,i,s,t])}function Uy(){let{matches:t}=V.useContext(Yn),e=t[t.length-1];return e?e.params:{}}function zx(t,e){return Lx(t,e)}function Lx(t,e,n){Wi()||Re(!1);let{navigator:r}=V.useContext(ea),{matches:s}=V.useContext(Yn),i=s[s.length-1],l=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let c=na(),d;if(e){var p;let R=typeof e=="string"?vs(e):e;a==="/"||(p=R.pathname)!=null&&p.startsWith(a)||Re(!1),d=R}else d=c;let g=d.pathname||"/",m=a==="/"?g:g.slice(a.length)||"/",N=fx(t,{pathname:m}),A=$x(N&&N.map(R=>Object.assign({},R,{params:Object.assign({},l,R.params),pathname:dr([a,r.encodeLocation?r.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?a:dr([a,r.encodeLocation?r.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),s,n);return e&&A?V.createElement(ta.Provider,{value:{location:wl({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Pn.Pop}},A):A}function Ox(){let t=Gx(),e=Dx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:s},n):null,null)}const Fx=V.createElement(Ox,null);class Ux extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?V.createElement(Yn.Provider,{value:this.props.routeContext},V.createElement(Oy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Bx(t){let{routeContext:e,match:n,children:r}=t,s=V.useContext(Ih);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Yn.Provider,{value:e},r)}function $x(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var s;if((s=n)!=null&&s.errors)t=n.matches;else return null}let i=t,l=(r=n)==null?void 0:r.errors;if(l!=null){let a=i.findIndex(c=>c.route.id&&(l==null?void 0:l[c.route.id]));a>=0||Re(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,c,d)=>{let p=c.route.id?l==null?void 0:l[c.route.id]:null,g=null;n&&(g=c.route.errorElement||Fx);let m=e.concat(i.slice(0,d+1)),N=()=>{let A;return p?A=g:c.route.Component?A=V.createElement(c.route.Component,null):c.route.element?A=c.route.element:A=a,V.createElement(Bx,{match:c,routeContext:{outlet:a,matches:m,isDataRoute:n!=null},children:A})};return n&&(c.route.ErrorBoundary||c.route.errorElement||d===0)?V.createElement(Ux,{location:n.location,revalidation:n.revalidation,component:g,error:p,children:N(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):N()},null)}var cc;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(cc||(cc={}));var Pi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Pi||(Pi={}));function Hx(t){let e=V.useContext(Ih);return e||Re(!1),e}function Wx(t){let e=V.useContext(Vx);return e||Re(!1),e}function Kx(t){let e=V.useContext(Yn);return e||Re(!1),e}function By(t){let e=Kx(),n=e.matches[e.matches.length-1];return n.route.id||Re(!1),n.route.id}function Gx(){var t;let e=V.useContext(Oy),n=Wx(Pi.UseRouteError),r=By(Pi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function Qx(){let{router:t}=Hx(cc.UseNavigateStable),e=By(Pi.UseNavigateStable),n=V.useRef(!1);return Fy(()=>{n.current=!0}),V.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,wl({fromRouteId:e},i)))},[t,e])}function qx(t){let{to:e,replace:n,state:r,relative:s}=t;Wi()||Re(!1);let{matches:i}=V.useContext(Yn),{pathname:l}=na(),a=Oe(),c=zy(e,My(i).map(p=>p.pathnameBase),l,s==="path"),d=JSON.stringify(c);return V.useEffect(()=>a(JSON.parse(d),{replace:n,state:r,relative:s}),[a,d,s,n,r]),null}function oe(t){Re(!1)}function Xx(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Pn.Pop,navigator:i,static:l=!1}=t;Wi()&&Re(!1);let a=e.replace(/^\/*/,"/"),c=V.useMemo(()=>({basename:a,navigator:i,static:l}),[a,i,l]);typeof r=="string"&&(r=vs(r));let{pathname:d="/",search:p="",hash:g="",state:m=null,key:N="default"}=r,A=V.useMemo(()=>{let R=Vy(d,a);return R==null?null:{location:{pathname:R,search:p,hash:g,state:m,key:N},navigationType:s}},[a,d,p,g,m,N,s]);return A==null?null:V.createElement(ea.Provider,{value:c},V.createElement(ta.Provider,{children:n,value:A}))}function Yx(t){let{children:e,location:n}=t;return zx(hc(e),n)}var pp;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(pp||(pp={}));new Promise(()=>{});function hc(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(r,s)=>{if(!V.isValidElement(r))return;let i=[...e,s];if(r.type===V.Fragment){n.push.apply(n,hc(r.props.children,i));return}r.type!==oe&&Re(!1),!r.props.index||!r.props.children||Re(!1);let l={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=hc(r.props.children,i)),n.push(l)}),n}/**
 * React Router DOM v6.14.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Jx="startTransition",mp=Z0[Jx];function Zx(t){let{basename:e,children:n,future:r,window:s}=t,i=V.useRef();i.current==null&&(i.current=cx({window:s,v5Compat:!0}));let l=i.current,[a,c]=V.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},p=V.useCallback(g=>{d&&mp?mp(()=>c(g)):c(g)},[c,d]);return V.useLayoutEffect(()=>l.listen(p),[l,p]),V.createElement(Xx,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:l})}var gp;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(gp||(gp={}));var yp;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(yp||(yp={}));const ew={bg:"#ffffff",surface:"#f8fafc",muted:"#f1f5f9",text:"#0f172a",accent:"#2563eb","accent-2":"#8b5cf6"},tw={xl:"1.5rem"},nw={md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)"},U={colors:ew,radii:tw,shadows:nw},rw=V.useState;function sw(){const t=Oe(),[e,n]=rw(!1),r=()=>{e&&t("/DemographicForm/Demographics")},s=U.colors,i=U.shadows,l=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${s.bg} 0%, ${s.surface} 100%)`},children:u.jsxs("div",{className:"max-w-5xl w-full",style:{backgroundColor:s.bg,borderRadius:l.xl,boxShadow:i.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-16 text-center",style:{background:`linear-gradient(135deg, ${s.accent} 0%, ${s["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("div",{className:"inline-block px-4 py-2 mb-4 rounded-full text-xs uppercase tracking-widest font-semibold",style:{backgroundColor:"rgba(255,255,255,0.2)",backdropFilter:"blur(10px)"},children:"Kutatásban való részvétel"}),u.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-bold mb-6 leading-tight",style:{color:"#ffffff"},children:["Orvosi képek értékelése",u.jsx("br",{}),"mesterséges intelligencia támogatással"]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Kutató:"})," Baltay Márton, MSc hallgató"]})]}),u.jsx("div",{className:"hidden sm:block opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Egyetem:"})," Pázmány Péter Katolikus Egyetem"]})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mi a feladat?"}),u.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Radiológiai képeken artritisz jelenlétének felismerése – eldönti, van-e artritisz, és megjelöli a gyanús területet."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Mennyi idő?"}),u.jsx("p",{className:"mb-4",style:{color:s.text,opacity:.8},children:u.jsx("strong",{children:"90-120 perc összesen:"})}),u.jsxs("ul",{className:"space-y-2",style:{color:s.text},children:[u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Bevezető előadás (20-30 perc)"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"5 gyakorló kép"})]}),u.jsxs("li",{className:"flex items-center gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0",style:{color:s.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Több értékelési szakasz (~30 kép/szakasz)"})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2",style:{color:"#92400e"},children:"Fontos feltételek"}),u.jsx("p",{className:"mb-3 font-semibold",style:{color:"#78350f"},children:"A tesztet egyetlen ülésben, megszakítás nélkül kell elvégezni!"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Napközben végezze, amikor pihent"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Biztosítson zavartalan környezetet"})]}),u.jsxs("li",{className:"flex items-start gap-2",children:[u.jsx("span",{className:"font-bold",children:"✓"}),u.jsx("span",{children:"Nem lehet szünetet tartani vagy kilépni"})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`1px solid ${s.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:s.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:s.text},children:"Adatkezelés"}),u.jsx("p",{className:"leading-relaxed",style:{color:s.text,opacity:.8},children:"Adatai anonimizálva, kizárólag kutatási célra kerülnek felhasználásra."})]})]})}),u.jsxs("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:s.surface,border:`2px solid ${s.muted}`},children:[u.jsx("p",{className:"mb-4 font-semibold",style:{color:s.text},children:"A továbblépéssel kijelentem, hogy:"}),u.jsxs("label",{className:"flex items-start gap-4 cursor-pointer group",children:[u.jsx("input",{type:"checkbox",checked:e,onChange:a=>n(a.target.checked),className:"mt-1 w-5 h-5 cursor-pointer",style:{accentColor:s.accent}}),u.jsx("span",{className:"flex-1 leading-relaxed group-hover:opacity-80 transition-opacity",style:{color:s.text},children:"Elolvastam a tájékoztatót és megértettem a kutatás célját, menetét és feltételeit. Önként vállalom a részvételt."})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-6 pt-8 border-t-2",style:{borderTopColor:s.muted},children:[u.jsxs("div",{className:"text-center sm:text-left",children:[u.jsx("p",{className:"text-sm font-semibold mb-2",style:{color:s.text},children:"Kérdése van?"}),u.jsxs("div",{className:"space-y-1",children:[u.jsx("a",{href:"mailto:baltay.marton@gmail.com",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"baltay.marton@gmail.com"}),u.jsx("a",{href:"tel:+36203971061",className:"block text-sm hover:underline transition-all",style:{color:s.accent},children:"+36 20 397 1061"})]})]}),u.jsx("button",{onClick:r,disabled:!e,className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 disabled:scale-100 disabled:cursor-not-allowed shadow-lg disabled:shadow-none",style:{backgroundColor:e?s.accent:s.muted,color:e?"#ffffff":s.text,opacity:e?1:.5},children:"Kezdés →"})]})]})]})})}function iw(){const t=Math.random()<.5,e=t?"1":"0",n="abcdefghijklmnopqrstuvwxyz0123456789";let r="";for(let s=0;s<9;s++)r+=n.charAt(Math.floor(Math.random()*n.length));return{userID:e+r,treatmentGroup:t?"treatment":"control",randomizationSeed:Math.floor(Math.random()*1e6)}}const ow=()=>{};var vp={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},lw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],l=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(l&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],l=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|l&63)}}return e.join("")},Hy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],l=s+1<t.length,a=l?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,p=i>>2,g=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,N=d&63;c||(N=64,l||(m=64)),r.push(n[p],n[g],n[m],n[N])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($y(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const g=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||g==null)throw new aw;const m=i<<2|a>>4;if(r.push(m),d!==64){const N=a<<4&240|d>>2;if(r.push(N),g!==64){const A=d<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class aw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uw=function(t){const e=$y(t);return Hy.encodeByteArray(e,!0)},El=function(t){return uw(t).replace(/\./g,"")},cw=function(t){try{return Hy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=()=>hw().__FIREBASE_DEFAULTS__,fw=()=>{if(typeof process>"u"||typeof vp>"u")return;const t=vp.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},pw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&cw(t[1]);return e&&JSON.parse(e)},Ch=()=>{try{return ow()||dw()||fw()||pw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},mw=t=>{var e,n;return(n=(e=Ch())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},gw=t=>{const e=mw(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Wy=()=>{var t;return(t=Ch())==null?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vw(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[El(JSON.stringify(n)),El(JSON.stringify(l)),""].join(".")}const li={};function xw(){const t={prod:[],emulator:[]};for(const e of Object.keys(li))li[e]?t.emulator.push(e):t.prod.push(e);return t}function ww(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let _p=!1;function Ew(t,e){if(typeof window>"u"||typeof document>"u"||!Nh(window.location.host)||li[t]===e||li[t]||_p)return;li[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=xw().prod.length>0;function l(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function c(m,N){m.setAttribute("width","24"),m.setAttribute("id",N),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{_p=!0,l()},m}function p(m,N){m.setAttribute("id",N),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function g(){const m=ww(r),N=n("text"),A=document.getElementById(N)||document.createElement("span"),R=n("learnmore"),M=document.getElementById(R)||document.createElement("a"),T=n("preprendIcon"),x=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const I=m.element;a(I),p(M,R);const j=d();c(x,T),I.append(x,A,M,j),document.body.appendChild(I)}i?(A.innerText="Preview backend disconnected.",x.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(x.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",N)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",g):g()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Sw(){var e;const t=(e=Ch())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Tw(){return!Sw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Iw(){try{return typeof indexedDB=="object"}catch{return!1}}function Cw(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nw="FirebaseError";class _s extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Nw,Object.setPrototypeOf(this,_s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ky.prototype.create)}}class Ky{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],l=i?Aw(i,r):"Error",a=`${this.serviceName}: ${l} (${s}).`;return new _s(s,a,r)}}function Aw(t,e){return t.replace(Rw,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const Rw=/\{\$([^}]+)}/g;function kl(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],l=e[s];if(xp(i)&&xp(l)){if(!kl(i,l))return!1}else if(i!==l)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function xp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){return t&&t._delegate?t._delegate:t}class ji{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ir="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new yw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Dw(e))try{this.getOrInitializeService({instanceIdentifier:ir})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=ir){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ir){return this.instances.has(e)}getOptions(e=ir){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,l]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&l.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:jw(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ir){return this.component?this.component.multipleInstances?e:ir:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function jw(t){return t===ir?void 0:t}function Dw(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Pw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(te||(te={}));const Vw={debug:te.DEBUG,verbose:te.VERBOSE,info:te.INFO,warn:te.WARN,error:te.ERROR,silent:te.SILENT},Mw=te.INFO,zw={[te.DEBUG]:"log",[te.VERBOSE]:"log",[te.INFO]:"info",[te.WARN]:"warn",[te.ERROR]:"error"},Lw=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=zw[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Gy{constructor(e){this.name=e,this._logLevel=Mw,this._logHandler=Lw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Vw[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,te.DEBUG,...e),this._logHandler(this,te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,te.VERBOSE,...e),this._logHandler(this,te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,te.INFO,...e),this._logHandler(this,te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,te.WARN,...e),this._logHandler(this,te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,te.ERROR,...e),this._logHandler(this,te.ERROR,...e)}}const Ow=(t,e)=>e.some(n=>t instanceof n);let wp,Ep;function Fw(){return wp||(wp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uw(){return Ep||(Ep=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qy=new WeakMap,dc=new WeakMap,qy=new WeakMap,au=new WeakMap,Ah=new WeakMap;function Bw(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",l)},i=()=>{n(Fn(t.result)),s()},l=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&Qy.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function $w(t){if(dc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",l),t.removeEventListener("abort",l)},i=()=>{n(),s()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",l),t.addEventListener("abort",l)});dc.set(t,e)}let fc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return dc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||qy.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Hw(t){fc=t(fc)}function Ww(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uu(this),e,...n);return qy.set(r,e.sort?e.sort():[e]),Fn(r)}:Uw().includes(t)?function(...e){return t.apply(uu(this),e),Fn(Qy.get(this))}:function(...e){return Fn(t.apply(uu(this),e))}}function Kw(t){return typeof t=="function"?Ww(t):(t instanceof IDBTransaction&&$w(t),Ow(t,Fw())?new Proxy(t,fc):t)}function Fn(t){if(t instanceof IDBRequest)return Bw(t);if(au.has(t))return au.get(t);const e=Kw(t);return e!==t&&(au.set(t,e),Ah.set(e,t)),e}const uu=t=>Ah.get(t);function Gw(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const l=indexedDB.open(t,e),a=Fn(l);return r&&l.addEventListener("upgradeneeded",c=>{r(Fn(l.result),c.oldVersion,c.newVersion,Fn(l.transaction),c)}),n&&l.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const Qw=["get","getKey","getAll","getAllKeys","count"],qw=["put","add","delete","clear"],cu=new Map;function kp(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(cu.get(e))return cu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=qw.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||Qw.includes(n)))return;const i=async function(l,...a){const c=this.transaction(l,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return cu.set(e,i),i}Hw(t=>({...t,get:(e,n,r)=>kp(e,n)||t.get(e,n,r),has:(e,n)=>!!kp(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Yw(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Yw(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const pc="@firebase/app",Sp="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mn=new Gy("@firebase/app"),Jw="@firebase/app-compat",Zw="@firebase/analytics-compat",eE="@firebase/analytics",tE="@firebase/app-check-compat",nE="@firebase/app-check",rE="@firebase/auth",sE="@firebase/auth-compat",iE="@firebase/database",oE="@firebase/data-connect",lE="@firebase/database-compat",aE="@firebase/functions",uE="@firebase/functions-compat",cE="@firebase/installations",hE="@firebase/installations-compat",dE="@firebase/messaging",fE="@firebase/messaging-compat",pE="@firebase/performance",mE="@firebase/performance-compat",gE="@firebase/remote-config",yE="@firebase/remote-config-compat",vE="@firebase/storage",_E="@firebase/storage-compat",xE="@firebase/firestore",wE="@firebase/ai",EE="@firebase/firestore-compat",kE="firebase",SE="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc="[DEFAULT]",TE={[pc]:"fire-core",[Jw]:"fire-core-compat",[eE]:"fire-analytics",[Zw]:"fire-analytics-compat",[nE]:"fire-app-check",[tE]:"fire-app-check-compat",[rE]:"fire-auth",[sE]:"fire-auth-compat",[iE]:"fire-rtdb",[oE]:"fire-data-connect",[lE]:"fire-rtdb-compat",[aE]:"fire-fn",[uE]:"fire-fn-compat",[cE]:"fire-iid",[hE]:"fire-iid-compat",[dE]:"fire-fcm",[fE]:"fire-fcm-compat",[pE]:"fire-perf",[mE]:"fire-perf-compat",[gE]:"fire-rc",[yE]:"fire-rc-compat",[vE]:"fire-gcs",[_E]:"fire-gcs-compat",[xE]:"fire-fst",[EE]:"fire-fst-compat",[wE]:"fire-vertex","fire-js":"fire-js",[kE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tl=new Map,IE=new Map,gc=new Map;function Tp(t,e){try{t.container.addComponent(e)}catch(n){mn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Il(t){const e=t.name;if(gc.has(e))return mn.debug(`There were multiple attempts to register component ${e}.`),!1;gc.set(e,t);for(const n of Tl.values())Tp(n,t);for(const n of IE.values())Tp(n,t);return!0}function CE(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function NE(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Un=new Ky("app","Firebase",AE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ji("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=SE;function Xy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:mc,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Un.create("bad-app-name",{appName:String(s)});if(n||(n=Wy()),!n)throw Un.create("no-options");const i=Tl.get(s);if(i){if(kl(n,i.options)&&kl(r,i.config))return i;throw Un.create("duplicate-app",{appName:s})}const l=new bw(s);for(const c of gc.values())l.addComponent(c);const a=new RE(n,r,l);return Tl.set(s,a),a}function jE(t=mc){const e=Tl.get(t);if(!e&&t===mc&&Wy())return Xy();if(!e)throw Un.create("no-app",{appName:t});return e}function Zr(t,e,n){let r=TE[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const l=[`Unable to register library "${r}" with version "${e}":`];s&&l.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&l.push("and"),i&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mn.warn(l.join(" "));return}Il(new ji(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="firebase-heartbeat-database",bE=1,Di="firebase-heartbeat-store";let hu=null;function Yy(){return hu||(hu=Gw(DE,bE,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Di)}catch(n){console.warn(n)}}}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),hu}async function VE(t){try{const n=(await Yy()).transaction(Di),r=await n.objectStore(Di).get(Jy(t));return await n.done,r}catch(e){if(e instanceof _s)mn.warn(e.message);else{const n=Un.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mn.warn(n.message)}}}async function Ip(t,e){try{const r=(await Yy()).transaction(Di,"readwrite");await r.objectStore(Di).put(e,Jy(t)),await r.done}catch(n){if(n instanceof _s)mn.warn(n.message);else{const r=Un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});mn.warn(r.message)}}}function Jy(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ME=1024,zE=30;class LE{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new FE(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Cp();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(l=>l.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>zE){const l=UE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){mn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Cp(),{heartbeatsToSend:r,unsentEntries:s}=OE(this._heartbeatsCache.heartbeats),i=El(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return mn.warn(n),""}}}function Cp(){return new Date().toISOString().substring(0,10)}function OE(t,e=ME){const n=[];let r=t.slice();for(const s of t){const i=n.find(l=>l.agent===s.agent);if(i){if(i.dates.push(s.date),Np(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Np(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class FE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Iw()?Cw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await VE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Ip(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Np(t){return El(JSON.stringify({version:2,heartbeats:t})).length}function UE(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(t){Il(new ji("platform-logger",e=>new Xw(e),"PRIVATE")),Il(new ji("heartbeat",e=>new LE(e),"PRIVATE")),Zr(pc,Sp,t),Zr(pc,Sp,"esm2020"),Zr("fire-js","")}BE("");var $E="firebase",HE="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zr($E,HE,"app");var Ap=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Rh;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,v){function S(){}S.prototype=v.prototype,E.F=v.prototype,E.prototype=new S,E.prototype.constructor=E,E.D=function(_,w,C){for(var k=Array(arguments.length-2),q=2;q<arguments.length;q++)k[q-2]=arguments[q];return v.prototype[w].apply(_,k)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,v,S){S||(S=0);const _=Array(16);if(typeof v=="string")for(var w=0;w<16;++w)_[w]=v.charCodeAt(S++)|v.charCodeAt(S++)<<8|v.charCodeAt(S++)<<16|v.charCodeAt(S++)<<24;else for(w=0;w<16;++w)_[w]=v[S++]|v[S++]<<8|v[S++]<<16|v[S++]<<24;v=E.g[0],S=E.g[1],w=E.g[2];let C=E.g[3],k;k=v+(C^S&(w^C))+_[0]+3614090360&4294967295,v=S+(k<<7&4294967295|k>>>25),k=C+(w^v&(S^w))+_[1]+3905402710&4294967295,C=v+(k<<12&4294967295|k>>>20),k=w+(S^C&(v^S))+_[2]+606105819&4294967295,w=C+(k<<17&4294967295|k>>>15),k=S+(v^w&(C^v))+_[3]+3250441966&4294967295,S=w+(k<<22&4294967295|k>>>10),k=v+(C^S&(w^C))+_[4]+4118548399&4294967295,v=S+(k<<7&4294967295|k>>>25),k=C+(w^v&(S^w))+_[5]+1200080426&4294967295,C=v+(k<<12&4294967295|k>>>20),k=w+(S^C&(v^S))+_[6]+2821735955&4294967295,w=C+(k<<17&4294967295|k>>>15),k=S+(v^w&(C^v))+_[7]+4249261313&4294967295,S=w+(k<<22&4294967295|k>>>10),k=v+(C^S&(w^C))+_[8]+1770035416&4294967295,v=S+(k<<7&4294967295|k>>>25),k=C+(w^v&(S^w))+_[9]+2336552879&4294967295,C=v+(k<<12&4294967295|k>>>20),k=w+(S^C&(v^S))+_[10]+4294925233&4294967295,w=C+(k<<17&4294967295|k>>>15),k=S+(v^w&(C^v))+_[11]+2304563134&4294967295,S=w+(k<<22&4294967295|k>>>10),k=v+(C^S&(w^C))+_[12]+1804603682&4294967295,v=S+(k<<7&4294967295|k>>>25),k=C+(w^v&(S^w))+_[13]+4254626195&4294967295,C=v+(k<<12&4294967295|k>>>20),k=w+(S^C&(v^S))+_[14]+2792965006&4294967295,w=C+(k<<17&4294967295|k>>>15),k=S+(v^w&(C^v))+_[15]+1236535329&4294967295,S=w+(k<<22&4294967295|k>>>10),k=v+(w^C&(S^w))+_[1]+4129170786&4294967295,v=S+(k<<5&4294967295|k>>>27),k=C+(S^w&(v^S))+_[6]+3225465664&4294967295,C=v+(k<<9&4294967295|k>>>23),k=w+(v^S&(C^v))+_[11]+643717713&4294967295,w=C+(k<<14&4294967295|k>>>18),k=S+(C^v&(w^C))+_[0]+3921069994&4294967295,S=w+(k<<20&4294967295|k>>>12),k=v+(w^C&(S^w))+_[5]+3593408605&4294967295,v=S+(k<<5&4294967295|k>>>27),k=C+(S^w&(v^S))+_[10]+38016083&4294967295,C=v+(k<<9&4294967295|k>>>23),k=w+(v^S&(C^v))+_[15]+3634488961&4294967295,w=C+(k<<14&4294967295|k>>>18),k=S+(C^v&(w^C))+_[4]+3889429448&4294967295,S=w+(k<<20&4294967295|k>>>12),k=v+(w^C&(S^w))+_[9]+568446438&4294967295,v=S+(k<<5&4294967295|k>>>27),k=C+(S^w&(v^S))+_[14]+3275163606&4294967295,C=v+(k<<9&4294967295|k>>>23),k=w+(v^S&(C^v))+_[3]+4107603335&4294967295,w=C+(k<<14&4294967295|k>>>18),k=S+(C^v&(w^C))+_[8]+1163531501&4294967295,S=w+(k<<20&4294967295|k>>>12),k=v+(w^C&(S^w))+_[13]+2850285829&4294967295,v=S+(k<<5&4294967295|k>>>27),k=C+(S^w&(v^S))+_[2]+4243563512&4294967295,C=v+(k<<9&4294967295|k>>>23),k=w+(v^S&(C^v))+_[7]+1735328473&4294967295,w=C+(k<<14&4294967295|k>>>18),k=S+(C^v&(w^C))+_[12]+2368359562&4294967295,S=w+(k<<20&4294967295|k>>>12),k=v+(S^w^C)+_[5]+4294588738&4294967295,v=S+(k<<4&4294967295|k>>>28),k=C+(v^S^w)+_[8]+2272392833&4294967295,C=v+(k<<11&4294967295|k>>>21),k=w+(C^v^S)+_[11]+1839030562&4294967295,w=C+(k<<16&4294967295|k>>>16),k=S+(w^C^v)+_[14]+4259657740&4294967295,S=w+(k<<23&4294967295|k>>>9),k=v+(S^w^C)+_[1]+2763975236&4294967295,v=S+(k<<4&4294967295|k>>>28),k=C+(v^S^w)+_[4]+1272893353&4294967295,C=v+(k<<11&4294967295|k>>>21),k=w+(C^v^S)+_[7]+4139469664&4294967295,w=C+(k<<16&4294967295|k>>>16),k=S+(w^C^v)+_[10]+3200236656&4294967295,S=w+(k<<23&4294967295|k>>>9),k=v+(S^w^C)+_[13]+681279174&4294967295,v=S+(k<<4&4294967295|k>>>28),k=C+(v^S^w)+_[0]+3936430074&4294967295,C=v+(k<<11&4294967295|k>>>21),k=w+(C^v^S)+_[3]+3572445317&4294967295,w=C+(k<<16&4294967295|k>>>16),k=S+(w^C^v)+_[6]+76029189&4294967295,S=w+(k<<23&4294967295|k>>>9),k=v+(S^w^C)+_[9]+3654602809&4294967295,v=S+(k<<4&4294967295|k>>>28),k=C+(v^S^w)+_[12]+3873151461&4294967295,C=v+(k<<11&4294967295|k>>>21),k=w+(C^v^S)+_[15]+530742520&4294967295,w=C+(k<<16&4294967295|k>>>16),k=S+(w^C^v)+_[2]+3299628645&4294967295,S=w+(k<<23&4294967295|k>>>9),k=v+(w^(S|~C))+_[0]+4096336452&4294967295,v=S+(k<<6&4294967295|k>>>26),k=C+(S^(v|~w))+_[7]+1126891415&4294967295,C=v+(k<<10&4294967295|k>>>22),k=w+(v^(C|~S))+_[14]+2878612391&4294967295,w=C+(k<<15&4294967295|k>>>17),k=S+(C^(w|~v))+_[5]+4237533241&4294967295,S=w+(k<<21&4294967295|k>>>11),k=v+(w^(S|~C))+_[12]+1700485571&4294967295,v=S+(k<<6&4294967295|k>>>26),k=C+(S^(v|~w))+_[3]+2399980690&4294967295,C=v+(k<<10&4294967295|k>>>22),k=w+(v^(C|~S))+_[10]+4293915773&4294967295,w=C+(k<<15&4294967295|k>>>17),k=S+(C^(w|~v))+_[1]+2240044497&4294967295,S=w+(k<<21&4294967295|k>>>11),k=v+(w^(S|~C))+_[8]+1873313359&4294967295,v=S+(k<<6&4294967295|k>>>26),k=C+(S^(v|~w))+_[15]+4264355552&4294967295,C=v+(k<<10&4294967295|k>>>22),k=w+(v^(C|~S))+_[6]+2734768916&4294967295,w=C+(k<<15&4294967295|k>>>17),k=S+(C^(w|~v))+_[13]+1309151649&4294967295,S=w+(k<<21&4294967295|k>>>11),k=v+(w^(S|~C))+_[4]+4149444226&4294967295,v=S+(k<<6&4294967295|k>>>26),k=C+(S^(v|~w))+_[11]+3174756917&4294967295,C=v+(k<<10&4294967295|k>>>22),k=w+(v^(C|~S))+_[2]+718787259&4294967295,w=C+(k<<15&4294967295|k>>>17),k=S+(C^(w|~v))+_[9]+3951481745&4294967295,E.g[0]=E.g[0]+v&4294967295,E.g[1]=E.g[1]+(w+(k<<21&4294967295|k>>>11))&4294967295,E.g[2]=E.g[2]+w&4294967295,E.g[3]=E.g[3]+C&4294967295}r.prototype.v=function(E,v){v===void 0&&(v=E.length);const S=v-this.blockSize,_=this.C;let w=this.h,C=0;for(;C<v;){if(w==0)for(;C<=S;)s(this,E,C),C+=this.blockSize;if(typeof E=="string"){for(;C<v;)if(_[w++]=E.charCodeAt(C++),w==this.blockSize){s(this,_),w=0;break}}else for(;C<v;)if(_[w++]=E[C++],w==this.blockSize){s(this,_),w=0;break}}this.h=w,this.o+=v},r.prototype.A=function(){var E=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);E[0]=128;for(var v=1;v<E.length-8;++v)E[v]=0;v=this.o*8;for(var S=E.length-8;S<E.length;++S)E[S]=v&255,v/=256;for(this.v(E),E=Array(16),v=0,S=0;S<4;++S)for(let _=0;_<32;_+=8)E[v++]=this.g[S]>>>_&255;return E};function i(E,v){var S=a;return Object.prototype.hasOwnProperty.call(S,E)?S[E]:S[E]=v(E)}function l(E,v){this.h=v;const S=[];let _=!0;for(let w=E.length-1;w>=0;w--){const C=E[w]|0;_&&C==v||(S[w]=C,_=!1)}this.g=S}var a={};function c(E){return-128<=E&&E<128?i(E,function(v){return new l([v|0],v<0?-1:0)}):new l([E|0],E<0?-1:0)}function d(E){if(isNaN(E)||!isFinite(E))return g;if(E<0)return M(d(-E));const v=[];let S=1;for(let _=0;E>=S;_++)v[_]=E/S|0,S*=4294967296;return new l(v,0)}function p(E,v){if(E.length==0)throw Error("number format error: empty string");if(v=v||10,v<2||36<v)throw Error("radix out of range: "+v);if(E.charAt(0)=="-")return M(p(E.substring(1),v));if(E.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=d(Math.pow(v,8));let _=g;for(let C=0;C<E.length;C+=8){var w=Math.min(8,E.length-C);const k=parseInt(E.substring(C,C+w),v);w<8?(w=d(Math.pow(v,w)),_=_.j(w).add(d(k))):(_=_.j(S),_=_.add(d(k)))}return _}var g=c(0),m=c(1),N=c(16777216);t=l.prototype,t.m=function(){if(R(this))return-M(this).m();let E=0,v=1;for(let S=0;S<this.g.length;S++){const _=this.i(S);E+=(_>=0?_:4294967296+_)*v,v*=4294967296}return E},t.toString=function(E){if(E=E||10,E<2||36<E)throw Error("radix out of range: "+E);if(A(this))return"0";if(R(this))return"-"+M(this).toString(E);const v=d(Math.pow(E,6));var S=this;let _="";for(;;){const w=j(S,v).g;S=T(S,w.j(v));let C=((S.g.length>0?S.g[0]:S.h)>>>0).toString(E);if(S=w,A(S))return C+_;for(;C.length<6;)C="0"+C;_=C+_}},t.i=function(E){return E<0?0:E<this.g.length?this.g[E]:this.h};function A(E){if(E.h!=0)return!1;for(let v=0;v<E.g.length;v++)if(E.g[v]!=0)return!1;return!0}function R(E){return E.h==-1}t.l=function(E){return E=T(this,E),R(E)?-1:A(E)?0:1};function M(E){const v=E.g.length,S=[];for(let _=0;_<v;_++)S[_]=~E.g[_];return new l(S,~E.h).add(m)}t.abs=function(){return R(this)?M(this):this},t.add=function(E){const v=Math.max(this.g.length,E.g.length),S=[];let _=0;for(let w=0;w<=v;w++){let C=_+(this.i(w)&65535)+(E.i(w)&65535),k=(C>>>16)+(this.i(w)>>>16)+(E.i(w)>>>16);_=k>>>16,C&=65535,k&=65535,S[w]=k<<16|C}return new l(S,S[S.length-1]&-2147483648?-1:0)};function T(E,v){return E.add(M(v))}t.j=function(E){if(A(this)||A(E))return g;if(R(this))return R(E)?M(this).j(M(E)):M(M(this).j(E));if(R(E))return M(this.j(M(E)));if(this.l(N)<0&&E.l(N)<0)return d(this.m()*E.m());const v=this.g.length+E.g.length,S=[];for(var _=0;_<2*v;_++)S[_]=0;for(_=0;_<this.g.length;_++)for(let w=0;w<E.g.length;w++){const C=this.i(_)>>>16,k=this.i(_)&65535,q=E.i(w)>>>16,ae=E.i(w)&65535;S[2*_+2*w]+=k*ae,x(S,2*_+2*w),S[2*_+2*w+1]+=C*ae,x(S,2*_+2*w+1),S[2*_+2*w+1]+=k*q,x(S,2*_+2*w+1),S[2*_+2*w+2]+=C*q,x(S,2*_+2*w+2)}for(E=0;E<v;E++)S[E]=S[2*E+1]<<16|S[2*E];for(E=v;E<2*v;E++)S[E]=0;return new l(S,0)};function x(E,v){for(;(E[v]&65535)!=E[v];)E[v+1]+=E[v]>>>16,E[v]&=65535,v++}function I(E,v){this.g=E,this.h=v}function j(E,v){if(A(v))throw Error("division by zero");if(A(E))return new I(g,g);if(R(E))return v=j(M(E),v),new I(M(v.g),M(v.h));if(R(v))return v=j(E,M(v)),new I(M(v.g),v.h);if(E.g.length>30){if(R(E)||R(v))throw Error("slowDivide_ only works with positive integers.");for(var S=m,_=v;_.l(E)<=0;)S=b(S),_=b(_);var w=L(S,1),C=L(_,1);for(_=L(_,2),S=L(S,2);!A(_);){var k=C.add(_);k.l(E)<=0&&(w=w.add(S),C=k),_=L(_,1),S=L(S,1)}return v=T(E,w.j(v)),new I(w,v)}for(w=g;E.l(v)>=0;){for(S=Math.max(1,Math.floor(E.m()/v.m())),_=Math.ceil(Math.log(S)/Math.LN2),_=_<=48?1:Math.pow(2,_-48),C=d(S),k=C.j(v);R(k)||k.l(E)>0;)S-=_,C=d(S),k=C.j(v);A(C)&&(C=m),w=w.add(C),E=T(E,k)}return new I(w,E)}t.B=function(E){return j(this,E).h},t.and=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)&E.i(_);return new l(S,this.h&E.h)},t.or=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)|E.i(_);return new l(S,this.h|E.h)},t.xor=function(E){const v=Math.max(this.g.length,E.g.length),S=[];for(let _=0;_<v;_++)S[_]=this.i(_)^E.i(_);return new l(S,this.h^E.h)};function b(E){const v=E.g.length+1,S=[];for(let _=0;_<v;_++)S[_]=E.i(_)<<1|E.i(_-1)>>>31;return new l(S,E.h)}function L(E,v){const S=v>>5;v%=32;const _=E.g.length-S,w=[];for(let C=0;C<_;C++)w[C]=v>0?E.i(C+S)>>>v|E.i(C+S+1)<<32-v:E.i(C+S);return new l(w,E.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=d,l.fromString=p,Rh=l}).apply(typeof Ap<"u"?Ap:typeof self<"u"?self:typeof window<"u"?window:{});var No=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Zy,Ys,ev,Ko,yc,tv,nv,rv;(function(){var t,e=Object.defineProperty;function n(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof No=="object"&&No];for(var h=0;h<o.length;++h){var f=o[h];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function s(o,h){if(h)e:{var f=r;o=o.split(".");for(var y=0;y<o.length-1;y++){var P=o[y];if(!(P in f))break e;f=f[P]}o=o[o.length-1],y=f[o],h=h(y),h!=y&&h!=null&&e(f,o,{configurable:!0,writable:!0,value:h})}}s("Symbol.dispose",function(o){return o||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(o){return o||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(o){return o||function(h){var f=[],y;for(y in h)Object.prototype.hasOwnProperty.call(h,y)&&f.push([y,h[y]]);return f}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},l=this||self;function a(o){var h=typeof o;return h=="object"&&o!=null||h=="function"}function c(o,h,f){return o.call.apply(o.bind,arguments)}function d(o,h,f){return d=c,d.apply(null,arguments)}function p(o,h){var f=Array.prototype.slice.call(arguments,1);return function(){var y=f.slice();return y.push.apply(y,arguments),o.apply(this,y)}}function g(o,h){function f(){}f.prototype=h.prototype,o.Z=h.prototype,o.prototype=new f,o.prototype.constructor=o,o.Ob=function(y,P,D){for(var B=Array(arguments.length-2),X=2;X<arguments.length;X++)B[X-2]=arguments[X];return h.prototype[P].apply(y,B)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?o=>o&&AsyncContext.Snapshot.wrap(o):o=>o;function N(o){const h=o.length;if(h>0){const f=Array(h);for(let y=0;y<h;y++)f[y]=o[y];return f}return[]}function A(o,h){for(let y=1;y<arguments.length;y++){const P=arguments[y];var f=typeof P;if(f=f!="object"?f:P?Array.isArray(P)?"array":f:"null",f=="array"||f=="object"&&typeof P.length=="number"){f=o.length||0;const D=P.length||0;o.length=f+D;for(let B=0;B<D;B++)o[f+B]=P[B]}else o.push(P)}}class R{constructor(h,f){this.i=h,this.j=f,this.h=0,this.g=null}get(){let h;return this.h>0?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function M(o){l.setTimeout(()=>{throw o},0)}function T(){var o=E;let h=null;return o.g&&(h=o.g,o.g=o.g.next,o.g||(o.h=null),h.next=null),h}class x{constructor(){this.h=this.g=null}add(h,f){const y=I.get();y.set(h,f),this.h?this.h.next=y:this.g=y,this.h=y}}var I=new R(()=>new j,o=>o.reset());class j{constructor(){this.next=this.g=this.h=null}set(h,f){this.h=h,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let b,L=!1,E=new x,v=()=>{const o=Promise.resolve(void 0);b=()=>{o.then(S)}};function S(){for(var o;o=T();){try{o.h.call(o.g)}catch(f){M(f)}var h=I;h.j(o),h.h<100&&(h.h++,o.next=h.g,h.g=o)}L=!1}function _(){this.u=this.u,this.C=this.C}_.prototype.u=!1,_.prototype.dispose=function(){this.u||(this.u=!0,this.N())},_.prototype[Symbol.dispose]=function(){this.dispose()},_.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(o,h){this.type=o,this.g=this.target=h,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var o=!1,h=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const f=()=>{};l.addEventListener("test",f,h),l.removeEventListener("test",f,h)}catch{}return o}();function k(o){return/^[\s\xa0]*$/.test(o)}function q(o,h){w.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o&&this.init(o,h)}g(q,w),q.prototype.init=function(o,h){const f=this.type=o.type,y=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;this.target=o.target||o.srcElement,this.g=h,h=o.relatedTarget,h||(f=="mouseover"?h=o.fromElement:f=="mouseout"&&(h=o.toElement)),this.relatedTarget=h,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=o.pointerType,this.state=o.state,this.i=o,o.defaultPrevented&&q.Z.h.call(this)},q.prototype.h=function(){q.Z.h.call(this);const o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var ae="closure_listenable_"+(Math.random()*1e6|0),ie=0;function Zt(o,h,f,y,P){this.listener=o,this.proxy=null,this.src=h,this.type=f,this.capture=!!y,this.ha=P,this.key=++ie,this.da=this.fa=!1}function $(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function Q(o,h,f){for(const y in o)h.call(f,o[y],y,o)}function K(o,h){for(const f in o)h.call(void 0,o[f],f,o)}function re(o){const h={};for(const f in o)h[f]=o[f];return h}const ve="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function en(o,h){let f,y;for(let P=1;P<arguments.length;P++){y=arguments[P];for(f in y)o[f]=y[f];for(let D=0;D<ve.length;D++)f=ve[D],Object.prototype.hasOwnProperty.call(y,f)&&(o[f]=y[f])}}function ut(o){this.src=o,this.g={},this.h=0}ut.prototype.add=function(o,h,f,y,P){const D=o.toString();o=this.g[D],o||(o=this.g[D]=[],this.h++);const B=Rt(o,h,y,P);return B>-1?(h=o[B],f||(h.fa=!1)):(h=new Zt(h,this.src,D,!!y,P),h.fa=f,o.push(h)),h};function tn(o,h){const f=h.type;if(f in o.g){var y=o.g[f],P=Array.prototype.indexOf.call(y,h,void 0),D;(D=P>=0)&&Array.prototype.splice.call(y,P,1),D&&($(h),o.g[f].length==0&&(delete o.g[f],o.h--))}}function Rt(o,h,f,y){for(let P=0;P<o.length;++P){const D=o[P];if(!D.da&&D.listener==h&&D.capture==!!f&&D.ha==y)return P}return-1}var yn="closure_lm_"+(Math.random()*1e6|0),pa={};function nd(o,h,f,y,P){if(Array.isArray(h)){for(let D=0;D<h.length;D++)nd(o,h[D],f,y,P);return null}return f=id(f),o&&o[ae]?o.J(h,f,a(y)?!!y.capture:!1,P):o0(o,h,f,!1,y,P)}function o0(o,h,f,y,P,D){if(!h)throw Error("Invalid event type");const B=a(P)?!!P.capture:!!P;let X=ga(o);if(X||(o[yn]=X=new ut(o)),f=X.add(h,f,y,B,D),f.proxy)return f;if(y=l0(),f.proxy=y,y.src=o,y.listener=f,o.addEventListener)C||(P=B),P===void 0&&(P=!1),o.addEventListener(h.toString(),y,P);else if(o.attachEvent)o.attachEvent(sd(h.toString()),y);else if(o.addListener&&o.removeListener)o.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return f}function l0(){function o(f){return h.call(o.src,o.listener,f)}const h=a0;return o}function rd(o,h,f,y,P){if(Array.isArray(h))for(var D=0;D<h.length;D++)rd(o,h[D],f,y,P);else y=a(y)?!!y.capture:!!y,f=id(f),o&&o[ae]?(o=o.i,D=String(h).toString(),D in o.g&&(h=o.g[D],f=Rt(h,f,y,P),f>-1&&($(h[f]),Array.prototype.splice.call(h,f,1),h.length==0&&(delete o.g[D],o.h--)))):o&&(o=ga(o))&&(h=o.g[h.toString()],o=-1,h&&(o=Rt(h,f,y,P)),(f=o>-1?h[o]:null)&&ma(f))}function ma(o){if(typeof o!="number"&&o&&!o.da){var h=o.src;if(h&&h[ae])tn(h.i,o);else{var f=o.type,y=o.proxy;h.removeEventListener?h.removeEventListener(f,y,o.capture):h.detachEvent?h.detachEvent(sd(f),y):h.addListener&&h.removeListener&&h.removeListener(y),(f=ga(h))?(tn(f,o),f.h==0&&(f.src=null,h[yn]=null)):$(o)}}}function sd(o){return o in pa?pa[o]:pa[o]="on"+o}function a0(o,h){if(o.da)o=!0;else{h=new q(h,this);const f=o.listener,y=o.ha||o.src;o.fa&&ma(o),o=f.call(y,h)}return o}function ga(o){return o=o[yn],o instanceof ut?o:null}var ya="__closure_events_fn_"+(Math.random()*1e9>>>0);function id(o){return typeof o=="function"?o:(o[ya]||(o[ya]=function(h){return o.handleEvent(h)}),o[ya])}function Ge(){_.call(this),this.i=new ut(this),this.M=this,this.G=null}g(Ge,_),Ge.prototype[ae]=!0,Ge.prototype.removeEventListener=function(o,h,f,y){rd(this,o,h,f,y)};function nt(o,h){var f,y=o.G;if(y)for(f=[];y;y=y.G)f.push(y);if(o=o.M,y=h.type||h,typeof h=="string")h=new w(h,o);else if(h instanceof w)h.target=h.target||o;else{var P=h;h=new w(y,o),en(h,P)}P=!0;let D,B;if(f)for(B=f.length-1;B>=0;B--)D=h.g=f[B],P=Ji(D,y,!0,h)&&P;if(D=h.g=o,P=Ji(D,y,!0,h)&&P,P=Ji(D,y,!1,h)&&P,f)for(B=0;B<f.length;B++)D=h.g=f[B],P=Ji(D,y,!1,h)&&P}Ge.prototype.N=function(){if(Ge.Z.N.call(this),this.i){var o=this.i;for(const h in o.g){const f=o.g[h];for(let y=0;y<f.length;y++)$(f[y]);delete o.g[h],o.h--}}this.G=null},Ge.prototype.J=function(o,h,f,y){return this.i.add(String(o),h,!1,f,y)},Ge.prototype.K=function(o,h,f,y){return this.i.add(String(o),h,!0,f,y)};function Ji(o,h,f,y){if(h=o.i.g[String(h)],!h)return!0;h=h.concat();let P=!0;for(let D=0;D<h.length;++D){const B=h[D];if(B&&!B.da&&B.capture==f){const X=B.listener,Pe=B.ha||B.src;B.fa&&tn(o.i,B),P=X.call(Pe,y)!==!1&&P}}return P&&!y.defaultPrevented}function u0(o,h){if(typeof o!="function")if(o&&typeof o.handleEvent=="function")o=d(o.handleEvent,o);else throw Error("Invalid listener argument");return Number(h)>2147483647?-1:l.setTimeout(o,h||0)}function od(o){o.g=u0(()=>{o.g=null,o.i&&(o.i=!1,od(o))},o.l);const h=o.h;o.h=null,o.m.apply(null,h)}class c0 extends _{constructor(h,f){super(),this.m=h,this.l=f,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:od(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(o){_.call(this),this.h=o,this.g={}}g(Es,_);var ld=[];function ad(o){Q(o.g,function(h,f){this.g.hasOwnProperty(f)&&ma(h)},o),o.g={}}Es.prototype.N=function(){Es.Z.N.call(this),ad(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var va=l.JSON.stringify,h0=l.JSON.parse,d0=class{stringify(o){return l.JSON.stringify(o,void 0)}parse(o){return l.JSON.parse(o,void 0)}};function ud(){}function cd(){}var ks={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function _a(){w.call(this,"d")}g(_a,w);function xa(){w.call(this,"c")}g(xa,w);var Jn={},hd=null;function Zi(){return hd=hd||new Ge}Jn.Ia="serverreachability";function dd(o){w.call(this,Jn.Ia,o)}g(dd,w);function Ss(o){const h=Zi();nt(h,new dd(h))}Jn.STAT_EVENT="statevent";function fd(o,h){w.call(this,Jn.STAT_EVENT,o),this.stat=h}g(fd,w);function rt(o){const h=Zi();nt(h,new fd(h,o))}Jn.Ja="timingevent";function pd(o,h){w.call(this,Jn.Ja,o),this.size=h}g(pd,w);function Ts(o,h){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){o()},h)}function Is(){this.g=!0}Is.prototype.ua=function(){this.g=!1};function f0(o,h,f,y,P,D){o.info(function(){if(o.g)if(D){var B="",X=D.split("&");for(let ue=0;ue<X.length;ue++){var Pe=X[ue].split("=");if(Pe.length>1){const be=Pe[0];Pe=Pe[1];const $t=be.split("_");B=$t.length>=2&&$t[1]=="type"?B+(be+"="+Pe+"&"):B+(be+"=redacted&")}}}else B=null;else B=D;return"XMLHTTP REQ ("+y+") [attempt "+P+"]: "+h+`
`+f+`
`+B})}function p0(o,h,f,y,P,D,B){o.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+P+"]: "+h+`
`+f+`
`+D+" "+B})}function Nr(o,h,f,y){o.info(function(){return"XMLHTTP TEXT ("+h+"): "+g0(o,f)+(y?" "+y:"")})}function m0(o,h){o.info(function(){return"TIMEOUT: "+h})}Is.prototype.info=function(){};function g0(o,h){if(!o.g)return h;if(!h)return null;try{const D=JSON.parse(h);if(D){for(o=0;o<D.length;o++)if(Array.isArray(D[o])){var f=D[o];if(!(f.length<2)){var y=f[1];if(Array.isArray(y)&&!(y.length<1)){var P=y[0];if(P!="noop"&&P!="stop"&&P!="close")for(let B=1;B<y.length;B++)y[B]=""}}}}return va(D)}catch{return h}}var eo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},md={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},gd;function wa(){}g(wa,ud),wa.prototype.g=function(){return new XMLHttpRequest},gd=new wa;function Cs(o){return encodeURIComponent(String(o))}function y0(o){var h=1;o=o.split(":");const f=[];for(;h>0&&o.length;)f.push(o.shift()),h--;return o.length&&f.push(o.join(":")),f}function vn(o,h,f,y){this.j=o,this.i=h,this.l=f,this.S=y||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new yd}function yd(){this.i=null,this.g="",this.h=!1}var vd={},Ea={};function ka(o,h,f){o.M=1,o.A=no(Bt(h)),o.u=f,o.R=!0,_d(o,null)}function _d(o,h){o.F=Date.now(),to(o),o.B=Bt(o.A);var f=o.B,y=o.S;Array.isArray(y)||(y=[String(y)]),jd(f.i,"t",y),o.C=0,f=o.j.L,o.h=new yd,o.g=Xd(o.j,f?h:null,!o.u),o.P>0&&(o.O=new c0(d(o.Y,o,o.g),o.P)),h=o.V,f=o.g,y=o.ba;var P="readystatechange";Array.isArray(P)||(P&&(ld[0]=P.toString()),P=ld);for(let D=0;D<P.length;D++){const B=nd(f,P[D],y||h.handleEvent,!1,h.h||h);if(!B)break;h.g[B.key]=B}h=o.J?re(o.J):{},o.u?(o.v||(o.v="POST"),h["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.B,o.v,o.u,h)):(o.v="GET",o.g.ea(o.B,o.v,null,h)),Ss(),f0(o.i,o.v,o.B,o.l,o.S,o.u)}vn.prototype.ba=function(o){o=o.target;const h=this.O;h&&wn(o)==3?h.j():this.Y(o)},vn.prototype.Y=function(o){try{if(o==this.g)e:{const X=wn(this.g),Pe=this.g.ya(),ue=this.g.ca();if(!(X<3)&&(X!=3||this.g&&(this.h.h||this.g.la()||Od(this.g)))){this.K||X!=4||Pe==7||(Pe==8||ue<=0?Ss(3):Ss(2)),Sa(this);var h=this.g.ca();this.X=h;var f=v0(this);if(this.o=h==200,p0(this.i,this.v,this.B,this.l,this.S,X,h),this.o){if(this.U&&!this.L){t:{if(this.g){var y,P=this.g;if((y=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(y)){var D=y;break t}}D=null}if(o=D)Nr(this.i,this.l,o,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ta(this,o);else{this.o=!1,this.m=3,rt(12),Zn(this),Ns(this);break e}}if(this.R){o=!0;let be;for(;!this.K&&this.C<f.length;)if(be=_0(this,f),be==Ea){X==4&&(this.m=4,rt(14),o=!1),Nr(this.i,this.l,null,"[Incomplete Response]");break}else if(be==vd){this.m=4,rt(15),Nr(this.i,this.l,f,"[Invalid Chunk]"),o=!1;break}else Nr(this.i,this.l,be,null),Ta(this,be);if(xd(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),X!=4||f.length!=0||this.h.h||(this.m=1,rt(16),o=!1),this.o=this.o&&o,!o)Nr(this.i,this.l,f,"[Invalid Chunked Response]"),Zn(this),Ns(this);else if(f.length>0&&!this.W){this.W=!0;var B=this.j;B.g==this&&B.aa&&!B.P&&(B.j.info("Great, no buffering proxy detected. Bytes received: "+f.length),Da(B),B.P=!0,rt(11))}}else Nr(this.i,this.l,f,null),Ta(this,f);X==4&&Zn(this),this.o&&!this.K&&(X==4?Kd(this.j,this):(this.o=!1,to(this)))}else D0(this.g),h==400&&f.indexOf("Unknown SID")>0?(this.m=3,rt(12)):(this.m=0,rt(13)),Zn(this),Ns(this)}}}catch{}finally{}};function v0(o){if(!xd(o))return o.g.la();const h=Od(o.g);if(h==="")return"";let f="";const y=h.length,P=wn(o.g)==4;if(!o.h.i){if(typeof TextDecoder>"u")return Zn(o),Ns(o),"";o.h.i=new l.TextDecoder}for(let D=0;D<y;D++)o.h.h=!0,f+=o.h.i.decode(h[D],{stream:!(P&&D==y-1)});return h.length=0,o.h.g+=f,o.C=0,o.h.g}function xd(o){return o.g?o.v=="GET"&&o.M!=2&&o.j.Aa:!1}function _0(o,h){var f=o.C,y=h.indexOf(`
`,f);return y==-1?Ea:(f=Number(h.substring(f,y)),isNaN(f)?vd:(y+=1,y+f>h.length?Ea:(h=h.slice(y,y+f),o.C=y+f,h)))}vn.prototype.cancel=function(){this.K=!0,Zn(this)};function to(o){o.T=Date.now()+o.H,wd(o,o.H)}function wd(o,h){if(o.D!=null)throw Error("WatchDog timer not null");o.D=Ts(d(o.aa,o),h)}function Sa(o){o.D&&(l.clearTimeout(o.D),o.D=null)}vn.prototype.aa=function(){this.D=null;const o=Date.now();o-this.T>=0?(m0(this.i,this.B),this.M!=2&&(Ss(),rt(17)),Zn(this),this.m=2,Ns(this)):wd(this,this.T-o)};function Ns(o){o.j.I==0||o.K||Kd(o.j,o)}function Zn(o){Sa(o);var h=o.O;h&&typeof h.dispose=="function"&&h.dispose(),o.O=null,ad(o.V),o.g&&(h=o.g,o.g=null,h.abort(),h.dispose())}function Ta(o,h){try{var f=o.j;if(f.I!=0&&(f.g==o||Ia(f.h,o))){if(!o.L&&Ia(f.h,o)&&f.I==3){try{var y=f.Ba.g.parse(h)}catch{y=null}if(Array.isArray(y)&&y.length==3){var P=y;if(P[0]==0){e:if(!f.v){if(f.g)if(f.g.F+3e3<o.F)lo(f),io(f);else break e;ja(f),rt(18)}}else f.xa=P[1],0<f.xa-f.K&&P[2]<37500&&f.F&&f.A==0&&!f.C&&(f.C=Ts(d(f.Va,f),6e3));Sd(f.h)<=1&&f.ta&&(f.ta=void 0)}else tr(f,11)}else if((o.L||f.g==o)&&lo(f),!k(h))for(P=f.Ba.g.parse(h),h=0;h<P.length;h++){let ue=P[h];const be=ue[0];if(!(be<=f.K))if(f.K=be,ue=ue[1],f.I==2)if(ue[0]=="c"){f.M=ue[1],f.ba=ue[2];const $t=ue[3];$t!=null&&(f.ka=$t,f.j.info("VER="+f.ka));const nr=ue[4];nr!=null&&(f.za=nr,f.j.info("SVER="+f.za));const En=ue[5];En!=null&&typeof En=="number"&&En>0&&(y=1.5*En,f.O=y,f.j.info("backChannelRequestTimeoutMs_="+y)),y=f;const kn=o.g;if(kn){const uo=kn.g?kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(uo){var D=y.h;D.g||uo.indexOf("spdy")==-1&&uo.indexOf("quic")==-1&&uo.indexOf("h2")==-1||(D.j=D.l,D.g=new Set,D.h&&(Ca(D,D.h),D.h=null))}if(y.G){const ba=kn.g?kn.g.getResponseHeader("X-HTTP-Session-Id"):null;ba&&(y.wa=ba,de(y.J,y.G,ba))}}f.I=3,f.l&&f.l.ra(),f.aa&&(f.T=Date.now()-o.F,f.j.info("Handshake RTT: "+f.T+"ms")),y=f;var B=o;if(y.na=qd(y,y.L?y.ba:null,y.W),B.L){Td(y.h,B);var X=B,Pe=y.O;Pe&&(X.H=Pe),X.D&&(Sa(X),to(X)),y.g=B}else Hd(y);f.i.length>0&&oo(f)}else ue[0]!="stop"&&ue[0]!="close"||tr(f,7);else f.I==3&&(ue[0]=="stop"||ue[0]=="close"?ue[0]=="stop"?tr(f,7):Pa(f):ue[0]!="noop"&&f.l&&f.l.qa(ue),f.A=0)}}Ss(4)}catch{}}var x0=class{constructor(o,h){this.g=o,this.map=h}};function Ed(o){this.l=o||10,l.PerformanceNavigationTiming?(o=l.performance.getEntriesByType("navigation"),o=o.length>0&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kd(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Sd(o){return o.h?1:o.g?o.g.size:0}function Ia(o,h){return o.h?o.h==h:o.g?o.g.has(h):!1}function Ca(o,h){o.g?o.g.add(h):o.h=h}function Td(o,h){o.h&&o.h==h?o.h=null:o.g&&o.g.has(h)&&o.g.delete(h)}Ed.prototype.cancel=function(){if(this.i=Id(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Id(o){if(o.h!=null)return o.i.concat(o.h.G);if(o.g!=null&&o.g.size!==0){let h=o.i;for(const f of o.g.values())h=h.concat(f.G);return h}return N(o.i)}var Cd=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function w0(o,h){if(o){o=o.split("&");for(let f=0;f<o.length;f++){const y=o[f].indexOf("=");let P,D=null;y>=0?(P=o[f].substring(0,y),D=o[f].substring(y+1)):P=o[f],h(P,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function _n(o){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let h;o instanceof _n?(this.l=o.l,As(this,o.j),this.o=o.o,this.g=o.g,Rs(this,o.u),this.h=o.h,Na(this,Dd(o.i)),this.m=o.m):o&&(h=String(o).match(Cd))?(this.l=!1,As(this,h[1]||"",!0),this.o=Ps(h[2]||""),this.g=Ps(h[3]||"",!0),Rs(this,h[4]),this.h=Ps(h[5]||"",!0),Na(this,h[6]||"",!0),this.m=Ps(h[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}_n.prototype.toString=function(){const o=[];var h=this.j;h&&o.push(js(h,Nd,!0),":");var f=this.g;return(f||h=="file")&&(o.push("//"),(h=this.o)&&o.push(js(h,Nd,!0),"@"),o.push(Cs(f).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.u,f!=null&&o.push(":",String(f))),(f=this.h)&&(this.g&&f.charAt(0)!="/"&&o.push("/"),o.push(js(f,f.charAt(0)=="/"?S0:k0,!0))),(f=this.i.toString())&&o.push("?",f),(f=this.m)&&o.push("#",js(f,I0)),o.join("")},_n.prototype.resolve=function(o){const h=Bt(this);let f=!!o.j;f?As(h,o.j):f=!!o.o,f?h.o=o.o:f=!!o.g,f?h.g=o.g:f=o.u!=null;var y=o.h;if(f)Rs(h,o.u);else if(f=!!o.h){if(y.charAt(0)!="/")if(this.g&&!this.h)y="/"+y;else{var P=h.h.lastIndexOf("/");P!=-1&&(y=h.h.slice(0,P+1)+y)}if(P=y,P==".."||P==".")y="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){y=P.lastIndexOf("/",0)==0,P=P.split("/");const D=[];for(let B=0;B<P.length;){const X=P[B++];X=="."?y&&B==P.length&&D.push(""):X==".."?((D.length>1||D.length==1&&D[0]!="")&&D.pop(),y&&B==P.length&&D.push("")):(D.push(X),y=!0)}y=D.join("/")}else y=P}return f?h.h=y:f=o.i.toString()!=="",f?Na(h,Dd(o.i)):f=!!o.m,f&&(h.m=o.m),h};function Bt(o){return new _n(o)}function As(o,h,f){o.j=f?Ps(h,!0):h,o.j&&(o.j=o.j.replace(/:$/,""))}function Rs(o,h){if(h){if(h=Number(h),isNaN(h)||h<0)throw Error("Bad port number "+h);o.u=h}else o.u=null}function Na(o,h,f){h instanceof Ds?(o.i=h,C0(o.i,o.l)):(f||(h=js(h,T0)),o.i=new Ds(h,o.l))}function de(o,h,f){o.i.set(h,f)}function no(o){return de(o,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),o}function Ps(o,h){return o?h?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function js(o,h,f){return typeof o=="string"?(o=encodeURI(o).replace(h,E0),f&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function E0(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Nd=/[#\/\?@]/g,k0=/[#\?:]/g,S0=/[#\?]/g,T0=/[#\?@]/g,I0=/#/g;function Ds(o,h){this.h=this.g=null,this.i=o||null,this.j=!!h}function er(o){o.g||(o.g=new Map,o.h=0,o.i&&w0(o.i,function(h,f){o.add(decodeURIComponent(h.replace(/\+/g," ")),f)}))}t=Ds.prototype,t.add=function(o,h){er(this),this.i=null,o=Ar(this,o);let f=this.g.get(o);return f||this.g.set(o,f=[]),f.push(h),this.h+=1,this};function Ad(o,h){er(o),h=Ar(o,h),o.g.has(h)&&(o.i=null,o.h-=o.g.get(h).length,o.g.delete(h))}function Rd(o,h){return er(o),h=Ar(o,h),o.g.has(h)}t.forEach=function(o,h){er(this),this.g.forEach(function(f,y){f.forEach(function(P){o.call(h,P,y,this)},this)},this)};function Pd(o,h){er(o);let f=[];if(typeof h=="string")Rd(o,h)&&(f=f.concat(o.g.get(Ar(o,h))));else for(o=Array.from(o.g.values()),h=0;h<o.length;h++)f=f.concat(o[h]);return f}t.set=function(o,h){return er(this),this.i=null,o=Ar(this,o),Rd(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[h]),this.h+=1,this},t.get=function(o,h){return o?(o=Pd(this,o),o.length>0?String(o[0]):h):h};function jd(o,h,f){Ad(o,h),f.length>0&&(o.i=null,o.g.set(Ar(o,h),N(f)),o.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],h=Array.from(this.g.keys());for(let y=0;y<h.length;y++){var f=h[y];const P=Cs(f);f=Pd(this,f);for(let D=0;D<f.length;D++){let B=P;f[D]!==""&&(B+="="+Cs(f[D])),o.push(B)}}return this.i=o.join("&")};function Dd(o){const h=new Ds;return h.i=o.i,o.g&&(h.g=new Map(o.g),h.h=o.h),h}function Ar(o,h){return h=String(h),o.j&&(h=h.toLowerCase()),h}function C0(o,h){h&&!o.j&&(er(o),o.i=null,o.g.forEach(function(f,y){const P=y.toLowerCase();y!=P&&(Ad(this,y),jd(this,P,f))},o)),o.j=h}function N0(o,h){const f=new Is;if(l.Image){const y=new Image;y.onload=p(xn,f,"TestLoadImage: loaded",!0,h,y),y.onerror=p(xn,f,"TestLoadImage: error",!1,h,y),y.onabort=p(xn,f,"TestLoadImage: abort",!1,h,y),y.ontimeout=p(xn,f,"TestLoadImage: timeout",!1,h,y),l.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=o}else h(!1)}function A0(o,h){const f=new Is,y=new AbortController,P=setTimeout(()=>{y.abort(),xn(f,"TestPingServer: timeout",!1,h)},1e4);fetch(o,{signal:y.signal}).then(D=>{clearTimeout(P),D.ok?xn(f,"TestPingServer: ok",!0,h):xn(f,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(P),xn(f,"TestPingServer: error",!1,h)})}function xn(o,h,f,y,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),y(f)}catch{}}function R0(){this.g=new d0}function Aa(o){this.i=o.Sb||null,this.h=o.ab||!1}g(Aa,ud),Aa.prototype.g=function(){return new ro(this.i,this.h)};function ro(o,h){Ge.call(this),this.H=o,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}g(ro,Ge),t=ro.prototype,t.open=function(o,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=o,this.D=h,this.readyState=1,Vs(this)},t.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const h={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};o&&(h.body=o),(this.H||l).fetch(new Request(this.D,h)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},t.Pa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Vs(this)),this.g&&(this.readyState=3,Vs(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;bd(this)}else o.text().then(this.Oa.bind(this),this.ga.bind(this))};function bd(o){o.j.read().then(o.Ma.bind(o)).catch(o.ga.bind(o))}t.Ma=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var h=o.value?o.value:new Uint8Array(0);(h=this.B.decode(h,{stream:!o.done}))&&(this.response=this.responseText+=h)}o.done?bs(this):Vs(this),this.readyState==3&&bd(this)}},t.Oa=function(o){this.g&&(this.response=this.responseText=o,bs(this))},t.Na=function(o){this.g&&(this.response=o,bs(this))},t.ga=function(){this.g&&bs(this)};function bs(o){o.readyState=4,o.l=null,o.j=null,o.B=null,Vs(o)}t.setRequestHeader=function(o,h){this.A.append(o,h)},t.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],h=this.h.entries();for(var f=h.next();!f.done;)f=f.value,o.push(f[0]+": "+f[1]),f=h.next();return o.join(`\r
`)};function Vs(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ro.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Vd(o){let h="";return Q(o,function(f,y){h+=y,h+=":",h+=f,h+=`\r
`}),h}function Ra(o,h,f){e:{for(y in f){var y=!1;break e}y=!0}y||(f=Vd(f),typeof o=="string"?f!=null&&Cs(f):de(o,h,f))}function Ee(o){Ge.call(this),this.headers=new Map,this.L=o||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}g(Ee,Ge);var P0=/^https?$/i,j0=["POST","PUT"];t=Ee.prototype,t.Fa=function(o){this.H=o},t.ea=function(o,h,f,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);h=h?h.toUpperCase():"GET",this.D=o,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():gd.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(h,String(o),!0),this.B=!1}catch(D){Md(this,D);return}if(o=f||"",f=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var P in y)f.set(P,y[P]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(const D of y.keys())f.set(D,y.get(D));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(f.keys()).find(D=>D.toLowerCase()=="content-type"),P=l.FormData&&o instanceof l.FormData,!(Array.prototype.indexOf.call(j0,h,void 0)>=0)||y||P||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[D,B]of f)this.g.setRequestHeader(D,B);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(o),this.v=!1}catch(D){Md(this,D)}};function Md(o,h){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=h,o.o=5,zd(o),so(o)}function zd(o){o.A||(o.A=!0,nt(o,"complete"),nt(o,"error"))}t.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=o||7,nt(this,"complete"),nt(this,"abort"),so(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),so(this,!0)),Ee.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ld(this):this.Xa())},t.Xa=function(){Ld(this)};function Ld(o){if(o.h&&typeof i<"u"){if(o.v&&wn(o)==4)setTimeout(o.Ca.bind(o),0);else if(nt(o,"readystatechange"),wn(o)==4){o.h=!1;try{const D=o.ca();e:switch(D){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var f;if(!(f=h)){var y;if(y=D===0){let B=String(o.D).match(Cd)[1]||null;!B&&l.self&&l.self.location&&(B=l.self.location.protocol.slice(0,-1)),y=!P0.test(B?B.toLowerCase():"")}f=y}if(f)nt(o,"complete"),nt(o,"success");else{o.o=6;try{var P=wn(o)>2?o.g.statusText:""}catch{P=""}o.l=P+" ["+o.ca()+"]",zd(o)}}finally{so(o)}}}}function so(o,h){if(o.g){o.m&&(clearTimeout(o.m),o.m=null);const f=o.g;o.g=null,h||nt(o,"ready");try{f.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function wn(o){return o.g?o.g.readyState:0}t.ca=function(){try{return wn(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(o){if(this.g){var h=this.g.responseText;return o&&h.indexOf(o)==0&&(h=h.substring(o.length)),h0(h)}};function Od(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.F){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function D0(o){const h={};o=(o.g&&wn(o)>=2&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<o.length;y++){if(k(o[y]))continue;var f=y0(o[y]);const P=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();const D=h[P]||[];h[P]=D,D.push(f)}K(h,function(y){return y.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ms(o,h,f){return f&&f.internalChannelParams&&f.internalChannelParams[o]||h}function Fd(o){this.za=0,this.i=[],this.j=new Is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ms("failFast",!1,o),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ms("baseRetryDelayMs",5e3,o),this.Za=Ms("retryDelaySeedMs",1e4,o),this.Ta=Ms("forwardChannelMaxRetries",2,o),this.va=Ms("forwardChannelRequestTimeoutMs",2e4,o),this.ma=o&&o.xmlHttpFactory||void 0,this.Ua=o&&o.Rb||void 0,this.Aa=o&&o.useFetchStreams||!1,this.O=void 0,this.L=o&&o.supportsCrossDomainXhr||!1,this.M="",this.h=new Ed(o&&o.concurrentRequestLimit),this.Ba=new R0,this.S=o&&o.fastHandshake||!1,this.R=o&&o.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=o&&o.Pb||!1,o&&o.ua&&this.j.ua(),o&&o.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&o&&o.detectBufferingProxy||!1,this.ia=void 0,o&&o.longPollingTimeout&&o.longPollingTimeout>0&&(this.ia=o.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Fd.prototype,t.ka=8,t.I=1,t.connect=function(o,h,f,y){rt(0),this.W=o,this.H=h||{},f&&y!==void 0&&(this.H.OSID=f,this.H.OAID=y),this.F=this.X,this.J=qd(this,null,this.W),oo(this)};function Pa(o){if(Ud(o),o.I==3){var h=o.V++,f=Bt(o.J);if(de(f,"SID",o.M),de(f,"RID",h),de(f,"TYPE","terminate"),zs(o,f),h=new vn(o,o.j,h),h.M=2,h.A=no(Bt(f)),f=!1,l.navigator&&l.navigator.sendBeacon)try{f=l.navigator.sendBeacon(h.A.toString(),"")}catch{}!f&&l.Image&&(new Image().src=h.A,f=!0),f||(h.g=Xd(h.j,null),h.g.ea(h.A)),h.F=Date.now(),to(h)}Qd(o)}function io(o){o.g&&(Da(o),o.g.cancel(),o.g=null)}function Ud(o){io(o),o.v&&(l.clearTimeout(o.v),o.v=null),lo(o),o.h.cancel(),o.m&&(typeof o.m=="number"&&l.clearTimeout(o.m),o.m=null)}function oo(o){if(!kd(o.h)&&!o.m){o.m=!0;var h=o.Ea;b||v(),L||(b(),L=!0),E.add(h,o),o.D=0}}function b0(o,h){return Sd(o.h)>=o.h.j-(o.m?1:0)?!1:o.m?(o.i=h.G.concat(o.i),!0):o.I==1||o.I==2||o.D>=(o.Sa?0:o.Ta)?!1:(o.m=Ts(d(o.Ea,o,h),Gd(o,o.D)),o.D++,!0)}t.Ea=function(o){if(this.m)if(this.m=null,this.I==1){if(!o){this.V=Math.floor(Math.random()*1e5),o=this.V++;const P=new vn(this,this.j,o);let D=this.o;if(this.U&&(D?(D=re(D),en(D,this.U)):D=this.U),this.u!==null||this.R||(P.J=D,D=null),this.S)e:{for(var h=0,f=0;f<this.i.length;f++){t:{var y=this.i[f];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(h+=y,h>4096){h=f;break e}if(h===4096||f===this.i.length-1){h=f+1;break e}}h=1e3}else h=1e3;h=$d(this,P,h),f=Bt(this.J),de(f,"RID",o),de(f,"CVER",22),this.G&&de(f,"X-HTTP-Session-Id",this.G),zs(this,f),D&&(this.R?h="headers="+Cs(Vd(D))+"&"+h:this.u&&Ra(f,this.u,D)),Ca(this.h,P),this.Ra&&de(f,"TYPE","init"),this.S?(de(f,"$req",h),de(f,"SID","null"),P.U=!0,ka(P,f,null)):ka(P,f,h),this.I=2}}else this.I==3&&(o?Bd(this,o):this.i.length==0||kd(this.h)||Bd(this))};function Bd(o,h){var f;h?f=h.l:f=o.V++;const y=Bt(o.J);de(y,"SID",o.M),de(y,"RID",f),de(y,"AID",o.K),zs(o,y),o.u&&o.o&&Ra(y,o.u,o.o),f=new vn(o,o.j,f,o.D+1),o.u===null&&(f.J=o.o),h&&(o.i=h.G.concat(o.i)),h=$d(o,f,1e3),f.H=Math.round(o.va*.5)+Math.round(o.va*.5*Math.random()),Ca(o.h,f),ka(f,y,h)}function zs(o,h){o.H&&Q(o.H,function(f,y){de(h,y,f)}),o.l&&Q({},function(f,y){de(h,y,f)})}function $d(o,h,f){f=Math.min(o.i.length,f);const y=o.l?d(o.l.Ka,o.l,o):null;e:{var P=o.i;let X=-1;for(;;){const Pe=["count="+f];X==-1?f>0?(X=P[0].g,Pe.push("ofs="+X)):X=0:Pe.push("ofs="+X);let ue=!0;for(let be=0;be<f;be++){var D=P[be].g;const $t=P[be].map;if(D-=X,D<0)X=Math.max(0,P[be].g-100),ue=!1;else try{D="req"+D+"_"||"";try{var B=$t instanceof Map?$t:Object.entries($t);for(const[nr,En]of B){let kn=En;a(En)&&(kn=va(En)),Pe.push(D+nr+"="+encodeURIComponent(kn))}}catch(nr){throw Pe.push(D+"type="+encodeURIComponent("_badmap")),nr}}catch{y&&y($t)}}if(ue){B=Pe.join("&");break e}}B=void 0}return o=o.i.splice(0,f),h.G=o,B}function Hd(o){if(!o.g&&!o.v){o.Y=1;var h=o.Da;b||v(),L||(b(),L=!0),E.add(h,o),o.A=0}}function ja(o){return o.g||o.v||o.A>=3?!1:(o.Y++,o.v=Ts(d(o.Da,o),Gd(o,o.A)),o.A++,!0)}t.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var o=4*this.T;this.j.info("BP detection timer enabled: "+o),this.B=Ts(d(this.Wa,this),o)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rt(10),io(this),Wd(this))};function Da(o){o.B!=null&&(l.clearTimeout(o.B),o.B=null)}function Wd(o){o.g=new vn(o,o.j,"rpc",o.Y),o.u===null&&(o.g.J=o.o),o.g.P=0;var h=Bt(o.na);de(h,"RID","rpc"),de(h,"SID",o.M),de(h,"AID",o.K),de(h,"CI",o.F?"0":"1"),!o.F&&o.ia&&de(h,"TO",o.ia),de(h,"TYPE","xmlhttp"),zs(o,h),o.u&&o.o&&Ra(h,o.u,o.o),o.O&&(o.g.H=o.O);var f=o.g;o=o.ba,f.M=1,f.A=no(Bt(h)),f.u=null,f.R=!0,_d(f,o)}t.Va=function(){this.C!=null&&(this.C=null,io(this),ja(this),rt(19))};function lo(o){o.C!=null&&(l.clearTimeout(o.C),o.C=null)}function Kd(o,h){var f=null;if(o.g==h){lo(o),Da(o),o.g=null;var y=2}else if(Ia(o.h,h))f=h.G,Td(o.h,h),y=1;else return;if(o.I!=0){if(h.o)if(y==1){f=h.u?h.u.length:0,h=Date.now()-h.F;var P=o.D;y=Zi(),nt(y,new pd(y,f)),oo(o)}else Hd(o);else if(P=h.m,P==3||P==0&&h.X>0||!(y==1&&b0(o,h)||y==2&&ja(o)))switch(f&&f.length>0&&(h=o.h,h.i=h.i.concat(f)),P){case 1:tr(o,5);break;case 4:tr(o,10);break;case 3:tr(o,6);break;default:tr(o,2)}}}function Gd(o,h){let f=o.Qa+Math.floor(Math.random()*o.Za);return o.isActive()||(f*=2),f*h}function tr(o,h){if(o.j.info("Error code "+h),h==2){var f=d(o.bb,o),y=o.Ua;const P=!y;y=new _n(y||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||As(y,"https"),no(y),P?N0(y.toString(),f):A0(y.toString(),f)}else rt(2);o.I=0,o.l&&o.l.pa(h),Qd(o),Ud(o)}t.bb=function(o){o?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function Qd(o){if(o.I=0,o.ja=[],o.l){const h=Id(o.h);(h.length!=0||o.i.length!=0)&&(A(o.ja,h),A(o.ja,o.i),o.h.i.length=0,N(o.i),o.i.length=0),o.l.oa()}}function qd(o,h,f){var y=f instanceof _n?Bt(f):new _n(f);if(y.g!="")h&&(y.g=h+"."+y.g),Rs(y,y.u);else{var P=l.location;y=P.protocol,h=h?h+"."+P.hostname:P.hostname,P=+P.port;const D=new _n(null);y&&As(D,y),h&&(D.g=h),P&&Rs(D,P),f&&(D.h=f),y=D}return f=o.G,h=o.wa,f&&h&&de(y,f,h),de(y,"VER",o.ka),zs(o,y),y}function Xd(o,h,f){if(h&&!o.L)throw Error("Can't create secondary domain capable XhrIo object.");return h=o.Aa&&!o.ma?new Ee(new Aa({ab:f})):new Ee(o.ma),h.Fa(o.L),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yd(){}t=Yd.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ao(){}ao.prototype.g=function(o,h){return new yt(o,h)};function yt(o,h){Ge.call(this),this.g=new Fd(h),this.l=o,this.h=h&&h.messageUrlParams||null,o=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(o?o["X-WebChannel-Content-Type"]=h.messageContentType:o={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.sa&&(o?o["X-WebChannel-Client-Profile"]=h.sa:o={"X-WebChannel-Client-Profile":h.sa}),this.g.U=o,(o=h&&h.Qb)&&!k(o)&&(this.g.u=o),this.A=h&&h.supportsCrossDomainXhr||!1,this.v=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!k(h)&&(this.g.G=h,o=this.h,o!==null&&h in o&&(o=this.h,h in o&&delete o[h])),this.j=new Rr(this)}g(yt,Ge),yt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yt.prototype.close=function(){Pa(this.g)},yt.prototype.o=function(o){var h=this.g;if(typeof o=="string"){var f={};f.__data__=o,o=f}else this.v&&(f={},f.__data__=va(o),o=f);h.i.push(new x0(h.Ya++,o)),h.I==3&&oo(h)},yt.prototype.N=function(){this.g.l=null,delete this.j,Pa(this.g),delete this.g,yt.Z.N.call(this)};function Jd(o){_a.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var h=o.__sm__;if(h){e:{for(const f in h){o=f;break e}o=void 0}(this.i=o)&&(o=this.i,h=h!==null&&o in h?h[o]:void 0),this.data=h}else this.data=o}g(Jd,_a);function Zd(){xa.call(this),this.status=1}g(Zd,xa);function Rr(o){this.g=o}g(Rr,Yd),Rr.prototype.ra=function(){nt(this.g,"a")},Rr.prototype.qa=function(o){nt(this.g,new Jd(o))},Rr.prototype.pa=function(o){nt(this.g,new Zd)},Rr.prototype.oa=function(){nt(this.g,"b")},ao.prototype.createWebChannel=ao.prototype.g,yt.prototype.send=yt.prototype.o,yt.prototype.open=yt.prototype.m,yt.prototype.close=yt.prototype.close,rv=function(){return new ao},nv=function(){return Zi()},tv=Jn,yc={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},eo.NO_ERROR=0,eo.TIMEOUT=8,eo.HTTP_ERROR=6,Ko=eo,md.COMPLETE="complete",ev=md,cd.EventType=ks,ks.OPEN="a",ks.CLOSE="b",ks.ERROR="c",ks.MESSAGE="d",Ge.prototype.listen=Ge.prototype.J,Ys=cd,Ee.prototype.listenOnce=Ee.prototype.K,Ee.prototype.getLastError=Ee.prototype.Ha,Ee.prototype.getLastErrorCode=Ee.prototype.ya,Ee.prototype.getStatus=Ee.prototype.ca,Ee.prototype.getResponseJson=Ee.prototype.La,Ee.prototype.getResponseText=Ee.prototype.la,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Fa,Zy=Ee}).apply(typeof No<"u"?No:typeof self<"u"?self:typeof window<"u"?window:{});const Rp="@firebase/firestore",Pp="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xs="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new Gy("@firebase/firestore");function Dr(){return xr.logLevel}function W(t,...e){if(xr.logLevel<=te.DEBUG){const n=e.map(Ph);xr.debug(`Firestore (${xs}): ${t}`,...n)}}function wr(t,...e){if(xr.logLevel<=te.ERROR){const n=e.map(Ph);xr.error(`Firestore (${xs}): ${t}`,...n)}}function ra(t,...e){if(xr.logLevel<=te.WARN){const n=e.map(Ph);xr.warn(`Firestore (${xs}): ${t}`,...n)}}function Ph(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,sv(t,r,n)}function sv(t,e,n){let r=`FIRESTORE (${xs}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw wr(r),new Error(r)}function Se(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||sv(e,s,r)}function he(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class G extends _s{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class WE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ye.UNAUTHENTICATED))}shutdown(){}}class KE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class GE{constructor(e){this.t=e,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Se(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new fr;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new fr,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{W("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(W("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new fr)}},0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(W("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Se(typeof r.accessToken=="string",31837,{l:r}),new iv(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Se(e===null||typeof e=="string",2055,{h:e}),new Ye(e)}}class QE{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qE{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new QE(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ye.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XE{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,NE(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Se(this.o===void 0,3512);const r=i=>{i.error!=null&&W("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const l=i.token!==this.m;return this.m=i.token,W("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{W("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):W("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new jp(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Se(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new jp(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=YE(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function se(t,e){return t<e?-1:t>e?1:0}function vc(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return du(s)===du(i)?se(s,i):du(s)?1:-1}return se(t.length,e.length)}const JE=55296,ZE=57343;function du(t){const e=t.charCodeAt(0);return e>=JE&&e<=ZE}function us(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dp="__name__";class Kt{constructor(e,n,r){n===void 0?n=0:n>e.length&&J(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&J(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Kt.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Kt?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Kt.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return se(e.length,n.length)}static compareSegments(e,n){const r=Kt.isNumericId(e),s=Kt.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Kt.extractNumericId(e).compare(Kt.extractNumericId(n)):vc(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rh.fromString(e.substring(4,e.length-2))}}class Ie extends Kt{construct(e,n,r){return new Ie(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new G(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Ie(n)}static emptyPath(){return new Ie([])}}const e2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $e extends Kt{construct(e,n,r){return new $e(e,n,r)}static isValidIdentifier(e){return e2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$e.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Dp}static keyField(){return new $e([Dp])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new G(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new G(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new G(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(l=!l,s++):a!=="."||l?(r+=a,s++):(i(),s++)}if(i(),l)throw new G(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $e(n)}static emptyPath(){return new $e([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.path=e}static fromPath(e){return new Y(Ie.fromString(e))}static fromName(e){return new Y(Ie.fromString(e).popFirst(5))}static empty(){return new Y(Ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ie.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Y(new Ie(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2(t,e,n){if(!n)throw new G(O.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function n2(t,e,n,r){if(e===!0&&r===!0)throw new G(O.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function bp(t){if(!Y.isDocumentKey(t))throw new G(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ov(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Dh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":J(12329,{type:typeof t})}function _c(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new G(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Dh(t);throw new G(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t,e){const n={typeString:t};return e&&(n.value=e),n}function Ki(t,e){if(!ov(t))throw new G(O.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const l=t[r];if(s&&typeof l!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&l!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new G(O.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vp=-62135596800,Mp=1e6;class ye{static now(){return ye.fromMillis(Date.now())}static fromDate(e){return ye.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Mp);return new ye(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new G(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Vp)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new G(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Mp}_compareTo(e){return this.seconds===e.seconds?se(this.nanoseconds,e.nanoseconds):se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ye._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Ki(e,ye._jsonSchema))return new ye(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Vp;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ye._jsonSchemaVersion="firestore/timestamp/1.0",ye._jsonSchema={type:Ae("string",ye._jsonSchemaVersion),seconds:Ae("number"),nanoseconds:Ae("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{static fromTimestamp(e){return new me(e)}static min(){return new me(new ye(0,0))}static max(){return new me(new ye(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=-1;function r2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=me.fromTimestamp(r===1e9?new ye(n+1,0):new ye(n,r));return new Hn(s,Y.empty(),e)}function s2(t){return new Hn(t.readTime,t.key,bi)}class Hn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Hn(me.min(),Y.empty(),bi)}static max(){return new Hn(me.max(),Y.empty(),bi)}}function i2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:se(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class l2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bh(t){if(t.code!==O.FAILED_PRECONDITION||t.message!==o2)throw t;W("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&J(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new z((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof z?n:z.resolve(n)}catch(n){return z.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):z.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):z.reject(n)}static resolve(e){return new z((n,r)=>{n(e)})}static reject(e){return new z((n,r)=>{r(e)})}static waitFor(e){return new z((n,r)=>{let s=0,i=0,l=!1;e.forEach(a=>{++s,a.next(()=>{++i,l&&i===s&&n()},c=>r(c))}),l=!0,i===s&&n()})}static or(e){let n=z.resolve(!1);for(const r of e)n=n.next(s=>s?z.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new z((r,s)=>{const i=e.length,l=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(p=>{l[d]=p,++a,a===i&&r(l)},p=>s(p))}})}static doWhile(e,n){return new z((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function a2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Gi(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Vh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=-1;function zh(t){return t==null}function Cl(t){return t===0&&1/t==-1/0}function u2(t){return typeof t=="number"&&Number.isInteger(t)&&!Cl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="";function c2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=zp(e)),e=h2(t.get(n),e);return zp(e)}function h2(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case lv:n+="";break;default:n+=i}}return n}function zp(t){return t+lv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lp(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ws(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function av(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,n){this.comparator=e,this.root=n||Ue.EMPTY}insert(e,n){return new gt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ue.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ue.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ao(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ao(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ao(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ao(this.root,e,this.comparator,!0)}}class Ao{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ue{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ue.RED,this.left=s??Ue.EMPTY,this.right=i??Ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ue(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ue.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw J(43730,{key:this.key,value:this.value});if(this.right.isRed())throw J(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw J(27949);return e+(this.isRed()?0:1)}}Ue.EMPTY=null,Ue.RED=!0,Ue.BLACK=!1;Ue.EMPTY=new class{constructor(){this.size=0}get key(){throw J(57766)}get value(){throw J(16141)}get color(){throw J(16727)}get left(){throw J(29726)}get right(){throw J(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ue(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Op(this.data.getIterator())}getIteratorFrom(e){return new Op(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof We)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new We(this.comparator);return n.data=e,n}}class Op{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.fields=e,e.sort($e.comparator)}static empty(){return new Lt([])}unionWith(e){let n=new We($e.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Lt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return us(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new d2("Invalid base64 string: "+i):i}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let l=0;l<s.length;++l)i+=String.fromCharCode(s[l]);return i}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const f2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(t){if(Se(!!t,39018),typeof t=="string"){let e=0;const n=f2.exec(t);if(Se(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function cs(t){return typeof t=="string"?Xt.fromBase64String(t):Xt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="server_timestamp",cv="__type__",hv="__previous_value__",dv="__local_write_time__";function Lh(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[cv])==null?void 0:r.stringValue)===uv}function Oh(t){const e=t.mapValue.fields[hv];return Lh(e)?Oh(e):e}function Nl(t){const e=Er(t.mapValue.fields[dv].timestampValue);return new ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n,r,s,i,l,a,c,d,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=l,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=p}}const Al="(default)";class Rl{constructor(e,n){this.projectId=e,this.database=n||Al}static empty(){return new Rl("","")}get isDefaultDatabase(){return this.database===Al}isEqual(e){return e instanceof Rl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__type__",m2="__max__",Ro={mapValue:{}},pv="__vector__",xc="value";function kr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lh(t)?4:y2(t)?9007199254740991:g2(t)?10:11:J(28295,{value:t})}function Yt(t,e){if(t===e)return!0;const n=kr(t);if(n!==kr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nl(t).isEqual(Nl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const l=Er(s.timestampValue),a=Er(i.timestampValue);return l.seconds===a.seconds&&l.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return cs(s.bytesValue).isEqual(cs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Be(s.geoPointValue.latitude)===Be(i.geoPointValue.latitude)&&Be(s.geoPointValue.longitude)===Be(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Be(s.integerValue)===Be(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const l=Be(s.doubleValue),a=Be(i.doubleValue);return l===a?Cl(l)===Cl(a):isNaN(l)&&isNaN(a)}return!1}(t,e);case 9:return us(t.arrayValue.values||[],e.arrayValue.values||[],Yt);case 10:case 11:return function(s,i){const l=s.mapValue.fields||{},a=i.mapValue.fields||{};if(Lp(l)!==Lp(a))return!1;for(const c in l)if(l.hasOwnProperty(c)&&(a[c]===void 0||!Yt(l[c],a[c])))return!1;return!0}(t,e);default:return J(52216,{left:t})}}function Vi(t,e){return(t.values||[]).find(n=>Yt(n,e))!==void 0}function hs(t,e){if(t===e)return 0;const n=kr(t),r=kr(e);if(n!==r)return se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return se(t.booleanValue,e.booleanValue);case 2:return function(i,l){const a=Be(i.integerValue||i.doubleValue),c=Be(l.integerValue||l.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Fp(t.timestampValue,e.timestampValue);case 4:return Fp(Nl(t),Nl(e));case 5:return vc(t.stringValue,e.stringValue);case 6:return function(i,l){const a=cs(i),c=cs(l);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,l){const a=i.split("/"),c=l.split("/");for(let d=0;d<a.length&&d<c.length;d++){const p=se(a[d],c[d]);if(p!==0)return p}return se(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,l){const a=se(Be(i.latitude),Be(l.latitude));return a!==0?a:se(Be(i.longitude),Be(l.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Up(t.arrayValue,e.arrayValue);case 10:return function(i,l){var m,N,A,R;const a=i.fields||{},c=l.fields||{},d=(m=a[xc])==null?void 0:m.arrayValue,p=(N=c[xc])==null?void 0:N.arrayValue,g=se(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((R=p==null?void 0:p.values)==null?void 0:R.length)||0);return g!==0?g:Up(d,p)}(t.mapValue,e.mapValue);case 11:return function(i,l){if(i===Ro.mapValue&&l===Ro.mapValue)return 0;if(i===Ro.mapValue)return 1;if(l===Ro.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=l.fields||{},p=Object.keys(d);c.sort(),p.sort();for(let g=0;g<c.length&&g<p.length;++g){const m=vc(c[g],p[g]);if(m!==0)return m;const N=hs(a[c[g]],d[p[g]]);if(N!==0)return N}return se(c.length,p.length)}(t.mapValue,e.mapValue);default:throw J(23264,{he:n})}}function Fp(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return se(t,e);const n=Er(t),r=Er(e),s=se(n.seconds,r.seconds);return s!==0?s:se(n.nanos,r.nanos)}function Up(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=hs(n[s],r[s]);if(i)return i}return se(n.length,r.length)}function ds(t){return wc(t)}function wc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Er(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return cs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=wc(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const l of r)i?i=!1:s+=",",s+=`${l}:${wc(n.fields[l])}`;return s+"}"}(t.mapValue):J(61005,{value:t})}function Go(t){switch(kr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Oh(t);return e?16+Go(e):16;case 5:return 2*t.stringValue.length;case 6:return cs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Go(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return ws(r.fields,(i,l)=>{s+=i.length+Go(l)}),s}(t.mapValue);default:throw J(13486,{value:t})}}function Ec(t){return!!t&&"integerValue"in t}function Fh(t){return!!t&&"arrayValue"in t}function Qo(t){return!!t&&"mapValue"in t}function g2(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[fv])==null?void 0:r.stringValue)===pv}function ai(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return ws(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ai(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ai(t.arrayValue.values[n]);return e}return{...t}}function y2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===m2}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.value=e}static empty(){return new Mt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Qo(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ai(n)}setAll(e){let n=$e.emptyPath(),r={},s=[];e.forEach((l,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}l?r[a.lastSegment()]=ai(l):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Qo(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yt(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Qo(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){ws(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new Mt(ai(this.value))}}function mv(t){const e=[];return ws(t.fields,(n,r)=>{const s=new $e([n]);if(Qo(r)){const i=mv(r.mapValue).fields;if(i.length===0)e.push(s);else for(const l of i)e.push(s.child(l))}else e.push(s)}),new Lt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e,n,r,s,i,l,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=l,this.documentState=a}static newInvalidDocument(e){return new Vt(e,0,me.min(),me.min(),me.min(),Mt.empty(),0)}static newFoundDocument(e,n,r,s){return new Vt(e,1,n,me.min(),r,s,0)}static newNoDocument(e,n){return new Vt(e,2,n,me.min(),me.min(),Mt.empty(),0)}static newUnknownDocument(e,n){return new Vt(e,3,n,me.min(),me.min(),Mt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(me.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Mt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Mt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=me.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n){this.position=e,this.inclusive=n}}function Bp(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],l=t.position[s];if(i.field.isKeyField()?r=Y.comparator(Y.fromName(l.referenceValue),n.key):r=hs(l,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $p(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yt(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jl{constructor(e,n="asc"){this.field=e,this.dir=n}}function v2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{}class ze extends gv{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new x2(e,n,r):n==="array-contains"?new k2(e,r):n==="in"?new S2(e,r):n==="not-in"?new T2(e,r):n==="array-contains-any"?new I2(e,r):new ze(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new w2(e,r):new E2(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(hs(n,this.value)):n!==null&&kr(this.value)===kr(n)&&this.matchesComparison(hs(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return J(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wn extends gv{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Wn(e,n)}matches(e){return yv(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yv(t){return t.op==="and"}function vv(t){return _2(t)&&yv(t)}function _2(t){for(const e of t.filters)if(e instanceof Wn)return!1;return!0}function kc(t){if(t instanceof ze)return t.field.canonicalString()+t.op.toString()+ds(t.value);if(vv(t))return t.filters.map(e=>kc(e)).join(",");{const e=t.filters.map(n=>kc(n)).join(",");return`${t.op}(${e})`}}function _v(t,e){return t instanceof ze?function(r,s){return s instanceof ze&&r.op===s.op&&r.field.isEqual(s.field)&&Yt(r.value,s.value)}(t,e):t instanceof Wn?function(r,s){return s instanceof Wn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,l,a)=>i&&_v(l,s.filters[a]),!0):!1}(t,e):void J(19439)}function xv(t){return t instanceof ze?function(n){return`${n.field.canonicalString()} ${n.op} ${ds(n.value)}`}(t):t instanceof Wn?function(n){return n.op.toString()+" {"+n.getFilters().map(xv).join(" ,")+"}"}(t):"Filter"}class x2 extends ze{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){const n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}}class w2 extends ze{constructor(e,n){super(e,"in",n),this.keys=wv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class E2 extends ze{constructor(e,n){super(e,"not-in",n),this.keys=wv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wv(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}class k2 extends ze{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fh(n)&&Vi(n.arrayValue,this.value)}}class S2 extends ze{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Vi(this.value.arrayValue,n)}}class T2 extends ze{constructor(e,n){super(e,"not-in",n)}matches(e){if(Vi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Vi(this.value.arrayValue,n)}}class I2 extends ze{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Vi(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,n=null,r=[],s=[],i=null,l=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=l,this.endAt=a,this.Te=null}}function Hp(t,e=null,n=[],r=[],s=null,i=null,l=null){return new C2(t,e,n,r,s,i,l)}function Uh(t){const e=he(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>kc(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ds(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ds(r)).join(",")),e.Te=n}return e.Te}function Bh(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!v2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_v(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$p(t.startAt,e.startAt)&&$p(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(e,n=null,r=[],s=[],i=null,l="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=l,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function N2(t,e,n,r,s,i,l,a){return new sa(t,e,n,r,s,i,l,a)}function A2(t){return new sa(t)}function Wp(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function R2(t){return t.collectionGroup!==null}function ui(t){const e=he(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let a=new We($e.comparator);return l.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new jl(i,r))}),n.has($e.keyField().canonicalString())||e.Ie.push(new jl($e.keyField(),r))}return e.Ie}function pr(t){const e=he(t);return e.Ee||(e.Ee=P2(e,ui(t))),e.Ee}function P2(t,e){if(t.limitType==="F")return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new jl(s.field,i)});const n=t.endAt?new Pl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Pl(t.startAt.position,t.startAt.inclusive):null;return Hp(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sc(t,e,n){return new sa(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ev(t,e){return Bh(pr(t),pr(e))&&t.limitType===e.limitType}function kv(t){return`${Uh(pr(t))}|lt:${t.limitType}`}function Ks(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>xv(s)).join(", ")}]`),zh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ds(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ds(s)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function $h(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):Y.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ui(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(l,a,c){const d=Bp(l,a,c);return l.inclusive?d<=0:d<0}(r.startAt,ui(r),s)||r.endAt&&!function(l,a,c){const d=Bp(l,a,c);return l.inclusive?d>=0:d>0}(r.endAt,ui(r),s))}(t,e)}function j2(t){return(e,n)=>{let r=!1;for(const s of ui(t)){const i=D2(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function D2(t,e,n){const r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(i,l,a){const c=l.data.field(i),d=a.data.field(i);return c!==null&&d!==null?hs(c,d):J(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return J(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){ws(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return av(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b2=new gt(Y.comparator);function Dl(){return b2}const Sv=new gt(Y.comparator);function Po(...t){let e=Sv;for(const n of t)e=e.insert(n.key,n);return e}function Tv(t){let e=Sv;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function ur(){return ci()}function Iv(){return ci()}function ci(){return new Ir(t=>t.toString(),(t,e)=>t.isEqual(e))}const V2=new gt(Y.comparator),M2=new We(Y.comparator);function Ze(...t){let e=M2;for(const n of t)e=e.add(n);return e}const z2=new We(se);function L2(){return z2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hh(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Cl(e)?"-0":e}}function Cv(t){return{integerValue:""+t}}function O2(t,e){return u2(e)?Cv(e):Hh(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(){this._=void 0}}function F2(t,e,n){return t instanceof Mi?function(s,i){const l={fields:{[cv]:{stringValue:uv},[dv]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Lh(i)&&(i=Oh(i)),i&&(l.fields[hv]=i),{mapValue:l}}(n,e):t instanceof zi?Av(t,e):t instanceof Li?Rv(t,e):function(s,i){const l=Nv(s,i),a=Kp(l)+Kp(s.Ae);return Ec(l)&&Ec(s.Ae)?Cv(a):Hh(s.serializer,a)}(t,e)}function U2(t,e,n){return t instanceof zi?Av(t,e):t instanceof Li?Rv(t,e):n}function Nv(t,e){return t instanceof bl?function(r){return Ec(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Mi extends ia{}class zi extends ia{constructor(e){super(),this.elements=e}}function Av(t,e){const n=Pv(e);for(const r of t.elements)n.some(s=>Yt(s,r))||n.push(r);return{arrayValue:{values:n}}}class Li extends ia{constructor(e){super(),this.elements=e}}function Rv(t,e){let n=Pv(e);for(const r of t.elements)n=n.filter(s=>!Yt(s,r));return{arrayValue:{values:n}}}class bl extends ia{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Kp(t){return Be(t.integerValue||t.doubleValue)}function Pv(t){return Fh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(e,n){this.field=e,this.transform=n}}function $2(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof zi&&s instanceof zi||r instanceof Li&&s instanceof Li?us(r.elements,s.elements,Yt):r instanceof bl&&s instanceof bl?Yt(r.Ae,s.Ae):r instanceof Mi&&s instanceof Mi}(t.transform,e.transform)}class H2{constructor(e,n){this.version=e,this.transformResults=n}}class an{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new an}static exists(e){return new an(void 0,e)}static updateTime(e){return new an(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class oa{}function jv(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new bv(t.key,an.none()):new Qi(t.key,t.data,an.none());{const n=t.data,r=Mt.empty();let s=new We($e.comparator);for(let i of e.fields)if(!s.has(i)){let l=n.field(i);l===null&&i.length>1&&(i=i.popLast(),l=n.field(i)),l===null?r.delete(i):r.set(i,l),s=s.add(i)}return new Cr(t.key,r,new Lt(s.toArray()),an.none())}}function W2(t,e,n){t instanceof Qi?function(s,i,l){const a=s.value.clone(),c=Qp(s.fieldTransforms,i,l.transformResults);a.setAll(c),i.convertToFoundDocument(l.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Cr?function(s,i,l){if(!qo(s.precondition,i))return void i.convertToUnknownDocument(l.version);const a=Qp(s.fieldTransforms,i,l.transformResults),c=i.data;c.setAll(Dv(s)),c.setAll(a),i.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,l){i.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,n)}function hi(t,e,n,r){return t instanceof Qi?function(i,l,a,c){if(!qo(i.precondition,l))return a;const d=i.value.clone(),p=qp(i.fieldTransforms,c,l);return d.setAll(p),l.convertToFoundDocument(l.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Cr?function(i,l,a,c){if(!qo(i.precondition,l))return a;const d=qp(i.fieldTransforms,c,l),p=l.data;return p.setAll(Dv(i)),p.setAll(d),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(i,l,a){return qo(i.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):a}(t,e,n)}function K2(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=Nv(r.transform,s||null);i!=null&&(n===null&&(n=Mt.empty()),n.set(r.field,i))}return n||null}function Gp(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&us(r,s,(i,l)=>$2(i,l))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Qi extends oa{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Cr extends oa{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Dv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Qp(t,e,n){const r=new Map;Se(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let s=0;s<n.length;s++){const i=t[s],l=i.transform,a=e.data.field(i.field);r.set(i.field,U2(l,a,n[s]))}return r}function qp(t,e,n){const r=new Map;for(const s of t){const i=s.transform,l=n.data.field(s.field);r.set(s.field,F2(i,l,e))}return r}class bv extends oa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class G2 extends oa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&W2(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=hi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Iv();return this.mutations.forEach(s=>{const i=e.get(s.key),l=i.overlayedDocument;let a=this.applyToLocalView(l,i.mutatedFields);a=n.has(s.key)?null:a;const c=jv(l,a);c!==null&&r.set(s.key,c),l.isValidDocument()||l.convertToNoDocument(me.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ze())}isEqual(e){return this.batchId===e.batchId&&us(this.mutations,e.mutations,(n,r)=>Gp(n,r))&&us(this.baseMutations,e.baseMutations,(n,r)=>Gp(n,r))}}class Wh{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Se(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return V2}();const i=e.mutations;for(let l=0;l<i.length;l++)s=s.insert(i[l].key,r[l].version);return new Wh(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce,ee;function X2(t){switch(t){case O.OK:return J(64938);case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0;default:return J(15467,{code:t})}}function Y2(t){if(t===void 0)return wr("GRPC error has no .code"),O.UNKNOWN;switch(t){case Ce.OK:return O.OK;case Ce.CANCELLED:return O.CANCELLED;case Ce.UNKNOWN:return O.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return O.INTERNAL;case Ce.UNAVAILABLE:return O.UNAVAILABLE;case Ce.UNAUTHENTICATED:return O.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case Ce.NOT_FOUND:return O.NOT_FOUND;case Ce.ALREADY_EXISTS:return O.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return O.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case Ce.ABORTED:return O.ABORTED;case Ce.OUT_OF_RANGE:return O.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return O.UNIMPLEMENTED;case Ce.DATA_LOSS:return O.DATA_LOSS;default:return J(39323,{code:t})}}(ee=Ce||(Ce={}))[ee.OK=0]="OK",ee[ee.CANCELLED=1]="CANCELLED",ee[ee.UNKNOWN=2]="UNKNOWN",ee[ee.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ee[ee.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ee[ee.NOT_FOUND=5]="NOT_FOUND",ee[ee.ALREADY_EXISTS=6]="ALREADY_EXISTS",ee[ee.PERMISSION_DENIED=7]="PERMISSION_DENIED",ee[ee.UNAUTHENTICATED=16]="UNAUTHENTICATED",ee[ee.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ee[ee.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ee[ee.ABORTED=10]="ABORTED",ee[ee.OUT_OF_RANGE=11]="OUT_OF_RANGE",ee[ee.UNIMPLEMENTED=12]="UNIMPLEMENTED",ee[ee.INTERNAL=13]="INTERNAL",ee[ee.UNAVAILABLE=14]="UNAVAILABLE",ee[ee.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Rh([4294967295,4294967295],0);class J2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Tc(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Z2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function ek(t,e){return Tc(t,e.toTimestamp())}function es(t){return Se(!!t,49232),me.fromTimestamp(function(n){const r=Er(n);return new ye(r.seconds,r.nanos)}(t))}function Vv(t,e){return Ic(t,e).canonicalString()}function Ic(t,e){const n=function(s){return new Ie(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function tk(t){const e=Ie.fromString(t);return Se(uk(e),10190,{key:e.toString()}),e}function Cc(t,e){return Vv(t.databaseId,e.path)}function nk(t){const e=tk(t);return e.length===4?Ie.emptyPath():sk(e)}function rk(t){return new Ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function sk(t){return Se(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Xp(t,e,n){return{name:Cc(t,e),fields:n.value.mapValue.fields}}function ik(t,e){let n;if(e instanceof Qi)n={update:Xp(t,e.key,e.value)};else if(e instanceof bv)n={delete:Cc(t,e.key)};else if(e instanceof Cr)n={update:Xp(t,e.key,e.data),updateMask:ak(e.fieldMask)};else{if(!(e instanceof G2))return J(16599,{Vt:e.type});n={verify:Cc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,l){const a=l.transform;if(a instanceof Mi)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof zi)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Li)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof bl)return{fieldPath:l.field.canonicalString(),increment:a.Ae};throw J(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:ek(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:J(27497)}(t,e.precondition)),n}function ok(t,e){return t&&t.length>0?(Se(e!==void 0,14353),t.map(n=>function(s,i){let l=s.updateTime?es(s.updateTime):es(i);return l.isEqual(me.min())&&(l=es(i)),new H2(l,s.transformResults||[])}(n,e))):[]}function lk(t){let e=nk(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Se(r===1,65062);const p=n.from[0];p.allDescendants?s=p.collectionId:e=e.child(p.collectionId)}let i=[];n.where&&(i=function(g){const m=Mv(g);return m instanceof Wn&&vv(m)?m.getFilters():[m]}(n.where));let l=[];n.orderBy&&(l=function(g){return g.map(m=>function(A){return new jl(br(A.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(g){let m;return m=typeof g=="object"?g.value:g,zh(m)?null:m}(n.limit));let c=null;n.startAt&&(c=function(g){const m=!!g.before,N=g.values||[];return new Pl(N,m)}(n.startAt));let d=null;return n.endAt&&(d=function(g){const m=!g.before,N=g.values||[];return new Pl(N,m)}(n.endAt)),N2(e,s,l,i,a,"F",c,d)}function Mv(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=br(n.unaryFilter.field);return ze.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=br(n.unaryFilter.field);return ze.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=br(n.unaryFilter.field);return ze.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=br(n.unaryFilter.field);return ze.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return J(61313);default:return J(60726)}}(t):t.fieldFilter!==void 0?function(n){return ze.create(br(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return J(58110);default:return J(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Wn.create(n.compositeFilter.filters.map(r=>Mv(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return J(1026)}}(n.compositeFilter.op))}(t):J(30097,{filter:t})}function br(t){return $e.fromServerFormat(t.fieldPath)}function ak(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function uk(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.yt=e}}function hk(t){const e=lk({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(){this.Cn=new fk}addToCollectionParentIndex(e,n){return this.Cn.add(n),z.resolve()}getCollectionParents(e,n){return z.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return z.resolve()}deleteFieldIndex(e,n){return z.resolve()}deleteAllFieldIndexes(e){return z.resolve()}createTargetIndexes(e,n){return z.resolve()}getDocumentsMatchingTarget(e,n){return z.resolve(null)}getIndexType(e,n){return z.resolve(0)}getFieldIndexes(e,n){return z.resolve([])}getNextCollectionGroupToUpdate(e){return z.resolve(null)}getMinOffset(e,n){return z.resolve(Hn.min())}getMinOffsetFromCollectionGroup(e,n){return z.resolve(Hn.min())}updateCollectionGroup(e,n,r){return z.resolve()}updateIndexEntries(e,n){return z.resolve()}}class fk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new We(Ie.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new We(Ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},zv=41943040;class ct{static withCacheSize(e){return new ct(e,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ct.DEFAULT_COLLECTION_PERCENTILE=10,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ct.DEFAULT=new ct(zv,ct.DEFAULT_COLLECTION_PERCENTILE,ct.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ct.DISABLED=new ct(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new fs(0)}static cr(){return new fs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="LruGarbageCollector",pk=1048576;function Zp([t,e],[n,r]){const s=se(t,n);return s===0?se(e,r):s}class mk{constructor(e){this.Ir=e,this.buffer=new We(Zp),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Zp(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class gk{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){W(Jp,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Gi(n)?W(Jp,"Ignoring IndexedDB error during garbage collection: ",n):await bh(n)}await this.Vr(3e5)})}}class yk{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return z.resolve(Vh.ce);const r=new mk(n);return this.mr.forEachTarget(e,s=>r.Ar(s.sequenceNumber)).next(()=>this.mr.pr(e,s=>r.Ar(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(W("LruGarbageCollector","Garbage collection skipped; disabled"),z.resolve(Yp)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(W("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Yp):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,s,i,l,a,c,d;const p=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(g=>(g>this.params.maximumSequenceNumbersToCollect?(W("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${g}`),s=this.params.maximumSequenceNumbersToCollect):s=g,l=Date.now(),this.nthSequenceNumber(e,s))).next(g=>(r=g,a=Date.now(),this.removeTargets(e,r,n))).next(g=>(i=g,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(g=>(d=Date.now(),Dr()<=te.DEBUG&&W("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${s} in `+(a-l)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${g} documents in `+(d-c)+`ms
Total Duration: ${d-p}ms`),z.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:g})))}}function vk(t,e){return new yk(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _k{constructor(){this.changes=new Ir(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Vt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?z.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xk{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&hi(r.mutation,s,Lt.empty(),ye.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ze()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ze()){const s=ur();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let l=Po();return i.forEach((a,c)=>{l=l.insert(a,c.overlayedDocument)}),l}))}getOverlayedDocuments(e,n){const r=ur();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ze()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((l,a)=>{n.set(l,a)})})}computeViews(e,n,r,s){let i=Dl();const l=ci(),a=function(){return ci()}();return n.forEach((c,d)=>{const p=r.get(d.key);s.has(d.key)&&(p===void 0||p.mutation instanceof Cr)?i=i.insert(d.key,d):p!==void 0?(l.set(d.key,p.mutation.getFieldMask()),hi(p.mutation,d,p.mutation.getFieldMask(),ye.now())):l.set(d.key,Lt.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,p)=>l.set(d,p)),n.forEach((d,p)=>a.set(d,new xk(p,l.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=ci();let s=new gt((l,a)=>l-a),i=Ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(l=>{for(const a of l)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let p=r.get(c)||Lt.empty();p=a.applyToLocalView(d,p),r.set(c,p);const g=(s.get(a.batchId)||Ze()).add(c);s=s.insert(a.batchId,g)})}).next(()=>{const l=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,p=c.value,g=Iv();p.forEach(m=>{if(!i.has(m)){const N=jv(n.get(m),r.get(m));N!==null&&g.set(m,N),i=i.add(m)}}),l.push(this.documentOverlayCache.saveOverlays(e,d,g))}return z.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(l){return Y.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):R2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const l=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):z.resolve(ur());let a=bi,c=i;return l.next(d=>z.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),i.get(p)?z.resolve():this.remoteDocumentCache.getEntry(e,p).next(m=>{c=c.insert(p,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Ze())).next(p=>({batchId:a,changes:Tv(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let s=Po();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let l=Po();return this.indexManager.getCollectionParents(e,i).next(a=>z.forEach(a,c=>{const d=function(g,m){return new sa(m,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(p=>{p.forEach((g,m)=>{l=l.insert(g,m)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(l=>(i=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(l=>{i.forEach((c,d)=>{const p=d.getKey();l.get(p)===null&&(l=l.insert(p,Vt.newInvalidDocument(p)))});let a=Po();return l.forEach((c,d)=>{const p=i.get(c);p!==void 0&&hi(p.mutation,d,Lt.empty(),ye.now()),$h(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return z.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:es(s.createTime)}}(n)),z.resolve()}getNamedQuery(e,n){return z.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(s){return{name:s.name,query:hk(s.bundledQuery),readTime:es(s.readTime)}}(n)),z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(){this.overlays=new gt(Y.comparator),this.qr=new Map}getOverlay(e,n){return z.resolve(this.overlays.get(n))}getOverlays(e,n){const r=ur();return z.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),z.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.qr.delete(r)),z.resolve()}getOverlaysForCollection(e,n,r){const s=ur(),i=n.length+1,l=new Y(n.child("")),a=this.overlays.getIteratorFrom(l);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return z.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new gt((d,p)=>d-p);const l=this.overlays.getIterator();for(;l.hasNext();){const d=l.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=i.get(d.largestBatchId);p===null&&(p=ur(),i=i.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}const a=ur(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=s)););return z.resolve(a)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new q2(n,r));let i=this.qr.get(n);i===void 0&&(i=Ze(),this.qr.set(n,i)),this.qr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sk{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return z.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(){this.Qr=new We(Ve.$r),this.Ur=new We(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new Ve(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new Ve(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new Y(new Ie([])),r=new Ve(n,e),s=new Ve(n,e+1),i=[];return this.Ur.forEachInRange([r,s],l=>{this.Gr(l),i.push(l.key)}),i}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new Y(new Ie([])),r=new Ve(n,e),s=new Ve(n,e+1);let i=Ze();return this.Ur.forEachInRange([r,s],l=>{i=i.add(l.key)}),i}containsKey(e){const n=new Ve(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ve{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return Y.comparator(e.key,n.key)||se(e.Yr,n.Yr)}static Kr(e,n){return se(e.Yr,n.Yr)||Y.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new We(Ve.$r)}checkEmpty(e){return z.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Q2(i,n,r,s);this.mutationQueue.push(l);for(const a of s)this.Zr=this.Zr.add(new Ve(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return z.resolve(l)}lookupMutationBatch(e,n){return z.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.ei(r),i=s<0?0:s;return z.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return z.resolve(this.mutationQueue.length===0?Mh:this.tr-1)}getAllMutationBatches(e){return z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ve(n,0),s=new Ve(n,Number.POSITIVE_INFINITY),i=[];return this.Zr.forEachInRange([r,s],l=>{const a=this.Xr(l.Yr);i.push(a)}),z.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new We(se);return n.forEach(s=>{const i=new Ve(s,0),l=new Ve(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([i,l],a=>{r=r.add(a.Yr)})}),z.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;Y.isDocumentKey(i)||(i=i.child(""));const l=new Ve(new Y(i),0);let a=new We(se);return this.Zr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Yr)),!0)},l),z.resolve(this.ti(a))}ti(e){const n=[];return e.forEach(r=>{const s=this.Xr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Se(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return z.forEach(n.mutations,s=>{const i=new Ve(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new Ve(n,0),s=this.Zr.firstAfterOrEqual(r);return z.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,z.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(e){this.ri=e,this.docs=function(){return new gt(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,l=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return z.resolve(r?r.document.mutableCopy():Vt.newInvalidDocument(n))}getEntries(e,n){let r=Dl();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Vt.newInvalidDocument(s))}),z.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Dl();const l=n.path,a=new Y(l.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:p}}=c.getNext();if(!l.isPrefixOf(d.path))break;d.path.length>l.length+1||i2(s2(p),r)<=0||(s.has(p.key)||$h(n,p))&&(i=i.insert(p.key,p.mutableCopy()))}return z.resolve(i)}getAllFromCollectionGroup(e,n,r,s){J(9500)}ii(e,n){return z.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ck(this)}getSize(e){return z.resolve(this.size)}}class Ck extends _k{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)}),z.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nk{constructor(e){this.persistence=e,this.si=new Ir(n=>Uh(n),Bh),this.lastRemoteSnapshotVersion=me.min(),this.highestTargetId=0,this.oi=0,this._i=new Kh,this.targetCount=0,this.ai=fs.ur()}forEachTarget(e,n){return this.si.forEach((r,s)=>n(s)),z.resolve()}getLastRemoteSnapshotVersion(e){return z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return z.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),z.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),z.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new fs(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,z.resolve()}updateTargetData(e,n){return this.Pr(n),z.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,z.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.si.forEach((l,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.si.delete(l),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),z.waitFor(i).next(()=>s)}getTargetCount(e){return z.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return z.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),z.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(l=>{i.push(s.markPotentiallyOrphaned(e,l))}),z.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),z.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return z.resolve(r)}containsKey(e,n){return z.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n){this.ui={},this.overlays={},this.ci=new Vh(0),this.li=!1,this.li=!0,this.hi=new Sk,this.referenceDelegate=e(this),this.Pi=new Nk(this),this.indexManager=new dk,this.remoteDocumentCache=function(s){return new Ik(s)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new ck(n),this.Ii=new Ek(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new kk,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new Tk(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){W("MemoryPersistence","Starting transaction:",e);const s=new Ak(this.ci.next());return this.referenceDelegate.Ei(),r(s).next(i=>this.referenceDelegate.di(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ai(e,n){return z.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class Ak extends l2{constructor(e){super(),this.currentSequenceNumber=e}}class Gh{constructor(e){this.persistence=e,this.Ri=new Kh,this.Vi=null}static mi(e){return new Gh(e)}get fi(){if(this.Vi)return this.Vi;throw J(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),z.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),z.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),z.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(s=>this.fi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.fi.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return z.forEach(this.fi,r=>{const s=Y.fromPath(r);return this.gi(e,s).next(i=>{i||n.removeEntry(s,me.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return z.or([()=>z.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Vl{constructor(e,n){this.persistence=e,this.pi=new Ir(r=>c2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=vk(this,n)}static mi(e,n){return new Vl(e,n)}Ei(){}di(e){return z.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return z.forEach(this.pi,(r,s)=>this.br(e,r,s).next(i=>i?z.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ii(e,l=>this.br(e,l,n).next(a=>{a||(r++,i.removeEntry(l,me.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),z.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),z.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Go(e.data.value)),n}br(e,n,r){return z.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.pi.get(n);return z.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=s}static As(e,n){let r=Ze(),s=Ze();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Qh(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pk{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return Tw()?8:a2(kw())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.ys(e,n).next(l=>{i.result=l}).next(()=>{if(!i.result)return this.ws(e,n,s,r).next(l=>{i.result=l})}).next(()=>{if(i.result)return;const l=new Rk;return this.Ss(e,n,l).next(a=>{if(i.result=a,this.Vs)return this.bs(e,n,l,a.size)})}).next(()=>i.result)}bs(e,n,r,s){return r.documentReadCount<this.fs?(Dr()<=te.DEBUG&&W("QueryEngine","SDK will not create cache indexes for query:",Ks(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),z.resolve()):(Dr()<=te.DEBUG&&W("QueryEngine","Query:",Ks(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Dr()<=te.DEBUG&&W("QueryEngine","The SDK decides to create cache indexes for query:",Ks(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):z.resolve())}ys(e,n){if(Wp(n))return z.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Sc(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const l=Ze(...i);return this.ps.getDocuments(e,l).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.Ds(n,a);return this.Cs(n,d,l,c.readTime)?this.ys(e,Sc(n,null,"F")):this.vs(e,d,n,c)}))})))}ws(e,n,r,s){return Wp(n)||s.isEqual(me.min())?z.resolve(null):this.ps.getDocuments(e,r).next(i=>{const l=this.Ds(n,i);return this.Cs(n,l,r,s)?z.resolve(null):(Dr()<=te.DEBUG&&W("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ks(n)),this.vs(e,l,n,r2(s,bi)).next(a=>a))})}Ds(e,n){let r=new We(j2(e));return n.forEach((s,i)=>{$h(e,i)&&(r=r.add(i))}),r}Cs(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Ss(e,n,r){return Dr()<=te.DEBUG&&W("QueryEngine","Using full collection scan to execute query:",Ks(n)),this.ps.getDocumentsMatchingQuery(e,n,Hn.min(),r)}vs(e,n,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(l=>{i=i.insert(l.key,l)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk="LocalStore";class Dk{constructor(e,n,r,s){this.persistence=e,this.Fs=n,this.serializer=s,this.Ms=new gt(se),this.xs=new Ir(i=>Uh(i),Bh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wk(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function bk(t,e,n,r){return new Dk(t,e,n,r)}async function Ov(t,e){const n=he(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const l=[],a=[];let c=Ze();for(const d of s){l.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}for(const d of i){a.push(d.batchId);for(const p of d.mutations)c=c.add(p.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ls:d,removedBatchIds:l,addedBatchIds:a}))})})}function Vk(t,e){const n=he(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(a,c,d,p){const g=d.batch,m=g.keys();let N=z.resolve();return m.forEach(A=>{N=N.next(()=>p.getEntry(c,A)).next(R=>{const M=d.docVersions.get(A);Se(M!==null,48541),R.version.compareTo(M)<0&&(g.applyToRemoteDocument(R,d),R.isValidDocument()&&(R.setReadTime(d.commitVersion),p.addEntry(R)))})}),N.next(()=>a.mutationQueue.removeMutationBatch(c,g))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Ze();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function Mk(t){const e=he(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function zk(t,e){const n=he(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Mh),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class em{constructor(){this.activeTargetIds=L2()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Lk{constructor(){this.Mo=new em,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new em,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ok{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="ConnectivityMonitor";class nm{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){W(tm,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){W(tm,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jo=null;function Nc(){return jo===null?jo=function(){return 268435456+Math.round(2147483648*Math.random())}():jo++,"0x"+jo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu="RestConnection",Fk={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Uk{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Al?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,n,r,s,i){const l=Nc(),a=this.zo(e,n.toUriEncodedString());W(fu,`Sending RPC '${e}' ${l}:`,a,r);const c={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(c,s,i);const{host:d}=new URL(a),p=Nh(d);return this.Jo(e,a,c,r,p).then(g=>(W(fu,`Received RPC '${e}' ${l}: `,g),g),g=>{throw ra(fu,`RPC '${e}' ${l} failed with error: `,g,"url: ",a,"request:",r),g})}Ho(e,n,r,s,i,l){return this.Go(e,n,r,s,i)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xs}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}zo(e,n){const r=Fk[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe="WebChannelConnection";class $k extends Uk{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,s,i){const l=Nc();return new Promise((a,c)=>{const d=new Zy;d.setWithCredentials(!0),d.listenOnce(ev.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Ko.NO_ERROR:const g=d.getResponseJson();W(Xe,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(g)),a(g);break;case Ko.TIMEOUT:W(Xe,`RPC '${e}' ${l} timed out`),c(new G(O.DEADLINE_EXCEEDED,"Request time out"));break;case Ko.HTTP_ERROR:const m=d.getStatus();if(W(Xe,`RPC '${e}' ${l} failed with status:`,m,"response text:",d.getResponseText()),m>0){let N=d.getResponseJson();Array.isArray(N)&&(N=N[0]);const A=N==null?void 0:N.error;if(A&&A.status&&A.message){const R=function(T){const x=T.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(x)>=0?x:O.UNKNOWN}(A.status);c(new G(R,A.message))}else c(new G(O.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new G(O.UNAVAILABLE,"Connection failed."));break;default:J(9055,{l_:e,streamId:l,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{W(Xe,`RPC '${e}' ${l} completed.`)}});const p=JSON.stringify(s);W(Xe,`RPC '${e}' ${l} sending request:`,s),d.send(n,"POST",p,r,15)})}T_(e,n,r){const s=Nc(),i=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=rv(),a=nv(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(c.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(c.useFetchStreams=!0),this.jo(c.initMessageHeaders,n,r),c.encodeInitMessageHeaders=!0;const p=i.join("");W(Xe,`Creating RPC '${e}' stream ${s}: ${p}`,c);const g=l.createWebChannel(p,c);this.I_(g);let m=!1,N=!1;const A=new Bk({Yo:M=>{N?W(Xe,`Not sending because RPC '${e}' stream ${s} is closed:`,M):(m||(W(Xe,`Opening RPC '${e}' stream ${s} transport.`),g.open(),m=!0),W(Xe,`RPC '${e}' stream ${s} sending:`,M),g.send(M))},Zo:()=>g.close()}),R=(M,T,x)=>{M.listen(T,I=>{try{x(I)}catch(j){setTimeout(()=>{throw j},0)}})};return R(g,Ys.EventType.OPEN,()=>{N||(W(Xe,`RPC '${e}' stream ${s} transport opened.`),A.o_())}),R(g,Ys.EventType.CLOSE,()=>{N||(N=!0,W(Xe,`RPC '${e}' stream ${s} transport closed`),A.a_(),this.E_(g))}),R(g,Ys.EventType.ERROR,M=>{N||(N=!0,ra(Xe,`RPC '${e}' stream ${s} transport errored. Name:`,M.name,"Message:",M.message),A.a_(new G(O.UNAVAILABLE,"The operation could not be completed")))}),R(g,Ys.EventType.MESSAGE,M=>{var T;if(!N){const x=M.data[0];Se(!!x,16349);const I=x,j=(I==null?void 0:I.error)||((T=I[0])==null?void 0:T.error);if(j){W(Xe,`RPC '${e}' stream ${s} received error:`,j);const b=j.status;let L=function(S){const _=Ce[S];if(_!==void 0)return Y2(_)}(b),E=j.message;L===void 0&&(L=O.INTERNAL,E="Unknown error status: "+b+" with message "+j.message),N=!0,A.a_(new G(L,E)),g.close()}else W(Xe,`RPC '${e}' stream ${s} received:`,x),A.u_(x)}}),R(a,tv.STAT_EVENT,M=>{M.stat===yc.PROXY?W(Xe,`RPC '${e}' stream ${s} detected buffering proxy`):M.stat===yc.NOPROXY&&W(Xe,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{A.__()},0),A}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function pu(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function la(t){return new J2(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=s,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&W("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="PersistentStream";class Hk{constructor(e,n,r,s,i,l,a,c){this.Mi=e,this.S_=r,this.b_=s,this.connection=i,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new Fv(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===O.RESOURCE_EXHAUSTED?(wr(n.toString()),wr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new G(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.J_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return W(rm,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(W(rm,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Wk extends Hk{constructor(e,n,r,s,i,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,l),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Se(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Se(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Se(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=ok(e.writeResults,e.commitTime),r=es(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=rk(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>ik(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{}class Gk extends Kk{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,l])=>this.connection.Go(e,Ic(n,r),s,i,l)).catch(i=>{throw i.name==="FirebaseError"?(i.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new G(O.UNKNOWN,i.toString())})}Ho(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,a])=>this.connection.Ho(e,Ic(n,r),s,l,a,i)).catch(l=>{throw l.name==="FirebaseError"?(l.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new G(O.UNKNOWN,l.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class Qk{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wr(n),this.aa=!1):W("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qi="RemoteStore";class qk{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo(l=>{r.enqueueAndForget(async()=>{Yi(this)&&(W(qi,"Restarting streams for network reachability change."),await async function(c){const d=he(c);d.Ea.add(4),await Xi(d),d.Ra.set("Unknown"),d.Ea.delete(4),await aa(d)}(this))})}),this.Ra=new Qk(r,s)}}async function aa(t){if(Yi(t))for(const e of t.da)await e(!0)}async function Xi(t){for(const e of t.da)await e(!1)}function Yi(t){return he(t).Ea.size===0}async function Uv(t,e,n){if(!Gi(e))throw e;t.Ea.add(1),await Xi(t),t.Ra.set("Offline"),n||(n=()=>Mk(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{W(qi,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await aa(t)})}function Bv(t,e){return e().catch(n=>Uv(t,n,e))}async function ua(t){const e=he(t),n=Kn(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Mh;for(;Xk(e);)try{const s=await zk(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,Yk(e,s)}catch(s){await Uv(e,s)}$v(e)&&Hv(e)}function Xk(t){return Yi(t)&&t.Ta.length<10}function Yk(t,e){t.Ta.push(e);const n=Kn(t);n.O_()&&n.X_&&n.ea(e.mutations)}function $v(t){return Yi(t)&&!Kn(t).x_()&&t.Ta.length>0}function Hv(t){Kn(t).start()}async function Jk(t){Kn(t).ra()}async function Zk(t){const e=Kn(t);for(const n of t.Ta)e.ea(n.mutations)}async function eS(t,e,n){const r=t.Ta.shift(),s=Wh.from(r,e,n);await Bv(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await ua(t)}async function tS(t,e){e&&Kn(t).X_&&await async function(r,s){if(function(l){return X2(l)&&l!==O.ABORTED}(s.code)){const i=r.Ta.shift();Kn(r).B_(),await Bv(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await ua(r)}}(t,e),$v(t)&&Hv(t)}async function sm(t,e){const n=he(t);n.asyncQueue.verifyOperationInProgress(),W(qi,"RemoteStore received new credentials");const r=Yi(n);n.Ea.add(3),await Xi(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await aa(n)}async function nS(t,e){const n=he(t);e?(n.Ea.delete(2),await aa(n)):e||(n.Ea.add(2),await Xi(n),n.Ra.set("Unknown"))}function Kn(t){return t.fa||(t.fa=function(n,r,s){const i=he(n);return i.sa(),new Wk(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Jk.bind(null,t),r_:tS.bind(null,t),ta:Zk.bind(null,t),na:eS.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await ua(t)):(await t.fa.stop(),t.Ta.length>0&&(W(qi,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new fr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const l=Date.now()+r,a=new qh(e,n,l,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new G(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Wv(t,e){if(wr("AsyncQueue",`${e}: ${t}`),Gi(t))return new G(O.UNAVAILABLE,`${e}: ${t}`);throw t}class rS{constructor(){this.queries=im(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=he(n),i=s.queries;s.queries=im(),i.forEach((l,a)=>{for(const c of a.Sa)c.onError(r)})})(this,new G(O.ABORTED,"Firestore shutting down"))}}function im(){return new Ir(t=>kv(t),Ev)}function sS(t){t.Ca.forEach(e=>{e.next()})}var om,lm;(lm=om||(om={})).Ma="default",lm.Cache="cache";const iS="SyncEngine";class oS{constructor(e,n,r,s,i,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new Ir(a=>kv(a),Ev),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Y.comparator),this.Au=new Map,this.Ru=new Kh,this.Vu={},this.mu=new Map,this.fu=fs.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function lS(t,e,n){const r=hS(t);try{const s=await function(l,a){const c=he(l),d=ye.now(),p=a.reduce((N,A)=>N.add(A.key),Ze());let g,m;return c.persistence.runTransaction("Locally write mutations","readwrite",N=>{let A=Dl(),R=Ze();return c.Ns.getEntries(N,p).next(M=>{A=M,A.forEach((T,x)=>{x.isValidDocument()||(R=R.add(T))})}).next(()=>c.localDocuments.getOverlayedDocuments(N,A)).next(M=>{g=M;const T=[];for(const x of a){const I=K2(x,g.get(x.key).overlayedDocument);I!=null&&T.push(new Cr(x.key,I,mv(I.value.mapValue),an.exists(!0)))}return c.mutationQueue.addMutationBatch(N,d,T,a)}).next(M=>{m=M;const T=M.applyToLocalDocumentSet(g,R);return c.documentOverlayCache.saveOverlays(N,M.batchId,T)})}).then(()=>({batchId:m.batchId,changes:Tv(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,a,c){let d=l.Vu[l.currentUser.toKey()];d||(d=new gt(se)),d=d.insert(a,c),l.Vu[l.currentUser.toKey()]=d}(r,s.batchId,n),await ca(r,s.changes),await ua(r.remoteStore)}catch(s){const i=Wv(s,"Failed to persist write");n.reject(i)}}function am(t,e,n){const r=he(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,l)=>{const a=l.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(l,a){const c=he(l);c.onlineState=a;let d=!1;c.queries.forEach((p,g)=>{for(const m of g.Sa)m.va(a)&&(d=!0)}),d&&sS(c)}(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function aS(t,e){const n=he(t),r=e.batch.batchId;try{const s=await Vk(n.localStore,e);Gv(n,r,null),Kv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ca(n,s)}catch(s){await bh(s)}}async function uS(t,e,n){const r=he(t);try{const s=await function(l,a){const c=he(l);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return c.mutationQueue.lookupMutationBatch(d,a).next(g=>(Se(g!==null,37113),p=g.keys(),c.mutationQueue.removeMutationBatch(d,g))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>c.localDocuments.getDocuments(d,p))})}(r.localStore,e);Gv(r,e,n),Kv(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await ca(r,s)}catch(s){await bh(s)}}function Kv(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Gv(t,e,n){const r=he(t);let s=r.Vu[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}async function ca(t,e,n){const r=he(t),s=[],i=[],l=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{l.push(r.pu(c,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){const g=d?!d.fromCache:(p=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:p.current;r.sharedClientState.updateQueryState(c.targetId,g?"current":"not-current")}if(d){s.push(d);const g=Qh.As(c.targetId,d);i.push(g)}}))}),await Promise.all(l),r.Pu.H_(s),await async function(c,d){const p=he(c);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>z.forEach(d,m=>z.forEach(m.Es,N=>p.persistence.referenceDelegate.addReference(g,m.targetId,N)).next(()=>z.forEach(m.ds,N=>p.persistence.referenceDelegate.removeReference(g,m.targetId,N)))))}catch(g){if(!Gi(g))throw g;W(jk,"Failed to update sequence numbers: "+g)}for(const g of d){const m=g.targetId;if(!g.fromCache){const N=p.Ms.get(m),A=N.snapshotVersion,R=N.withLastLimboFreeSnapshotVersion(A);p.Ms=p.Ms.insert(m,R)}}}(r.localStore,i))}async function cS(t,e){const n=he(t);if(!n.currentUser.isEqual(e)){W(iS,"User change. New user:",e.toKey());const r=await Ov(n.localStore,e);n.currentUser=e,function(i,l){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new G(O.CANCELLED,l))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await ca(n,r.Ls)}}function hS(t){const e=he(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uS.bind(null,e),e}class Ml{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=la(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return bk(this.persistence,new Pk,e.initialUser,this.serializer)}Cu(e){return new Lv(Gh.mi,this.serializer)}Du(e){return new Lk}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ml.provider={build:()=>new Ml};class dS extends Ml{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Se(this.persistence.referenceDelegate instanceof Vl,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new gk(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ct.withCacheSize(this.cacheSizeBytes):ct.DEFAULT;return new Lv(r=>Vl.mi(r,n),this.serializer)}}class Ac{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>am(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cS.bind(null,this.syncEngine),await nS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new rS}()}createDatastore(e){const n=la(e.databaseInfo.databaseId),r=function(i){return new $k(i)}(e.databaseInfo);return function(i,l,a,c){return new Gk(i,l,a,c)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,l,a){return new qk(r,s,i,l,a)}(this.localStore,this.datastore,e.asyncQueue,n=>am(this.syncEngine,n,0),function(){return nm.v()?new nm:new Ok}())}createSyncEngine(e,n){return function(s,i,l,a,c,d,p){const g=new oS(s,i,l,a,c,d);return p&&(g.gu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=he(s);W(qi,"RemoteStore shutting down."),i.Ea.add(5),await Xi(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}Ac.provider={build:()=>new Ac};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn="FirestoreClient";class fS{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ye.UNAUTHENTICATED,this.clientId=jh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async l=>{W(Gn,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(W(Gn,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Wv(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mu(t,e){t.asyncQueue.verifyOperationInProgress(),W(Gn,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await Ov(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function um(t,e){t.asyncQueue.verifyOperationInProgress();const n=await pS(t);W(Gn,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>sm(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>sm(e.remoteStore,s)),t._onlineComponents=e}async function pS(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){W(Gn,"Using user provided OfflineComponentProvider");try{await mu(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===O.FAILED_PRECONDITION||s.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;ra("Error using user provided cache. Falling back to memory cache: "+n),await mu(t,new Ml)}}else W(Gn,"Using default OfflineComponentProvider"),await mu(t,new dS(void 0));return t._offlineComponents}async function mS(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(W(Gn,"Using user provided OnlineComponentProvider"),await um(t,t._uninitializedComponentsProvider._online)):(W(Gn,"Using default OnlineComponentProvider"),await um(t,new Ac))),t._onlineComponents}function gS(t){return mS(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cm=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="firestore.googleapis.com",hm=!0;class dm{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new G(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qv,this.ssl=hm}else this.host=e.host,this.ssl=e.ssl??hm;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=zv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<pk)throw new G(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}n2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qv(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new G(O.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xh{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dm({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new G(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new G(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dm(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new WE;switch(r.type){case"firstParty":return new qE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new G(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=cm.get(n);r&&(W("ComponentProvider","Removing Datastore"),cm.delete(n),r.terminate())}(this),Promise.resolve()}}function yS(t,e,n,r={}){var d;t=_c(t,Xh);const s=Nh(e),i=t._getSettings(),l={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(vw(`https://${a}`),Ew("Firestore",!0)),i.host!==qv&&i.host!==a&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!kl(c,l)&&(t._setSettings(c),r.mockUserToken)){let p,g;if(typeof r.mockUserToken=="string")p=r.mockUserToken,g=Ye.MOCK_USER;else{p=_w(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new G(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Ye(m)}t._authCredentials=new KE(new iv(p,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yh(this.firestore,e,this._query)}}class et{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new et(this.firestore,e,this._key)}toJSON(){return{type:et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Ki(n,et._jsonSchema))return new et(e,r||null,new Y(Ie.fromString(n.referencePath)))}}et._jsonSchemaVersion="firestore/documentReference/1.0",et._jsonSchema={type:Ae("string",et._jsonSchemaVersion),referencePath:Ae("string")};class Oi extends Yh{constructor(e,n,r){super(e,n,A2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new et(this.firestore,null,new Y(e))}withConverter(e){return new Oi(this.firestore,e,this._path)}}function ha(t,e,...n){if(t=Sl(t),arguments.length===1&&(e=jh.newId()),t2("doc","path",e),t instanceof Xh){const r=Ie.fromString(e,...n);return bp(r),new et(t,null,new Y(r))}{if(!(t instanceof et||t instanceof Oi))throw new G(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Ie.fromString(e,...n));return bp(r),new et(t.firestore,t instanceof Oi?t.converter:null,new Y(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fm="AsyncQueue";class pm{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new Fv(this,"async_queue_retry"),this._c=()=>{const r=pu();r&&W(fm,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=pu();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=pu();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new fr;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Gi(e))throw e;W(fm,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,wr("INTERNAL UNHANDLED ERROR: ",mm(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=qh.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&J(47125,{Pc:mm(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function mm(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Xv extends Xh{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new pm,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new pm(e),this._firestoreClient=void 0,await e}}}function vS(t,e){const n=typeof t=="object"?t:jE(),r=typeof t=="string"?t:Al,s=CE(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=gw("firestore");i&&yS(s,...i)}return s}function _S(t){if(t._terminated)throw new G(O.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||xS(t),t._firestoreClient}function xS(t){var r,s,i;const e=t._freezeSettings(),n=function(a,c,d,p){return new p2(a,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Qv(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((i=e.localCache)!=null&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new fS(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(a){const c=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(c),_online:c}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zt(Xt.fromBase64String(e))}catch(n){throw new G(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new zt(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Ki(e,zt._jsonSchema))return zt.fromBase64String(e.bytes)}}zt._jsonSchemaVersion="firestore/bytes/1.0",zt._jsonSchema={type:Ae("string",zt._jsonSchemaVersion),bytes:Ae("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new G(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $e(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new G(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new G(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return se(this._lat,e._lat)||se(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:un._jsonSchemaVersion}}static fromJSON(e){if(Ki(e,un._jsonSchema))return new un(e.latitude,e.longitude)}}un._jsonSchemaVersion="firestore/geoPoint/1.0",un._jsonSchema={type:Ae("string",un._jsonSchemaVersion),latitude:Ae("number"),longitude:Ae("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:cn._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Ki(e,cn._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new cn(e.vectorValues);throw new G(O.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cn._jsonSchemaVersion="firestore/vectorValue/1.0",cn._jsonSchema={type:Ae("string",cn._jsonSchemaVersion),vectorValues:Ae("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS=/^__.*__$/;class ES{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Cr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Qi(e,this.data,n,this.fieldTransforms)}}function Yv(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw J(40011,{Ac:t})}}class ed{constructor(e,n,r,s,i,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new ed({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return zl(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Yv(this.Ac)&&wS.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class kS{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||la(e)}Cc(e,n,r,s=!1){return new ed({Ac:e,methodName:n,Dc:r,path:$e.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function SS(t){const e=t._freezeSettings(),n=la(t._databaseId);return new kS(t._databaseId,!!e.ignoreUndefinedProperties,n)}function TS(t,e,n,r,s,i={}){const l=t.Cc(i.merge||i.mergeFields?2:0,e,n,s);t0("Data must be an object, but it was:",l,r);const a=Zv(r,l);let c,d;if(i.merge)c=new Lt(l.fieldMask),d=l.fieldTransforms;else if(i.mergeFields){const p=[];for(const g of i.mergeFields){const m=IS(e,g,n);if(!l.contains(m))throw new G(O.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);NS(p,m)||p.push(m)}c=new Lt(p),d=l.fieldTransforms.filter(g=>c.covers(g.field))}else c=null,d=l.fieldTransforms;return new ES(new Mt(a),c,d)}class td extends Zh{_toFieldTransform(e){return new B2(e.path,new Mi)}isEqual(e){return e instanceof td}}function Jv(t,e){if(e0(t=Sl(t)))return t0("Unsupported field value:",e,t),Zv(t,e);if(t instanceof Zh)return function(r,s){if(!Yv(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,s){const i=[];let l=0;for(const a of r){let c=Jv(a,s.wc(l));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),l++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=Sl(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return O2(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=ye.fromDate(r);return{timestampValue:Tc(s.serializer,i)}}if(r instanceof ye){const i=new ye(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Tc(s.serializer,i)}}if(r instanceof un)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof zt)return{bytesValue:Z2(s.serializer,r._byteString)};if(r instanceof et){const i=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(i))throw s.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Vv(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof cn)return function(l,a){return{mapValue:{fields:{[fv]:{stringValue:pv},[xc]:{arrayValue:{values:l.toArray().map(d=>{if(typeof d!="number")throw a.Sc("VectorValues must only contain numeric values.");return Hh(a.serializer,d)})}}}}}}(r,s);throw s.Sc(`Unsupported field value: ${Dh(r)}`)}(t,e)}function Zv(t,e){const n={};return av(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ws(t,(r,s)=>{const i=Jv(s,e.mc(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function e0(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ye||t instanceof un||t instanceof zt||t instanceof et||t instanceof Zh||t instanceof cn)}function t0(t,e,n){if(!e0(n)||!ov(n)){const r=Dh(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function IS(t,e,n){if((e=Sl(e))instanceof Jh)return e._internalPath;if(typeof e=="string")return n0(t,e);throw zl("Field path arguments must be of type string or ",t,!1,void 0,n)}const CS=new RegExp("[~\\*/\\[\\]]");function n0(t,e,n){if(e.search(CS)>=0)throw zl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jh(...e.split("."))._internalPath}catch{throw zl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function zl(t,e,n,r,s){const i=r&&!r.isEmpty(),l=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||l)&&(c+=" (found",i&&(c+=` in field ${r}`),l&&(c+=` in document ${s}`),c+=")"),new G(O.INVALID_ARGUMENT,a+t+c)}function NS(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(s0("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AS extends r0{data(){return super.data()}}function s0(t,e){return typeof e=="string"?n0(t,e):e instanceof Jh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RS(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class Do{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ts extends r0{constructor(e,n,r,s,i,l){super(e,n,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Xo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(s0("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new G(O.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ts._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}ts._jsonSchemaVersion="firestore/documentSnapshot/1.0",ts._jsonSchema={type:Ae("string",ts._jsonSchemaVersion),bundleSource:Ae("string","DocumentSnapshot"),bundleName:Ae("string"),bundle:Ae("string")};class Xo extends ts{data(e={}){return super.data(e)}}class di{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Do(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Xo(this._firestore,this._userDataWriter,r.key,r,new Do(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new G(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(a=>{const c=new Xo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Do(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Xo(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Do(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,p=-1;return a.type!==0&&(d=l.indexOf(a.doc.key),l=l.delete(a.doc.key)),a.type!==1&&(l=l.add(a.doc),p=l.indexOf(a.doc.key)),{type:PS(a.type),doc:c,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new G(O.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=di._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=jh.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function PS(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return J(61501,{type:t})}}di._jsonSchemaVersion="firestore/querySnapshot/1.0",di._jsonSchema={type:Ae("string",di._jsonSchemaVersion),bundleSource:Ae("string","QuerySnapshot"),bundleName:Ae("string"),bundle:Ae("string")};function da(t,e,n){t=_c(t,et);const r=_c(t.firestore,Xv),s=RS(t.converter,e,n);return jS(r,[TS(SS(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,an.none())])}function jS(t,e){return function(r,s){const i=new fr;return r.asyncQueue.enqueueAndForget(async()=>lS(await gS(r),s,i)),i.promise}(_S(t),e)}function ps(){return new td("serverTimestamp")}(function(e,n=!0){(function(s){xs=s})(PE),Il(new ji("firestore",(r,{instanceIdentifier:s,options:i})=>{const l=r.getProvider("app").getImmediate(),a=new Xv(new GE(r.getProvider("auth-internal")),new XE(l,r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new G(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Rl(d.options.projectId,p)}(l,s),l);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),Zr(Rp,Pp,e),Zr(Rp,Pp,"esm2020")})();const jr={apiKey:"AIzaSyBIKyohpoENAAmXcWwu7Q8pOjonRvy5g_E",authDomain:"danny-redo.firebaseapp.com",projectId:"danny-redo",storageBucket:"danny-redo.appspot.com",messagingSenderId:"861664122007",appId:"1:861664122007:web:75c78636338e2f9b4d05d2"},DS={apiKey:jr.apiKey,authDomain:jr.authDomain,projectId:jr.projectId,storageBucket:jr.storageBucket,messagingSenderId:jr.messagingSenderId,appId:jr.appId},bS=Xy(DS),fa=vS(bS),VS={userID:null,treatmentGroup:null,sessionActive:!1,sessionStartTime:null,setUserID:()=>{},setTreatmentGroup:()=>{},setSessionActive:()=>{}},i0=V.createContext(VS),at=()=>V.useContext(i0),MS=({children:t})=>{const[e,n]=V.useState(()=>typeof window<"u"&&sessionStorage.getItem("studyUserID")||null),[r,s]=V.useState(()=>{if(typeof window<"u"){const m=sessionStorage.getItem("treatmentGroup");return m==="treatment"||m==="control"?m:null}return null}),[i,l]=V.useState(()=>typeof window<"u"?!!sessionStorage.getItem("studyUserID"):!1),[a,c]=V.useState(()=>typeof window<"u"&&sessionStorage.getItem("sessionStartTime")||null);V.useEffect(()=>{if(typeof window>"u")return;const m=sessionStorage.getItem("studyUserID"),N=sessionStorage.getItem("treatmentGroup"),A=sessionStorage.getItem("sessionStartTime");m&&!e&&n(m),N&&!r&&(N==="treatment"||N==="control")&&s(N),A&&!a&&c(A),m&&!i&&l(!0)},[]);const d=m=>{n(m),m?sessionStorage.setItem("studyUserID",m):sessionStorage.removeItem("studyUserID")},p=m=>{s(m),m?sessionStorage.setItem("treatmentGroup",m):sessionStorage.removeItem("treatmentGroup")},g=m=>{if(l(m),m){const N=new Date().toISOString();c(N),sessionStorage.setItem("sessionStartTime",N)}else c(null),sessionStorage.removeItem("sessionStartTime")};return V.createElement(i0.Provider,{value:{userID:e,treatmentGroup:r,sessionActive:i,sessionStartTime:a,setUserID:d,setTreatmentGroup:p,setSessionActive:g}},t)};function zS(){const[t,e]=V.useState({age:"",gender:"",education:"",residence:"",healthcareQualification:""}),n=(c,d)=>{e(p=>({...p,[c]:d}))},r=c=>d=>{n(c,d.target.value)},s=Oe(),i=at(),l=c=>{c.preventDefault(),(async()=>{try{console.log("Form data:",t);const{userID:d,treatmentGroup:p,randomizationSeed:g}=iw(),m={userID:d,treatmentGroup:p,randomizationSeed:g,sessionActive:!0,sessionStartTime:ps(),currentPhase:"welcome",createdAt:ps(),browserInfo:navigator.userAgent,screenResolution:`${window.screen.width}x${window.screen.height}`,age:t.age,gender:t.gender,education:t.education,residence:t.residence,healthcareQualification:t.healthcareQualification,completionStatus:"in_progress"};await da(ha(fa,"participants",d),m),i&&i.setUserID&&i.setUserID(d),i&&i.setTreatmentGroup&&i.setTreatmentGroup(p),i&&i.setSessionActive&&i.setSessionActive(!0),s("/DemographicForm/PersonalityLanding")}catch(d){console.error("Failed to start session:",d)}})()},a=Object.values(t).every(c=>c!=="");return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8 bg-bg",children:u.jsxs("div",{className:"max-w-2xl w-full p-6 sm:p-8 lg:p-12 bg-surface rounded-lg shadow-md",children:[u.jsx("h1",{className:"text-2xl sm:text-3xl mb-8 text-text font-bold text-center",children:"Demográfiai adatok"}),u.jsxs("form",{onSubmit:l,className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"age",className:"block text-base font-semibold text-text mb-2",children:"Kor"}),u.jsxs("select",{id:"age",value:t.age,onChange:r("age"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Adja meg a korát"}),u.jsx("option",{value:"18-25",children:"18-25"}),u.jsx("option",{value:"26-35",children:"26-35"}),u.jsx("option",{value:"36-45",children:"36-45"}),u.jsx("option",{value:"46-55",children:"46-55"}),u.jsx("option",{value:"56-65",children:"56-65"}),u.jsx("option",{value:"66+",children:"66+"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"gender",className:"block text-base font-semibold text-text mb-2",children:"Nem"}),u.jsxs("select",{id:"gender",value:t.gender,onChange:r("gender"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Válassza ki a nemét"}),u.jsx("option",{value:"male",children:"Férfi"}),u.jsx("option",{value:"female",children:"Nő"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"education",className:"block text-base font-semibold text-text mb-2",children:"Iskola"}),u.jsxs("select",{id:"education",value:t.education,onChange:r("education"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Legmagasabb iskolai végzettsége"}),u.jsx("option",{value:"elementary",children:"Általános iskola"}),u.jsx("option",{value:"high-school",children:"Középiskola"}),u.jsx("option",{value:"bachelors",children:"Alapképzés (BSc)"}),u.jsx("option",{value:"masters",children:"Mesterképzés (MSc)"}),u.jsx("option",{value:"phd",children:"Doktori fokozat (PhD)"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"residence",className:"block text-base font-semibold text-text mb-2",children:"Lakhely"}),u.jsxs("select",{id:"residence",value:t.residence,onChange:r("residence"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Adja meg lakhelyét"}),u.jsx("option",{value:"budapest",children:"Budapest"}),u.jsx("option",{value:"county-seat",children:"Megyeszékhely"}),u.jsx("option",{value:"city",children:"Város"}),u.jsx("option",{value:"village",children:"Község/Falu"})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"healthcareQualification",className:"block text-base font-semibold text-text mb-2",children:"Egészségügyi végzettség"}),u.jsxs("select",{id:"healthcareQualification",value:t.healthcareQualification,onChange:r("healthcareQualification"),className:"w-full px-4 py-3 bg-muted text-text rounded-md border-0 appearance-none cursor-pointer focus:outline-none focus:ring-2 focus:ring-accent",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 1rem center",backgroundSize:"1.5rem"},children:[u.jsx("option",{value:"",children:"Van egészségügyi végzettsége?"}),u.jsx("option",{value:"none",children:"Nincs"}),u.jsx("option",{value:"nurse",children:"Ápoló/Asszisztens"}),u.jsx("option",{value:"medical-student",children:"Orvostanhallgató"}),u.jsx("option",{value:"doctor",children:"Orvos"}),u.jsx("option",{value:"radiologist",children:"Radiológus"}),u.jsx("option",{value:"other-healthcare",children:"Egyéb egészségügyi"})]})]}),u.jsx("div",{className:"pt-4",children:u.jsx("button",{type:"submit",disabled:!a,className:"w-full px-6 py-3 bg-accent text-white font-semibold rounded-md transition-opacity disabled:opacity-50 disabled:cursor-not-allowed hover:opacity-90",children:"Teszt kezdése"})})]})]})})}function LS(t){return-t[0]+t[10]+-t[20]+t[30]+-t[40]+t[50]+t[60]+-t[70]+t[80]+t[90]+14}function OS(t){return-t[1]+t[11]+t[21]+-t[31]+t[41]+-t[51]+-t[61]+t[71]+-t[81]+t[91]+20}function FS(t){return t[2]+-t[12]+-t[22]+-t[32]+-t[33]+t[42]+-t[52]+t[62]+t[72]+-t[82]+-t[92]+26}function US(t){return t[3]+-t[13]+-t[23]+-t[33]+t[43]+-t[53]+-t[63]+t[73]+t[83]+t[93]+20}function BS(t){return t[4]+-t[14]+t[24]+t[34]+-t[44]+-t[54]+t[64]+t[74]+-t[84]+t[94]+14}function $S(t){return t[5]+-t[15]+t[25]+-t[35]+t[45]+-t[55]+t[65]+-t[75]+t[85]+t[95]+14}function HS(t){return t[6]+-t[16]+t[26]+-t[36]+t[46]+t[56]+-t[66]+-t[76]+-t[86]+t[96]+20}function WS(t){return-t[7]+t[17]+t[27]+t[37]+-t[47]+t[57]+-t[67]+-t[77]+-t[87]+t[97]+20}function KS(t){return t[8]+t[18]+-t[28]+t[38]+-t[48]+t[58]+t[68]+-t[78]+t[88]+-t[98]+14}function GS(t){return t[9]+t[19]+t[29]+t[39]+-t[49]+-t[59]+t[69]+-t[79]+-t[89]+t[99]+14}function QS(t){const e=t.map(T=>parseInt(T,10)),n=LS(e),r=OS(e),s=FS(e),i=US(e),l=BS(e),a=$S(e),c=HS(e),d=WS(e),p=KS(e),g=GS(e),m=n+a,N=r+c,A=s+d,R=i+p;return{openness:l+g,conscientiousness:A,extroversion:R,agreeableness:N,neuroticism:m}}const gu=[["Ritkán vagyok szomorú","Közönyös vagyok mások problémái iránt","Megvalósítom a terveimet","Könnyen barátkozom","Gyorsan megértem a dolgokat","Könnyen kapok haragra","Tisztelem a hatalommal hatalmat","Széthagyom a cuccaimat","Kezembe veszem az irányítást","Élvezem a természet szépségét"],["Gyakran kételkedem a dolgokban","Könnyen átélem mások érzéseit","Gyakran pazarlom az időmet","Nehéz engem megismerni","Nehezen értek meg absztrakt gondolatokat","Ritkán vagyok ingerült","Gyakran gondolom, hogy jobb vagyok másoknál","Szeretem a rendet","Erős személyiségem van","Hiszek a művészet fontosságában"],["Kellemes érzéseim vannak magammal kapcsolatban","Érdeklődöm más emberek jólétéről","Nehezem veszem rá magamat, hogy nekiálljak a dolgomnak","Távolságot tartok az másoktól","Könnyen kezelek sok információt","Könnyen ki lehet hozni a sodromból","Nem szeretek rámenősnek tűnni","Rendben tartom a dolgaimat","Nem vagyok meggyőző","Szeretsz gondolkodni a dolgokon"],["Könnyen érzem magam veszélyben","Nem lehet megzavarni mások igényeivel","Gyakran rontok el dolgokat","Kevés információt osztok meg magamról","Szeretek megoldani komplex problémákat","Könnyen kezelem az érzelmeimet","Kihasználok másokat a saját céljaimra","Időbeosztást követek","Tudom, hogy kell elvarázsolni az embereket","Nagyon el tudok veszek a zenében"],["Ritkán érzem magam depressziósnak","Szimpatizálok mások érzéseivel","Befejezem, amit elkezdek","Könnyen megtalálom másokkal a közös hangot","Kerülöm a filozofikus kérdéseket és inkább csevegek","Könnyen változik a hangulatom","Nem szeretem a saját akaratomat érvényesíteni","Nem zavarnak a rendetlen emberek","Nem vagyok vezető típus","Nem érdekel a költészet"],["Izgulós vagyok","Nehezen helyezem bele magamat mások helyzetébe","Nehezen koncentrálok a feladatra, amit éppen végzek","Ritkán robbanok szét az izgalomtól","Nem szeretek a nehéz olvasmányokat","Ritkán vesztem el a nyugalmamat","Nem helyezek másokat nyomás alá","A tökéletességre törekszem","Jó vezetőnek látom magamat","Nem látom az érzelmi hátterét egy festménynek"],["Könnyel le lehet engem törni","Keveset foglalkozom másokkal","Gyorsan elintézem a dolgaimat","Nem vagyok nagyon beszédes","Nagyon színes a szókincsem","Egy olyan ember vagyok, akinek kedve gyorsan megy fel és le","Megsértek embereket","Nem zavar a rendetlenség","Könnyen rábeszélek embereket dolgokra","Szükségem van rá, hogy szabadon engedjem a kreativitásomat"],["Nehéz zavarba hozni","Érdeklődöm mások élete iránt","Tudom, hogy mit csinálok","Kimutatom, ha boldog vagyok","Gyorsan gondolkodom","Nehezem lehet felidegesíteni","Keresem a konfliktust","Nem szeretem a rutint","Nehezen mondom el a véleményemet","Ritkán veszem el a gondolataimban"],["Könnyen kiborulok eseményektől","Nincsen puha oldalam","Halogatom el a döntéseimet","Gyakran szórakozom","Lassan tanulok","Könnyen fel lehet zaklatni","Szeretek egy jó vitát","Azt gondolom, hogy a szabályok csak útmutatók","Én vagyok az első, aki cselekszik","Ritkán ábrándozom"],["Sok félelmem van","Szeretek másoknak segíteni","Könnyen el lehet vonni a figyelmemet","Nagyon sokat nevetek","Gyorsan tudok új ötletekkel előállni","Könnyű összezavarni engem","Nem a saját érdekeimet tartom előtérben","Minden egyes részletre odafigyelek","Nem vagyok egy határozott személy","Olyan dolgokat látok szépnek, amiket mások nem vesznek észre"]],gm=3;function qS({assessmentId:t,onSubmit:e}){const[n,r]=V.useState(0),[s,i]=V.useState(Array(100).fill(null)),[l,a]=V.useState(!1),c=Oe(),d=at(),p=(A,R)=>{const M=n*10+A,T=[...s];T[M]=R,i(T),a(!1)},g=()=>{const A=s.slice(n*10,(n+1)*10);if(!A.every(T=>T!==null)){a(!0);const T=A.findIndex(x=>x===null);if(T!==-1){const x=document.getElementById(`statement-${T}-1`);x&&x.scrollIntoView({behavior:"smooth",block:"center"})}return}a(!1);const M=gu.slice(0,gm);if(n<M.length-1)r(n+1),window.scrollTo({top:0,behavior:"smooth"});else{const T=s.map(I=>I||"");e&&e(T);const x=QS(T);(async()=>{try{if(!d||!d.userID){console.warn("No active participant in context; skipping personality save"),c("/DemographicForm/CognitiveLanding",{state:{personalityResponses:T}});return}const I=ha(fa,"participants",d.userID),j={userID:d.userID,personality:{big5:{openness:x.openness,conscientiousness:x.conscientiousness,extroversion:x.extroversion,agreeableness:x.agreeableness,neuroticism:x.neuroticism},responses:{},savedAt:ps()}};T.forEach((b,L)=>{j.personality.responses[`q${L+1}`]=b}),await da(I,j,{merge:!0})}catch(I){console.error("Failed to save personality results to participant_results:",I)}finally{c("/DemographicForm/CognitiveLanding",{state:{personalityResponses:T}})}})()}},m=()=>s.slice(n*10,(n+1)*10).filter(R=>R===null).length,N=gu.slice(0,gm);return u.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:u.jsxs("div",{className:"w-full max-w-xl p-8 md:p-12 shadow-md border border-muted bg-surface rounded-3xl",children:[u.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-6 text-center",children:"Személyiségteszt"}),u.jsxs("div",{className:"mb-6",children:[u.jsxs("p",{className:"text-base text-center mb-3",children:[n+1," / ",N.length]}),u.jsx("div",{className:"w-full bg-blue-100 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300 ease-in-out",style:{width:`${(n+1)/N.length*100}%`}})})]}),N[n].map((A,R)=>{const M=n*10+R,T=s[M]!==null;return u.jsxs("div",{id:`statement-${R}`,className:`mb-5 p-5 rounded-xl transition-all duration-200 ${!T&&l?"border-2 border-red-400":""}`,style:{background:"linear-gradient(135deg, rgba(37,99,235,0.04), rgba(255,255,255,1))"},children:[u.jsx("p",{className:"mb-4 text-base leading-relaxed",children:A}),u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsxs("div",{className:"flex justify-between w-full mb-3",children:[u.jsx("span",{className:"text-sm font-semibold",children:"Nem jellemző rám"}),u.jsx("span",{className:"text-sm font-semibold",children:"Jellemző rám"})]}),u.jsx("div",{className:"flex justify-between w-full max-w-xs md:max-w-md",children:[1,2,3,4,5].map(x=>u.jsxs("label",{className:"flex flex-col items-center cursor-pointer select-none",children:[u.jsx("span",{className:"text-sm text-gray-600 mb-1",children:x}),u.jsx("input",{type:"radio",name:`q-${M}`,value:x,checked:s[M]===x.toString(),onChange:()=>p(R,x.toString()),id:`statement-${R}-${x}`,className:"w-5 h-5 border-2 border-gray-300 rounded-full accent-accent"})]},x))})]})]},R)}),u.jsxs("div",{className:"flex flex-col items-center mt-8",children:[l&&u.jsxs("div",{className:"w-full mb-4 p-3 bg-red-50 border border-red-200 text-red-800 rounded-md flex items-center",children:[u.jsxs("svg",{className:"h-5 w-5 text-red-600 mr-2",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",children:[u.jsx("path",{d:"M12 9v4",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),u.jsx("path",{d:"M12 17h.01",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),u.jsxs("span",{className:"text-sm font-medium",children:["Kérjük, válaszolj minden kérdésre (",m()," megválaszolatlan)"]})]}),u.jsx("button",{onClick:g,className:"w-full py-3 px-6 text-lg font-semibold text-white rounded-lg shadow bg-accent hover:opacity-95 transition transform",children:n===gu.length-1?"Beküld":"Következő"})]})]})})}function XS({assessmentId:t,personalityResponses:e,onComplete:n,isSubmittingFinal:r=!1}){const[s,i]=V.useState(1),[l,a]=V.useState(null),[c,d]=V.useState(60),[p,g]=V.useState(0),[m,N]=V.useState(!1),[A,R]=V.useState({});na();const M=Oe(),T=at();V.useEffect(()=>{d(60);const b=setInterval(()=>{d(L=>L<=1?(clearInterval(b),I(null),60):L-1)},1e3);return()=>clearInterval(b)},[s]);const x=b=>{a(b+1)},I=b=>{const L=`q${s}`,E={...A,[L]:b===null?0:b};R(E),b!==null&&g(v=>v+1),a(null),d(60),s<10?i(v=>v+1):N(!0)},j=()=>{n&&n(A,p),(async()=>{try{if(!T||!T.userID){console.warn("No active participant; skipping IQ save"),M("/pretest");return}const b={q1:1,q2:2,q3:3,q4:5,q5:1,q6:6,q7:4,q8:3,q9:6,q10:3};let L=0;for(let S=1;S<=10;S++){const _=`q${S}`,w=A[_];w!=null&&w===b[_]&&L++}const E=ha(fa,"participants",T.userID),v={userID:T.userID,cognitive:{responses:{},score:L,savedAt:ps()}};for(let S=1;S<=10;S++)v.cognitive.responses[`q${S}`]=A[`q${S}`]??null;await da(E,v,{merge:!0})}catch(b){console.error("Failed to save IQ score",b)}finally{M("../..//InstructionsPage/InstructionsPage")}})()};if(m){const b=U.colors,L=U.shadows,E=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${b.bg} 0%, ${b.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:b.bg,borderRadius:E.xl,boxShadow:L.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${b.accent} 0%, ${b["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Radiológiai képértékelés"}),u.jsx("p",{className:"text-lg opacity-90",style:{color:"#ffffff"},children:"Most kezdődik a fő feladat"})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:b.surface,border:`1px solid ${b.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:"#10b981",color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:b.text},children:"A pszichológiai tesztek véget értek"}),u.jsx("p",{className:"leading-relaxed",style:{color:b.text,opacity:.8},children:"Köszönjük! A személyiség és kognitív tesztek elkészültek. Most következik a kutatás fő része: orvosi képek értékelése."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:b.surface,border:`1px solid ${b.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:b.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-4",style:{color:b.text},children:"Mi következik?"}),u.jsxs("ul",{className:"space-y-3",style:{color:b.text},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:b.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"Bevezető előadás (5 perc):"})," megtanulod, hogyan ismerd fel az artritiszt radiológiai képeken"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:b.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsxs("span",{children:[u.jsx("strong",{children:"3 rész (3x30 kép):"})," kipróbálhatod a feladatot visszajelzéssel"]})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",style:{color:b.accent},fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:u.jsx("strong",{children:"Kísérlet vége"})})]})]})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-3",style:{color:"#92400e"},children:"Emlékeztető:"}),u.jsx("p",{className:"mb-3 font-semibold",style:{color:"#78350f"},children:"Az egész tesztet egyetlen ülésben, megszakítás nélkül kell elvégezni!"})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:j,disabled:r,className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg disabled:opacity-60 disabled:cursor-not-allowed",style:{backgroundColor:r?b.muted:b.accent,color:"#ffffff"},children:r?"Betöltés...":"Kezdés az előadással →"})})]})]})})}return u.jsx("div",{className:"min-h-screen bg-bg flex items-center justify-center py-12 px-4 font-sans text-text",children:u.jsxs("div",{className:"w-full max-w-3xl bg-surface p-10 md:p-12 rounded-3xl shadow-2xl border border-muted relative",children:[u.jsxs("div",{className:"pb-6 flex flex-col sm:flex-row justify-between items-center text-center sm:text-left",children:[u.jsxs("div",{children:[u.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-text mb-2",children:["Kérdés ",s," / 10"]}),u.jsx("p",{className:"text-lg text-text",children:"Válaszd ki azt a képet amelyik a legjobban beleillik a fenti képbe"})]}),u.jsxs("div",{className:"w-28 h-20 shrink-0 bg-muted p-3 rounded-xl shadow-sm mt-6 sm:mt-0",children:[u.jsx("h3",{className:"text-xs font-semibold text-center text-text mb-1",children:"Hátralévő idő"}),u.jsx("div",{className:"w-full bg-accent-2/10 rounded-full h-2 mb-1",children:u.jsx("div",{className:"bg-accent h-2 rounded-full transition-all duration-100 ease-linear",style:{width:`${c/60*100}%`}})}),u.jsxs("p",{className:"text-sm font-medium text-center text-text",children:[c," mp"]})]})]}),u.jsxs("div",{className:"space-y-8 mt-8",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"w-full overflow-hidden rounded-xl shadow-lg border border-muted",children:u.jsx("img",{src:`/cognitivePics/${s}.png`,alt:`Question ${s}`,className:"w-full h-auto object-contain mx-auto",style:{maxHeight:"45vh"}})})}),u.jsx("div",{className:"grid grid-cols-3 gap-3 md:gap-4 w-full max-w-lg mx-auto",children:[1,2,3,4,5,6].map(b=>u.jsx("button",{onClick:()=>x(b-1),className:`rounded-xl shadow-md overflow-hidden relative transition-all duration-200 transform hover:scale-105 ${l===b?"ring-4 ring-accent border-2 border-white":"border-2 border-transparent"}`,children:u.jsxs("div",{className:"w-full pt-[60%] relative",children:[u.jsx("img",{src:`/cognitivePics/${s}.${b}.png`,alt:`Option ${b}`,className:"absolute inset-0 w-full h-full object-contain"}),l===b&&u.jsx("div",{className:"absolute inset-0 bg-accent opacity-20"})]})},b))}),u.jsx("button",{onClick:()=>I(l),disabled:l===null,className:"w-full mt-8 py-3 px-8 text-lg font-semibold text-white bg-accent rounded-lg shadow hover:bg-accent-2 transition duration-300 transform hover:scale-105 disabled:opacity-60 disabled:cursor-not-allowed",children:s<10?"Következő":"Mehet"})]})]})})}const YS=()=>{const t=Oe(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=U.colors,r=U.shadows,s=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Személyiség kérdőív"}),u.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{children:"5 perc"})]}),u.jsx("div",{className:"opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{children:"44 kérdés"})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi következik?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rövid személyiségteszt, amely öt alapvető személyiségdimenziót mér. Nincsenek jó vagy rossz válaszok – csak az számít, hogy őszintén válaszolj."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Miért fontos ez a teszt?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutatás azt vizsgálja, hogy a személyiségbeli különbségek befolyásolják-e a tanulást és a teljesítményt orvosi képek értékelésében. Az eredmények segítenek megérteni, ki hogyan tanul és dolgozik mesterséges intelligencia segítségével."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:'Válaszolj őszintén – nincs elvárt vagy "helyes" válasz'})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Olvasd el figyelmesen a kérdéseket"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Az első válaszod általában a legjobb"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"A teszt ~5 percet vesz igénybe"})]})]})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:()=>t("/DemographicForm/Personality"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovább a teszthez →"})})]})]})})},JS=()=>{const t=Oe(),e=at();e!=null&&e.userID||typeof window<"u"&&sessionStorage.getItem("studyUserID");const n=U.colors,r=U.shadows,s=U.radii;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-4 sm:p-6 lg:p-8",style:{background:`linear-gradient(135deg, ${n.bg} 0%, ${n.surface} 100%)`},children:u.jsxs("div",{className:"max-w-4xl w-full",style:{backgroundColor:n.bg,borderRadius:s.xl,boxShadow:r.lg,overflow:"hidden"},children:[u.jsxs("div",{className:"px-6 py-12 sm:px-10 sm:py-14 text-center",style:{background:`linear-gradient(135deg, ${n.accent} 0%, ${n["accent-2"]} 100%)`,color:"#ffffff"},children:[u.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-4",style:{color:"#ffffff"},children:"Kognitív képességek teszt"}),u.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm opacity-90",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),u.jsx("span",{children:"10 perc"})]}),u.jsx("div",{className:"opacity-50",children:"|"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),u.jsx("span",{children:"10 kérdés"})]})]})]}),u.jsxs("div",{className:"px-6 py-10 sm:px-10 sm:py-12",children:[u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Mi következik?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"Egy rövid intelligenciatesztet fogsz kitölteni, amely logikai gondolkodást, mintafelismerést és problémamegoldást mér. Ne aggódj – a feladatok nehezednek, de senki sem oldja meg mindet."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl",style:{backgroundColor:n.surface,border:`1px solid ${n.muted}`},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 w-12 h-12 flex items-center justify-center rounded-lg",style:{backgroundColor:n["accent-2"],color:"#ffffff"},children:u.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-xl font-bold mb-3",style:{color:n.text},children:"Miért fontos ez a teszt?"}),u.jsx("p",{className:"leading-relaxed",style:{color:n.text,opacity:.8},children:"A kutatás azt vizsgálja, hogy a kognitív képességek befolyásolják-e a tanulási sebességet és a teljesítményt a radiológiai feladatban. Az eredmények segítenek megérteni, hogyan lehet optimalizálni az AI-asszisztált képértékelést."})]})]})}),u.jsx("div",{className:"mb-8 p-6 rounded-xl border-l-4",style:{backgroundColor:"#fef3c7",borderLeftColor:"#f59e0b",border:"1px solid #fde68a",borderLeft:"4px solid #f59e0b"},children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:"flex-shrink-0 text-3xl",children:"⚠️"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"text-lg font-bold mb-4",style:{color:"#92400e"},children:"Fontos:"}),u.jsxs("ul",{className:"space-y-2",style:{color:"#78350f"},children:[u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Dolgozz csendben, használj papírt és ceruzát számoláshoz"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Ne használj számológépet vagy internetet"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Nem baj, ha nem tudsz minden feladatot megoldani"})]}),u.jsxs("li",{className:"flex items-start gap-3",children:[u.jsx("svg",{className:"w-5 h-5 flex-shrink-0 mt-0.5",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),u.jsx("span",{children:"Koncentrálj, de ne stresszelj – add meg a legtöbbet, amire képes vagy"})]})]})]})]})}),u.jsx("div",{className:"flex justify-center pt-4",children:u.jsx("button",{onClick:()=>t("/DemographicForm/Cognitive"),className:"px-8 py-4 font-bold text-lg rounded-xl transition-all transform hover:scale-105 shadow-lg",style:{backgroundColor:n.accent,color:"#ffffff"},children:"Tovább a teszthez →"})})]})]})})};function ZS(){var M,T,x;let t=null;const[e,n]=V.useState(0),[r,s]=V.useState(!1),[i,l]=V.useState(!1),a=Oe(),c=at(),d=I=>{t=I},p=()=>{const I=t;if(!I)return;const j=I.currentTime/Math.max(I.duration,1)*100;n(Math.floor(j))},g=()=>{s(!0),n(100)},m=()=>{if(!r)return;if(!(sessionStorage.getItem("studyUserID")||c&&c.userID)){a("/DemographicForm/Demographics");return}const b=c&&String(c.userID||"").startsWith("1")?"experimental":"control";a(`/baseline/${b}-landing`)},N=(M=U==null?void 0:U.colors)==null?void 0:M.accent,A=(T=U==null?void 0:U.colors)==null?void 0:T.muted,R=(x=U==null?void 0:U.colors)==null?void 0:x.surface;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",children:u.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:R},children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Bevezető videó"}),u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"w-full",style:{maxWidth:1100},children:u.jsx("video",{ref:d,src:"/video.mp4",controls:!0,onTimeUpdate:p,onEnded:g,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[r&&u.jsxs("label",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:i,onChange:I=>l(I.target.checked),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Megnéztem a teljes videót és megértettem a feladatot"})]}),u.jsx("button",{disabled:!r||!i,onClick:m,"aria-disabled":!r||!i,className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:r&&i?N:A},children:"Tovább a tesztre"})]})]})})}function Rc({onSelect:t,onClose:e}){const[n,r]=V.useState(null);return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-white rounded p-6 w-96",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Mennyire vagy biztos a döntésedben?"}),u.jsxs("div",{className:"flex justify-between items-center mb-2 text-sm text-gray-600",children:[u.jsx("span",{children:"bizonytalan"}),u.jsx("span",{children:"biztos"})]}),u.jsx("div",{className:"flex justify-between items-center mb-4",children:[1,2,3,4,5,6,7].map(s=>u.jsx("button",{onClick:()=>{r(s),t(s)},className:`px-3 py-2 rounded border ${n===s?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:s},s))})]})})}function eT({imageSrc:t,onComplete:e}){const[n,r]=V.useState(null),[s,i]=V.useState(!1),l=V.useRef(null);V.useEffect(()=>{l.current=Date.now(),r(null),i(!1)},[t]);const a=()=>{i(!0)},c=d=>{const p=Date.now(),g=l.current,m=g?(p-g)/1e3:0;i(!1),e({response:n,confidence:d,time_sec:m}),r(null),i(!1)};return u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"mb-4",children:u.jsx("img",{src:t,alt:"stim",className:"w-full h-72 object-contain rounded border"})}),u.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[u.jsx("button",{type:"button",onClick:()=>r("igen"),className:`px-4 py-2 rounded border ${n==="igen"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"igen"}),u.jsx("button",{type:"button",onClick:()=>r("nem"),className:`px-4 py-2 rounded border ${n==="nem"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100`,children:"nem"})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{disabled:!n,onClick:a,className:`px-6 py-2 rounded ${n?"bg-accent text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,children:"Continue"})}),s&&u.jsx(Rc,{onSelect:c,onClose:()=>i(!1)})]})})}function tT({src:t,onChange:e,overlayBox:n,imgRef:r,enabled:s=!0}){const i=r||V.useRef(null),l=V.useRef(null),a=V.useRef(null),[c,d]=V.useState(!1),[p,g]=V.useState(null),[m,N]=V.useState(null),A=_=>{if(!_)return null;if(typeof _.clientX=="number"&&typeof _.clientY=="number")return{clientX:_.clientX,clientY:_.clientY};const w=_.touches&&_.touches[0]?_.touches[0]:_.changedTouches&&_.changedTouches[0]?_.changedTouches[0]:null;return w?{clientX:w.clientX,clientY:w.clientY}:null},R=(_,w)=>{const C=i.current;if(!C)return null;const k=C.getBoundingClientRect(),q=Math.max(0,Math.min(k.width,_-k.left)),ae=Math.max(0,Math.min(k.height,w-k.top));return{x:q,y:ae,rect:k}},M=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),k=w.naturalWidth/C.width,q=w.naturalHeight/C.height;return{x:Math.round(_.x*k),y:Math.round(_.y*q),width:Math.round(_.width*k),height:Math.round(_.height*q)}},T=_=>{const w=i.current;if(!w||!_)return null;const C=w.getBoundingClientRect(),k=C.width/w.naturalWidth,q=C.height/w.naturalHeight;return{x:_.x*k,y:_.y*q,width:_.width*k,height:_.height*q}},x=()=>{const _=i.current,w=l.current;if(!_||!w)return;const C=_.getBoundingClientRect();w.width=Math.round(C.width),w.height=Math.round(C.height),w.style.width=`${Math.round(C.width)}px`,w.style.height=`${Math.round(C.height)}px`;try{if(a&&a.current){const k=a.current.parentElement;if(k){const q=k.getBoundingClientRect(),ae=Math.round(C.left-q.left),ie=Math.round(C.top-q.top);a.current.style.position="absolute",a.current.style.left=`${ae}px`,a.current.style.top=`${ie}px`,a.current.style.width=`${Math.round(C.width)}px`,a.current.style.height=`${Math.round(C.height)}px`}else a.current.style.width=`${Math.round(C.width)}px`,a.current.style.height=`${Math.round(C.height)}px`;a.current.style.pointerEvents=s?"auto":"none"}}catch{}E()};V.useEffect(()=>(window.addEventListener("resize",x),()=>window.removeEventListener("resize",x)),[]),V.useEffect(()=>{if(n){const _=T(n);N(_)}else N(null)},[n]);const I=_=>{if(!s)return;const w=A(_);if(!w)return;const C=R(w.clientX,w.clientY);C&&(g({x:C.x,y:C.y}),d(!0))},j=_=>{if(!s||!c||!p)return;const w=A(_);if(!w)return;const C=R(w.clientX,w.clientY);if(!C)return;const k=Math.min(p.x,C.x),q=Math.min(p.y,C.y),ae=Math.abs(C.x-p.x),ie=Math.abs(C.y-p.y);N({x:k,y:q,width:ae,height:ie}),E()},b=_=>{if(!m){d(!1),g(null);return}try{_&&_.preventDefault&&_.preventDefault()}catch{}const w=M(m);e(w),d(!1),g(null)},L=()=>{N(null),e(null),E()},E=()=>{const _=l.current;if(!_)return;const w=_.getContext("2d");w&&(w.clearRect(0,0,_.width,_.height),m&&(w.strokeStyle="rgba(16,185,129,0.95)",w.lineWidth=2,w.setLineDash([6,4]),w.strokeRect(m.x,m.y,m.width,m.height),w.fillStyle="rgba(16,185,129,0.12)",w.fillRect(m.x,m.y,m.width,m.height)))},v=_=>{if(!m)return;const w=R(_.clientX,_.clientY);if(!w)return;const C=m.x+m.width-10,k=m.y+10,q=w.x-C,ae=w.y-k;q*q+ae*ae<=10*10&&L()};return V.useEffect(()=>{const _=i.current;if(!_)return;const w=()=>{x()};try{_.addEventListener&&_.addEventListener("load",w)}catch{}x();const C=l.current,k=ie=>{ie.preventDefault&&ie.preventDefault(),j(ie)},q=ie=>{ie.preventDefault&&ie.preventDefault(),I(ie)},ae=ie=>{ie.preventDefault&&ie.preventDefault(),b(ie)};try{C&&C.addEventListener&&(C.addEventListener("touchstart",q,{passive:!1}),C.addEventListener("touchmove",k,{passive:!1}),C.addEventListener("touchend",ae,{passive:!1}),C.addEventListener("touchcancel",ae,{passive:!1}))}catch{}return()=>{try{_.removeEventListener&&_.removeEventListener("load",w),C&&C.removeEventListener&&(C.removeEventListener("touchstart",q),C.removeEventListener("touchmove",k),C.removeEventListener("touchend",ae),C.removeEventListener("touchcancel",ae))}catch{}}},[t]),V.useEffect(()=>{E()},[m,n]),!r?u.jsxs("div",{className:"w-full",ref:a,children:[u.jsxs("div",{className:"relative w-full border rounded-md overflow-hidden",style:{height:"18rem"},children:[u.jsx("img",{ref:i,src:t,alt:"annotation",className:"w-full h-full object-contain block",draggable:!1}),u.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:b,onClick:v,style:{position:"absolute",left:0,top:0,pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}})]}),u.jsx("div",{className:"mt-2 flex gap-2",children:u.jsx("button",{className:"px-3 py-1 bg-gray-100 rounded",onClick:L,children:"Clear box"})})]}):u.jsxs("div",{ref:a,style:{position:"absolute",left:0,top:0,width:0,height:0,pointerEvents:"none"},children:[u.jsx("canvas",{ref:l,onPointerDown:I,onPointerMove:j,onPointerUp:b,onClick:v,style:{position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:s?"auto":"none",touchAction:"none",cursor:s?"crosshair":"default"}}),m&&u.jsx("button",{onClick:L,style:{position:"absolute",left:m.x+m.width-12,top:m.y-12,width:24,height:24,borderRadius:12,background:"white",border:"1px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",cursor:"pointer"},title:"Clear box",children:"×"})]})}function nT({imageSrc:t,userBox:e,aiBox:n,aiPrediction:r,aiConfidence:s,iouPercent:i,initialDecision:l,onRevise:a,onContinue:c}){const[d,p]=V.useState(l??r),g=V.useRef(null),m=V.useRef(null),N=V.useRef(null);return V.useEffect(()=>{const A=g.current,R=m.current,M=N.current;if(!A||!R||!M)return;const T=R.getContext("2d");if(!T)return;const x=()=>{const E=A.getBoundingClientRect(),v=M.getBoundingClientRect(),S=Math.round(E.left-v.left),_=Math.round(E.top-v.top),w=Math.round(E.width),C=Math.round(E.height);R.style.position="absolute",R.style.left=`${S}px`,R.style.top=`${_}px`,R.style.width=`${w}px`,R.style.height=`${C}px`,R.width=w,R.height=C},I=()=>{x(),T.clearRect(0,0,R.width,R.height);const E=(v,S,_)=>{if(!v)return;const w=A.naturalWidth||1,C=A.naturalHeight||1,k=(A.clientWidth||R.width)/w,q=(A.clientHeight||R.height)/C,ae=v.x*k,ie=v.y*q,Zt=v.width*k,$=v.height*q;T.strokeStyle=S,T.lineWidth=2,T.strokeRect(ae,ie,Zt,$),T.fillStyle=S,T.font="12px sans-serif",T.fillText(_,ae+4,ie+12)};E(n,"rgba(220,20,60,0.9)","AI"),E(e,"rgba(30,144,255,0.9)","You")};A.complete&&I();const j=()=>I(),b=()=>I();window.addEventListener("resize",b),A.addEventListener("load",j);const L=new ResizeObserver(()=>I());return L.observe(M),()=>{window.removeEventListener("resize",b),A.removeEventListener("load",j),L.disconnect()}},[t,e,n]),u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:u.jsxs("div",{className:"bg-white rounded p-4 max-w-3xl w-full",children:[u.jsx("h3",{className:"text-lg font-semibold mb-3",children:"AI eredmény"}),u.jsxs("div",{className:"flex gap-4",children:[u.jsxs("div",{className:"w-2/3",children:[u.jsxs("div",{className:"relative border rounded",children:[u.jsx("img",{ref:g,src:t,alt:"stim",className:"w-full h-72 object-contain"}),u.jsx("canvas",{ref:m,className:"absolute top-0 left-0 pointer-events-none"})]}),u.jsxs("p",{className:"mt-2 text-sm",children:["DoBoV overlap: ",u.jsxs("strong",{children:[Math.round(i),"%"]})]})]}),u.jsxs("div",{className:"w-1/3",children:[u.jsxs("p",{className:"mb-2",children:["AI predikció: ",u.jsx("strong",{children:r})]}),u.jsxs("p",{className:"mb-2",children:["AI biztonság: ",u.jsxs("strong",{children:[Math.round(s*100),"%"]})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block mb-1",children:"Javítsd a döntésed (ha szükséges):"}),u.jsxs("select",{className:"w-full p-2 border rounded",value:d,onChange:A=>p(A.target.value),children:[u.jsx("option",{value:"yes",children:"Igen"}),u.jsx("option",{value:"no",children:"Nem"})]})]}),u.jsx("div",{className:"flex justify-end gap-2",children:u.jsx("button",{onClick:()=>{a(d),c()},className:"px-3 py-2 rounded bg-accent text-white",children:"Mehet"})})]})]})]})})}function ym(t,e){const n=Math.max(t.x,e.x),r=Math.max(t.y,e.y),s=Math.min(t.x+t.width,e.x+e.width),i=Math.min(t.y+t.height,e.y+e.height),l=Math.max(0,s-n)*Math.max(0,i-r),a=t.width*t.height,c=e.width*e.height,d=a+c-l;return d<=0?0:l/d}function rT({imageSrc:t,onComplete:e,aiPrediction:n,aiBox:r,aiConfidence:s}){const[i,l]=V.useState(null),[a,c]=V.useState(null),[d,p]=V.useState(null),[g,m]=V.useState(!1),[N,A]=V.useState(!1),[R,M]=V.useState(!1),[T,x]=V.useState(!1),I=V.useRef(null),[j,b]=V.useState(null),[L,E]=V.useState(null),[v,S]=V.useState(null);V.useEffect(()=>{I.current=Date.now(),l(null),c(null),p(null),m(!1),A(!1),M(!1),x(!1),b(null),E(null),S(null)},[t]);const _=a==="tünet"||a==="bizonytalan",w=!!a&&(a==="nincsen tünet"||a==="bizonytalan"||a==="tünet"&&!!d),C=w&&!!i,k=()=>m(K=>!K),q=()=>{M(!0)},ae=K=>{b(K)},ie=()=>{A(!1),x(!0)},Zt=K=>{E(K),M(!1),A(!0)},$=K=>{S(K),x(!1);const re=Date.now(),ve=I.current?(re-I.current)/1e3:0,en=j||i,ut=d&&r?ym(d,r):null,tn=j!=null&&j!==i;e({initial_decision:i,dropdown_choice:a,user_box:d,ai_box:r,ai_prediction:n,ai_confidence:s,bbox_iou:ut,decision_revised_after_ai:tn,final_decision:en,initial_confidence:L,post_ai_confidence:K,time_sec:ve})},Q=V.useRef(null);return u.jsx("div",{className:"w-full",children:u.jsxs("div",{className:"max-w-3xl mx-auto",children:[u.jsx("div",{className:"mb-4",children:u.jsxs("div",{className:"relative border rounded-md overflow-hidden",style:{height:"18rem"},children:[u.jsx("img",{ref:Q,src:t,alt:"stim",className:"w-full h-full object-contain block",draggable:!1}),u.jsx("div",{className:"absolute left-4 top-4 bg-white/60 px-2 py-1 rounded text-sm",children:"baseline (AI)"}),u.jsx(tT,{imgRef:Q,onChange:K=>{p(K)},overlayBox:d,enabled:g&&_})]})}),u.jsxs("div",{className:"flex justify-center mb-4",children:[u.jsxs("select",{value:a||"",onChange:K=>{const re=K.target.value;c(re),m(re==="tünet"||re==="bizonytalan")},className:"p-2 border rounded",children:[u.jsx("option",{value:"",children:"Válassz opciót"}),u.jsx("option",{value:"tünet",children:"tünet"}),u.jsx("option",{value:"bizonytalan",children:"bizonytalan"}),u.jsx("option",{value:"nincsen tünet",children:"nincsen tünet"})]}),u.jsx("button",{onClick:k,disabled:!_,className:`ml-2 px-3 py-2 rounded ${g?"bg-green-500 text-white":"bg-gray-100"} disabled:opacity-50`,children:"Rajzolás"})]}),u.jsxs("div",{className:"flex gap-4 justify-center mb-4",children:[u.jsx("button",{onClick:()=>w&&l("yes"),disabled:!w,className:`px-4 py-2 rounded border ${i==="yes"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"igen"}),u.jsx("button",{onClick:()=>w&&l("no"),disabled:!w,className:`px-4 py-2 rounded border ${i==="no"?"border-2 border-accent text-accent":"border-gray-200"} bg-gray-100 ${w?"":"opacity-60 cursor-not-allowed"}`,children:"nem"})]}),u.jsx("div",{className:"mb-4"}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{disabled:!C,onClick:q,className:`px-6 py-2 rounded ${C?"bg-accent text-white":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Következő"})}),N&&u.jsx(nT,{imageSrc:t,userBox:d,aiBox:r,aiPrediction:n,aiConfidence:s,iouPercent:d&&r?ym(d,r)*100:0,initialDecision:i,onRevise:ae,onContinue:ie}),R&&u.jsx(Rc,{onSelect:Zt,onClose:()=>M(!1)}),T&&u.jsx(Rc,{onSelect:$,onClose:()=>x(!1)})]})})}function Jt({phase:t,mode:e,poolFolder:n,trialsCount:r=10,onFinish:s}){const i=at(),l=Uy(),a=Oe(),[c,d]=V.useState(0),[p,g]=V.useState([]),m=t||l.phase||"baseline",N=n||m;V.useEffect(()=>{const I=[];for(let j=1;j<=r;j++)I.push(`/annotation/${N}/${j}.png`);g(I)},[N,r]);const A=e||(()=>{if(!i||!i.treatmentGroup||m==="baseline"||m==="screening")return"noai";const I=String(i.treatmentGroup||"");return I==="treatment"||I==="1"||I.startsWith("1")?"ai":"noai"})(),R=p[c%p.length],M=async I=>{if(!i||!i.userID){console.warn("No userID, skipping save");return}const j=`${m}_${c+1}`,b={phase:m,trialNum:c+1,trialType:m,trialIndex:c+1,imageID:R,timestamp:ps(),treatmentGroup:i.treatmentGroup,...I};try{await da(ha(fa,"participants",i.userID),{userID:i.userID,sessionActive:!0,currentPhase:m,lastTrialAt:ps(),trials:{[j]:b}},{merge:!0})}catch(L){console.error("Failed to save trial",L)}},T=async I=>{if(await M(I),c+1>=r)if(s)s();else{const j=["baseline","experiment","posttest","done"],b=j.indexOf(m),L=b>=0&&b<j.length-1?j[b+1]:"done";if(L==="done")a("/done");else{const E=i&&String(i.userID||"").startsWith("1")?"experimental":"control";a(`/${L}/${E}-landing`)}}else d(c+1)},x={aiPrediction:"yes",aiBox:{x:120,y:80,width:200,height:150},aiConfidence:.71};return u.jsx("div",{className:"min-h-screen p-6 bg-bg",children:u.jsxs("div",{className:"max-w-4xl mx-auto",children:[u.jsxs("h2",{className:"text-xl font-bold mb-4",children:[m," (",A==="ai"?"AI":"No AI",")"]}),A==="noai"?u.jsx(eT,{imageSrc:R,onComplete:T},`trial-${c}`):u.jsx(rT,{imageSrc:R,onComplete:T,aiPrediction:x.aiPrediction,aiBox:x.aiBox,aiConfidence:x.aiConfidence},`trial-${c}`)]})})}function sT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test control (id starting with 0)"}),u.jsx("p",{className:"mb-6",children:"This is the landing page for control participants (userID starts with 0). Press start to begin the pre-test."}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/pretest/control"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (control)"})})]})})}function iT(){return u.jsx(Jt,{phase:"pretest",mode:"noai",poolFolder:"screening",trialsCount:5})}function oT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"pre-test experimental (id starting with 1)"}),u.jsx("p",{className:"mb-6",children:"This is the landing page for experimental participants (userID starts with 1). Press start to begin the pre-test."}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/pretest/experimental"),className:"px-6 py-3 bg-accent text-white rounded",children:"Start pre-test (experimental)"})})]})})}function lT(){return u.jsx(Jt,{phase:"pretest",mode:"ai",poolFolder:"screening",trialsCount:5})}function aT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Első feladat feladat 1/3"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-base mb-6",style:{color:U.colors.text},children:"Most 5 képet fogsz értékelni."}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"⚠️ Fontos:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Gondold át figyelmesen minden döntésedet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/baseline/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function uT(){return u.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function cT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Első feladat feladat 1/3"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsx("p",{className:"text-base mb-6",style:{color:U.colors.text},children:"Most 5 képet fogsz értékelni."}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"⚠️ Fontos:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Gondold át figyelmesen minden döntésedet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/baseline/experimental"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function hT(){return u.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline",trialsCount:5})}function dT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"2. szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"5 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Jó munkát végeztél!",u.jsx("br",{}),"Most következik a második értékelési szakasz, összesen háromból. Ugyanazt a feladatot fogod végezni: artritisz felismerése és jelölése a képeken."]}),u.jsxs("div",{className:"mb-6 p-4 rounded-md",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 text-left",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 5 radiológiai képet"}),u.jsx("li",{children:"Törekedj a maximális pontosságra"}),u.jsx("li",{children:"Dolgozz a saját tempódban"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/experiment/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function fT(){return u.jsx(Jt,{phase:"experiment",mode:"noai",poolFolder:"experiment",trialsCount:5})}function pT(){var m,N,A;const[t,e]=V.useState(!1),[n,r]=V.useState(!1),s=Oe(),i=at();V.useEffect(()=>{const R=sessionStorage.getItem("studyUserID")||i&&i.userID;console.debug("ExperimentExperimentalLanding effect, session uid=",sessionStorage.getItem("studyUserID"),"app.userID=",i&&i.userID),i&&(R||(console.warn("No user id found in app or sessionStorage — redirecting to demographics"),s("/DemographicForm/Demographics")))},[i,s]);const l=R=>{},a=()=>{e(!0)},c=()=>{s("/experiment/experimental")},d=(m=U==null?void 0:U.colors)==null?void 0:m.accent,p=(N=U==null?void 0:U.colors)==null?void 0:N.muted,g=(A=U==null?void 0:U.colors)==null?void 0:A.surface;return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6 bg-bg text-text",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-6xl bg-surface rounded-lg shadow-md p-6 border border-muted",style:{backgroundColor:g},children:[u.jsx("h1",{className:"text-2xl font-bold mb-4",children:"experiment experimental (id starting with 1)"}),u.jsx("div",{className:"mb-6 flex justify-center",children:u.jsx("div",{className:"w-full",style:{maxWidth:1100},children:u.jsx("div",{className:"mb-6 rounded-md overflow-hidden",style:{boxShadow:U.shadows.md,backgroundColor:"#000"},children:u.jsx("video",{ref:l,src:"/video.mp4",controls:!0,onEnded:a,className:"w-full rounded-md bg-black",style:{width:"100%",height:"auto",maxHeight:"65vh",display:"block",borderRadius:"0.5rem",backgroundColor:"#000"}})})})}),u.jsxs("div",{className:"mt-6 flex flex-col items-center gap-4",children:[t&&u.jsxs("label",{className:"flex items-center gap-3",children:[u.jsx("input",{type:"checkbox",checked:n,onChange:R=>r(R.target.checked),className:"w-4 h-4"}),u.jsx("span",{className:"text-sm",children:"Megnéztem a videót"})]}),u.jsx("button",{onClick:c,disabled:!(t&&n),"aria-disabled":!(t&&n),className:"px-6 py-3 rounded-md font-semibold text-white transition-colors disabled:opacity-60",style:{backgroundColor:t&&n?d:p},children:"Kezdés →"}),u.jsxs("div",{className:"w-full max-w-2xl mt-6 text-left bg-white border p-3 rounded",style:{borderColor:p},children:[u.jsx("h4",{className:"font-semibold mb-2",children:"Debug / session info"}),u.jsxs("p",{className:"text-sm",children:["sessionStorage.studyUserID:"," ",u.jsx("code",{children:sessionStorage.getItem("studyUserID")||"null"})]}),u.jsxs("p",{className:"text-sm",children:["app.userID: ",u.jsx("code",{children:i&&i.userID||"null"})]}),u.jsxs("p",{className:"text-sm",children:["app.treatmentGroup: ",u.jsx("code",{children:i&&i.treatmentGroup||"null"})]}),u.jsxs("div",{className:"mt-2",children:[u.jsx("button",{onClick:()=>s("/experiment/experimental"),className:"px-3 py-1 bg-gray-200 rounded mr-2",children:"Continue anyway"}),u.jsx("button",{onClick:()=>{sessionStorage.removeItem("studyUserID"),s("/DemographicForm/Demographics")},className:"px-3 py-1 bg-red-100 rounded",children:"Clear session and restart"})]})]})]})]})})}function mT(){return u.jsx(Jt,{phase:"experiment",mode:"ai",poolFolder:"experiment",trialsCount:5})}function gT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"Utolsó szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"30 kép"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Szép munka, majdnem kész vagy!",u.jsx("br",{}),"Ez az utolsó értékelési szakasz. Még 30 képet kell értékelned, ugyanazzal a módszerrel, mint eddig."]}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 30 radiológiai képet"}),u.jsx("li",{children:"Döntsd el: van-e artritisz"}),u.jsx("li",{children:"Jelöld meg a gyanús területet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/posttest/control"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function yT(){return u.jsx(Jt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function vT(){const t=Oe(),e=at();return V.useEffect(()=>{sessionStorage.getItem("studyUserID")||e&&e.userID||t("/DemographicForm/Demographics")},[]),u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",style:{backgroundColor:U.colors.bg},children:u.jsxs("div",{className:"w-full max-w-2xl rounded-xl overflow-hidden",style:{backgroundColor:U.colors.surface,boxShadow:U.shadows.lg},children:[u.jsxs("div",{className:"px-8 py-6 text-center",style:{background:`linear-gradient(135deg, ${U.colors.accent} 0%, ${U.colors["accent-2"]} 100%)`},children:[u.jsx("h1",{className:"text-2xl font-bold text-white",children:"3. szakasz"}),u.jsx("p",{className:"text-white/90 mt-1",children:"30 kép | Utolsó kör"})]}),u.jsxs("div",{className:"p-6",children:[u.jsxs("p",{className:"text-base mb-6",style:{color:U.colors.text},children:["Utolsó szakasz!",u.jsx("br",{}),"A harmadik és egyben utolsó értékelési szakaszban visszatérünk az eredeti feladathoz: most ismét önállóan, AI segítség nélkül fogod értékelni a képeket."]}),u.jsxs("div",{className:"p-4 rounded-md mb-6",style:{backgroundColor:U.colors.muted},children:[u.jsx("h3",{className:"font-semibold mb-2",style:{color:U.colors.text},children:"Mit kell tenned:"}),u.jsxs("ul",{className:"list-disc pl-5 space-y-1 text-sm",style:{color:U.colors.text},children:[u.jsx("li",{children:"Értékelj 30 radiológiai képet"}),u.jsx("li",{children:"Döntsd el önállóan: van-e artritisz"}),u.jsx("li",{children:"Jelöld meg a gyanús területet"})]})]}),u.jsx("div",{className:"flex justify-center",children:u.jsx("button",{onClick:()=>t("/posttest/experimental"),className:"px-8 py-3 rounded-lg font-semibold text-white",style:{backgroundColor:U.colors.accent,boxShadow:U.shadows.md},children:"Kezdés →"})})]})]})})}function _T(){return u.jsx(Jt,{phase:"posttest",mode:"noai",poolFolder:"post_experiment",trialsCount:5})}function xT(){const t=Uy(),e=Oe();return V.useEffect(()=>{const n=t.rest||"";e(`/posttest/${n}`,{replace:!0})},[t,e]),null}function wT(){return u.jsx("main",{className:"min-h-screen flex items-center justify-center p-6",children:u.jsxs("div",{className:"max-w-2xl w-full text-center",children:[u.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Köszönjük!"}),u.jsx("p",{className:"mb-6",children:"A kísérlet befejeződött. Köszönjük a részvételt!"})]})})}function ET(){return u.jsxs(Yx,{children:[u.jsx(oe,{path:"/",element:u.jsx(sw,{})}),u.jsx(oe,{path:"/DemographicForm/Demographics",element:u.jsx(zS,{})}),u.jsx(oe,{path:"/DemographicForm/PersonalityLanding",element:u.jsx(YS,{})}),u.jsx(oe,{path:"/DemographicForm/Personality",element:u.jsx(qS,{})}),u.jsx(oe,{path:"/test/baseline",element:u.jsx(Jt,{phase:"baseline",mode:"noai",poolFolder:"baseline"})}),u.jsx(oe,{path:"/test/:phase",element:u.jsx(Jt,{phase:void 0,mode:"noai",poolFolder:"baseline"})}),u.jsx(oe,{path:"/pretest",element:u.jsx(qx,{to:"/baseline/control-landing",replace:!0})}),u.jsx(oe,{path:"/pretest/control-landing",element:u.jsx(sT,{})}),u.jsx(oe,{path:"/pretest/control",element:u.jsx(iT,{})}),u.jsx(oe,{path:"/pretest/experimental-landing",element:u.jsx(oT,{})}),u.jsx(oe,{path:"/pretest/experimental",element:u.jsx(lT,{})}),u.jsx(oe,{path:"/baseline/control-landing",element:u.jsx(aT,{})}),u.jsx(oe,{path:"/baseline/control",element:u.jsx(uT,{})}),u.jsx(oe,{path:"/baseline/experimental-landing",element:u.jsx(cT,{})}),u.jsx(oe,{path:"/baseline/experimental",element:u.jsx(hT,{})}),u.jsx(oe,{path:"/experiment/control-landing",element:u.jsx(dT,{})}),u.jsx(oe,{path:"/experiment/control",element:u.jsx(fT,{})}),u.jsx(oe,{path:"/experiment/experimental-landing",element:u.jsx(pT,{})}),u.jsx(oe,{path:"/experiment/experimental",element:u.jsx(mT,{})}),u.jsx(oe,{path:"/posttest/control-landing",element:u.jsx(gT,{})}),u.jsx(oe,{path:"/posttest/control",element:u.jsx(yT,{})}),u.jsx(oe,{path:"/posttest/experimental-landing",element:u.jsx(vT,{})}),u.jsx(oe,{path:"/posttest/experimental",element:u.jsx(_T,{})}),u.jsx(oe,{path:"/post_experiment/:rest",element:u.jsx(xT,{})}),u.jsx(oe,{path:"/done",element:u.jsx(wT,{})}),u.jsx(oe,{path:"/DemographicForm/CognitiveLanding",element:u.jsx(JS,{})}),u.jsx(oe,{path:"/DemographicForm/Cognitive",element:u.jsx(XS,{})}),u.jsx(oe,{path:"/InstructionsPage/InstructionsPage",element:u.jsx(ZS,{})})]})}const kT=Py(document.getElementById("root"));kT.render(u.jsx(V.StrictMode,{children:u.jsx(Zx,{children:u.jsx(MS,{children:u.jsx(ET,{})})})}));
